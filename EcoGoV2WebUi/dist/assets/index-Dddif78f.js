function s4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MC={exports:{}},hm={},$C={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=Symbol.for("react.element"),l4=Symbol.for("react.portal"),c4=Symbol.for("react.fragment"),u4=Symbol.for("react.strict_mode"),f4=Symbol.for("react.profiler"),d4=Symbol.for("react.provider"),h4=Symbol.for("react.context"),p4=Symbol.for("react.forward_ref"),m4=Symbol.for("react.suspense"),g4=Symbol.for("react.memo"),v4=Symbol.for("react.lazy"),CE=Symbol.iterator;function y4(t){return t===null||typeof t!="object"?null:(t=CE&&t[CE]||t["@@iterator"],typeof t=="function"?t:null)}var LC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FC=Object.assign,VC={};function kl(t,e,n){this.props=t,this.context=e,this.refs=VC,this.updater=n||LC}kl.prototype.isReactComponent={};kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UC(){}UC.prototype=kl.prototype;function jb(t,e,n){this.props=t,this.context=e,this.refs=VC,this.updater=n||LC}var Rb=jb.prototype=new UC;Rb.constructor=jb;FC(Rb,kl.prototype);Rb.isPureReactComponent=!0;var kE=Array.isArray,BC=Object.prototype.hasOwnProperty,Db={current:null},zC={key:!0,ref:!0,__self:!0,__source:!0};function WC(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)BC.call(e,r)&&!zC.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Tf,type:t,key:a,ref:o,props:i,_owner:Db.current}}function x4(t,e){return{$$typeof:Tf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tf}function b4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var NE=/\/+/g;function sv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b4(""+t.key):e.toString(36)}function Qd(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tf:case l4:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sv(o,0):r,kE(i)?(n="",t!=null&&(n=t.replace(NE,"$&/")+"/"),Qd(i,e,n,"",function(c){return c})):i!=null&&(Mb(i)&&(i=x4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(NE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kE(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+sv(a,s);o+=Qd(a,e,n,l,i)}else if(l=y4(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+sv(a,s++),o+=Qd(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hd(t,e,n){if(t==null)return t;var r=[],i=0;return Qd(t,r,"","",function(a){return e.call(n,a,i++)}),r}function w4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},Jd={transition:null},_4={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:Jd,ReactCurrentOwner:Db};function qC(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:hd,forEach:function(t,e,n){hd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hd(t,function(){e++}),e},toArray:function(t){return hd(t,function(e){return e})||[]},only:function(t){if(!Mb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=kl;Re.Fragment=c4;Re.Profiler=f4;Re.PureComponent=jb;Re.StrictMode=u4;Re.Suspense=m4;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_4;Re.act=qC;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=FC({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Db.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)BC.call(e,l)&&!zC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Tf,type:t.type,key:i,ref:a,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:h4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:d4,_context:t},t.Consumer=t};Re.createElement=WC;Re.createFactory=function(t){var e=WC.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:p4,render:t}};Re.isValidElement=Mb;Re.lazy=function(t){return{$$typeof:v4,_payload:{_status:-1,_result:t},_init:w4}};Re.memo=function(t,e){return{$$typeof:g4,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Jd.transition;Jd.transition={};try{t()}finally{Jd.transition=e}};Re.unstable_act=qC;Re.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Re.useContext=function(t){return Tn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Re.useId=function(){return Tn.current.useId()};Re.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Re.useRef=function(t){return Tn.current.useRef(t)};Re.useState=function(t){return Tn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return Tn.current.useTransition()};Re.version="18.3.1";$C.exports=Re;var D=$C.exports;const L=Ge(D),E4=s4({__proto__:null,default:L},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T4=D,S4=Symbol.for("react.element"),A4=Symbol.for("react.fragment"),P4=Object.prototype.hasOwnProperty,I4=T4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O4={key:!0,ref:!0,__self:!0,__source:!0};function HC(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)P4.call(e,r)&&!O4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:S4,type:t,key:a,ref:o,props:i,_owner:I4.current}}hm.Fragment=A4;hm.jsx=HC;hm.jsxs=HC;MC.exports=hm;var p=MC.exports,KC={exports:{}},qn={},GC={exports:{}},YC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,F){var U=M.length;M.push(F);e:for(;0<U;){var q=U-1>>>1,W=M[q];if(0<i(W,F))M[q]=F,M[U]=W,U=q;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],U=M.pop();if(U!==F){M[0]=U;e:for(var q=0,W=M.length,X=W>>>1;q<X;){var ee=2*(q+1)-1,fe=M[ee],he=ee+1,Oe=M[he];if(0>i(fe,U))he<W&&0>i(Oe,fe)?(M[q]=Oe,M[he]=U,q=he):(M[q]=fe,M[ee]=U,q=ee);else if(he<W&&0>i(Oe,U))M[q]=Oe,M[he]=U,q=he;else break e}}return F}function i(M,F){var U=M.sortIndex-F.sortIndex;return U!==0?U:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,m=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=M)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function C(M){if(b=!1,w(M),!x)if(n(l)!==null)x=!0,z(S);else{var F=n(c);F!==null&&V(C,F.startTime-M)}}function S(M,F){x=!1,b&&(b=!1,v(T),T=-1),m=!0;var U=h;try{for(w(F),f=n(l);f!==null&&(!(f.expirationTime>F)||M&&!N());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var W=q(f.expirationTime<=F);F=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),w(F)}else r(l);f=n(l)}if(f!==null)var X=!0;else{var ee=n(c);ee!==null&&V(C,ee.startTime-F),X=!1}return X}finally{f=null,h=U,m=!1}}var A=!1,E=null,T=-1,P=5,I=-1;function N(){return!(t.unstable_now()-I<P)}function j(){if(E!==null){var M=t.unstable_now();I=M;var F=!0;try{F=E(!0,M)}finally{F?k():(A=!1,E=null)}}else A=!1}var k;if(typeof g=="function")k=function(){g(j)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,$=B.port2;B.port1.onmessage=j,k=function(){$.postMessage(null)}}else k=function(){y(j,0)};function z(M){E=M,A||(A=!0,k())}function V(M,F){T=y(function(){M(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,z(S))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var U=h;h=F;try{return M()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=h;h=M;try{return F()}finally{h=U}},t.unstable_scheduleCallback=function(M,F,U){var q=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=U+W,M={id:u++,callback:F,priorityLevel:M,startTime:U,expirationTime:W,sortIndex:-1},U>q?(M.sortIndex=U,e(c,M),n(l)===null&&M===n(c)&&(b?(v(T),T=-1):b=!0,V(C,U-q))):(M.sortIndex=W,e(l,M),x||m||(x=!0,z(S))),M},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(M){var F=h;return function(){var U=h;h=F;try{return M.apply(this,arguments)}finally{h=U}}}})(YC);GC.exports=YC;var C4=GC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4=D,Wn=C4;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XC=new Set,pu={};function Vo(t,e){Bs(t,e),Bs(t+"Capture",e)}function Bs(t,e){for(pu[t]=e,t=0;t<e.length;t++)XC.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=Object.prototype.hasOwnProperty,N4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jE={},RE={};function j4(t){return Ay.call(RE,t)?!0:Ay.call(jE,t)?!1:N4.test(t)?RE[t]=!0:(jE[t]=!0,!1)}function R4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function D4(t,e,n,r){if(e===null||typeof e>"u"||R4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var $b=/[\-:]([a-z])/g;function Lb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($b,Lb);en[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($b,Lb);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($b,Lb);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fb(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(D4(e,n,i,r)&&(n=null),r||i===null?j4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ci=k4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pd=Symbol.for("react.element"),fs=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),Vb=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),QC=Symbol.for("react.provider"),JC=Symbol.for("react.context"),Ub=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),Oy=Symbol.for("react.suspense_list"),Bb=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),ZC=Symbol.for("react.offscreen"),DE=Symbol.iterator;function gc(t){return t===null||typeof t!="object"?null:(t=DE&&t[DE]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,lv;function Rc(t){if(lv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lv=e&&e[1]||""}return`
`+lv+t}var cv=!1;function uv(t,e){if(!t||cv)return"";cv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{cv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rc(t):""}function M4(t){switch(t.tag){case 5:return Rc(t.type);case 16:return Rc("Lazy");case 13:return Rc("Suspense");case 19:return Rc("SuspenseList");case 0:case 2:case 15:return t=uv(t.type,!1),t;case 11:return t=uv(t.type.render,!1),t;case 1:return t=uv(t.type,!0),t;default:return""}}function Cy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case fs:return"Portal";case Py:return"Profiler";case Vb:return"StrictMode";case Iy:return"Suspense";case Oy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JC:return(t.displayName||"Context")+".Consumer";case QC:return(t._context.displayName||"Context")+".Provider";case Ub:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bb:return e=t.displayName||null,e!==null?e:Cy(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return Cy(t(e))}catch{}}return null}function $4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cy(e);case 8:return e===Vb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ek(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function L4(t){var e=ek(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function md(t){t._valueTracker||(t._valueTracker=L4(t))}function tk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ek(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ky(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ME(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nk(t,e){e=e.checked,e!=null&&Fb(t,"checked",e,!1)}function Ny(t,e){nk(t,e);var n=Ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jy(t,e.type,n):e.hasOwnProperty("defaultValue")&&jy(t,e.type,Ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $E(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jy(t,e,n){(e!=="number"||bh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dc=Array.isArray;function Os(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ry(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function LE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Dc(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ea(n)}}function rk(t,e){var n=Ea(e.value),r=Ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function FE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ik(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ik(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gd,ak=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gd=gd||document.createElement("div"),gd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F4=["Webkit","ms","Moz","O"];Object.keys(Hc).forEach(function(t){F4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hc[e]=Hc[t]})});function ok(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hc.hasOwnProperty(t)&&Hc[t]?(""+e).trim():e+"px"}function sk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ok(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var V4=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function My(t,e){if(e){if(V4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function $y(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ly=null;function zb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fy=null,Cs=null,ks=null;function VE(t){if(t=Pf(t)){if(typeof Fy!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=ym(e),Fy(t.stateNode,t.type,e))}}function lk(t){Cs?ks?ks.push(t):ks=[t]:Cs=t}function ck(){if(Cs){var t=Cs,e=ks;if(ks=Cs=null,VE(t),e)for(t=0;t<e.length;t++)VE(e[t])}}function uk(t,e){return t(e)}function fk(){}var fv=!1;function dk(t,e,n){if(fv)return t(e,n);fv=!0;try{return uk(t,e,n)}finally{fv=!1,(Cs!==null||ks!==null)&&(fk(),ck())}}function gu(t,e){var n=t.stateNode;if(n===null)return null;var r=ym(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Vy=!1;if(vi)try{var vc={};Object.defineProperty(vc,"passive",{get:function(){Vy=!0}}),window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{Vy=!1}function U4(t,e,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Kc=!1,wh=null,_h=!1,Uy=null,B4={onError:function(t){Kc=!0,wh=t}};function z4(t,e,n,r,i,a,o,s,l){Kc=!1,wh=null,U4.apply(B4,arguments)}function W4(t,e,n,r,i,a,o,s,l){if(z4.apply(this,arguments),Kc){if(Kc){var c=wh;Kc=!1,wh=null}else throw Error(Z(198));_h||(_h=!0,Uy=c)}}function Uo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UE(t){if(Uo(t)!==t)throw Error(Z(188))}function q4(t){var e=t.alternate;if(!e){if(e=Uo(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return UE(i),t;if(a===r)return UE(i),e;a=a.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function pk(t){return t=q4(t),t!==null?mk(t):null}function mk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mk(t);if(e!==null)return e;t=t.sibling}return null}var gk=Wn.unstable_scheduleCallback,BE=Wn.unstable_cancelCallback,H4=Wn.unstable_shouldYield,K4=Wn.unstable_requestPaint,Tt=Wn.unstable_now,G4=Wn.unstable_getCurrentPriorityLevel,Wb=Wn.unstable_ImmediatePriority,vk=Wn.unstable_UserBlockingPriority,Eh=Wn.unstable_NormalPriority,Y4=Wn.unstable_LowPriority,yk=Wn.unstable_IdlePriority,pm=null,Mr=null;function X4(t){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(pm,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:Z4,Q4=Math.log,J4=Math.LN2;function Z4(t){return t>>>=0,t===0?32:31-(Q4(t)/J4|0)|0}var vd=64,yd=4194304;function Mc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Th(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Mc(s):(a&=o,a!==0&&(r=Mc(a)))}else o=n&~i,o!==0?r=Mc(o):a!==0&&(r=Mc(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_r(e),i=1<<n,r|=t[n],e&=~i;return r}function eF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-_r(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=eF(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function By(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xk(){var t=vd;return vd<<=1,!(vd&4194240)&&(vd=64),t}function dv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=n}function nF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_r(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function qb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function bk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wk,Hb,_k,Ek,Tk,zy=!1,xd=[],oa=null,sa=null,la=null,vu=new Map,yu=new Map,Gi=[],rF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zE(t,e){switch(t){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":vu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(e.pointerId)}}function yc(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Pf(e),e!==null&&Hb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iF(t,e,n,r,i){switch(e){case"focusin":return oa=yc(oa,t,e,n,r,i),!0;case"dragenter":return sa=yc(sa,t,e,n,r,i),!0;case"mouseover":return la=yc(la,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return vu.set(a,yc(vu.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,yu.set(a,yc(yu.get(a)||null,t,e,n,r,i)),!0}return!1}function Sk(t){var e=lo(t.target);if(e!==null){var n=Uo(e);if(n!==null){if(e=n.tag,e===13){if(e=hk(n),e!==null){t.blockedOn=e,Tk(t.priority,function(){_k(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ly=r,n.target.dispatchEvent(r),Ly=null}else return e=Pf(n),e!==null&&Hb(e),t.blockedOn=n,!1;e.shift()}return!0}function WE(t,e,n){Zd(t)&&n.delete(e)}function aF(){zy=!1,oa!==null&&Zd(oa)&&(oa=null),sa!==null&&Zd(sa)&&(sa=null),la!==null&&Zd(la)&&(la=null),vu.forEach(WE),yu.forEach(WE)}function xc(t,e){t.blockedOn===e&&(t.blockedOn=null,zy||(zy=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,aF)))}function xu(t){function e(i){return xc(i,t)}if(0<xd.length){xc(xd[0],t);for(var n=1;n<xd.length;n++){var r=xd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oa!==null&&xc(oa,t),sa!==null&&xc(sa,t),la!==null&&xc(la,t),vu.forEach(e),yu.forEach(e),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)Sk(n),n.blockedOn===null&&Gi.shift()}var Ns=Ci.ReactCurrentBatchConfig,Sh=!0;function oF(t,e,n,r){var i=Ke,a=Ns.transition;Ns.transition=null;try{Ke=1,Kb(t,e,n,r)}finally{Ke=i,Ns.transition=a}}function sF(t,e,n,r){var i=Ke,a=Ns.transition;Ns.transition=null;try{Ke=4,Kb(t,e,n,r)}finally{Ke=i,Ns.transition=a}}function Kb(t,e,n,r){if(Sh){var i=Wy(t,e,n,r);if(i===null)_v(t,e,r,Ah,n),zE(t,r);else if(iF(i,t,e,n,r))r.stopPropagation();else if(zE(t,r),e&4&&-1<rF.indexOf(t)){for(;i!==null;){var a=Pf(i);if(a!==null&&wk(a),a=Wy(t,e,n,r),a===null&&_v(t,e,r,Ah,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else _v(t,e,r,null,n)}}var Ah=null;function Wy(t,e,n,r){if(Ah=null,t=zb(r),t=lo(t),t!==null)if(e=Uo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ah=t,null}function Ak(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G4()){case Wb:return 1;case vk:return 4;case Eh:case Y4:return 16;case yk:return 536870912;default:return 16}default:return 16}}var ta=null,Gb=null,eh=null;function Pk(){if(eh)return eh;var t,e=Gb,n=e.length,r,i="value"in ta?ta.value:ta.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return eh=i.slice(t,1<r?1-r:void 0)}function th(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bd(){return!0}function qE(){return!1}function Hn(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bd:qE,this.isPropagationStopped=qE,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),e}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yb=Hn(Nl),Af=vt({},Nl,{view:0,detail:0}),lF=Hn(Af),hv,pv,bc,mm=vt({},Af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bc&&(bc&&t.type==="mousemove"?(hv=t.screenX-bc.screenX,pv=t.screenY-bc.screenY):pv=hv=0,bc=t),hv)},movementY:function(t){return"movementY"in t?t.movementY:pv}}),HE=Hn(mm),cF=vt({},mm,{dataTransfer:0}),uF=Hn(cF),fF=vt({},Af,{relatedTarget:0}),mv=Hn(fF),dF=vt({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),hF=Hn(dF),pF=vt({},Nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mF=Hn(pF),gF=vt({},Nl,{data:0}),KE=Hn(gF),vF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xF[t])?!!e[t]:!1}function Xb(){return bF}var wF=vt({},Af,{key:function(t){if(t.key){var e=vF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=th(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xb,charCode:function(t){return t.type==="keypress"?th(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?th(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_F=Hn(wF),EF=vt({},mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GE=Hn(EF),TF=vt({},Af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xb}),SF=Hn(TF),AF=vt({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),PF=Hn(AF),IF=vt({},mm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OF=Hn(IF),CF=[9,13,27,32],Qb=vi&&"CompositionEvent"in window,Gc=null;vi&&"documentMode"in document&&(Gc=document.documentMode);var kF=vi&&"TextEvent"in window&&!Gc,Ik=vi&&(!Qb||Gc&&8<Gc&&11>=Gc),YE=" ",XE=!1;function Ok(t,e){switch(t){case"keyup":return CF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ck(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function NF(t,e){switch(t){case"compositionend":return Ck(e);case"keypress":return e.which!==32?null:(XE=!0,YE);case"textInput":return t=e.data,t===YE&&XE?null:t;default:return null}}function jF(t,e){if(hs)return t==="compositionend"||!Qb&&Ok(t,e)?(t=Pk(),eh=Gb=ta=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ik&&e.locale!=="ko"?null:e.data;default:return null}}var RF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RF[t.type]:e==="textarea"}function kk(t,e,n,r){lk(r),e=Ph(e,"onChange"),0<e.length&&(n=new Yb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yc=null,bu=null;function DF(t){Bk(t,0)}function gm(t){var e=gs(t);if(tk(e))return t}function MF(t,e){if(t==="change")return e}var Nk=!1;if(vi){var gv;if(vi){var vv="oninput"in document;if(!vv){var JE=document.createElement("div");JE.setAttribute("oninput","return;"),vv=typeof JE.oninput=="function"}gv=vv}else gv=!1;Nk=gv&&(!document.documentMode||9<document.documentMode)}function ZE(){Yc&&(Yc.detachEvent("onpropertychange",jk),bu=Yc=null)}function jk(t){if(t.propertyName==="value"&&gm(bu)){var e=[];kk(e,bu,t,zb(t)),dk(DF,e)}}function $F(t,e,n){t==="focusin"?(ZE(),Yc=e,bu=n,Yc.attachEvent("onpropertychange",jk)):t==="focusout"&&ZE()}function LF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gm(bu)}function FF(t,e){if(t==="click")return gm(e)}function VF(t,e){if(t==="input"||t==="change")return gm(e)}function UF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:UF;function wu(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ay.call(e,i)||!Sr(t[i],e[i]))return!1}return!0}function eT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tT(t,e){var n=eT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eT(n)}}function Rk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dk(){for(var t=window,e=bh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bh(t.document)}return e}function Jb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BF(t){var e=Dk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rk(n.ownerDocument.documentElement,n)){if(r!==null&&Jb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=tT(n,a);var o=tT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zF=vi&&"documentMode"in document&&11>=document.documentMode,ps=null,qy=null,Xc=null,Hy=!1;function nT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hy||ps==null||ps!==bh(r)||(r=ps,"selectionStart"in r&&Jb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xc&&wu(Xc,r)||(Xc=r,r=Ph(qy,"onSelect"),0<r.length&&(e=new Yb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ps)))}function wd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ms={animationend:wd("Animation","AnimationEnd"),animationiteration:wd("Animation","AnimationIteration"),animationstart:wd("Animation","AnimationStart"),transitionend:wd("Transition","TransitionEnd")},yv={},Mk={};vi&&(Mk=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function vm(t){if(yv[t])return yv[t];if(!ms[t])return t;var e=ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mk)return yv[t]=e[n];return t}var $k=vm("animationend"),Lk=vm("animationiteration"),Fk=vm("animationstart"),Vk=vm("transitionend"),Uk=new Map,rT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(t,e){Uk.set(t,e),Vo(e,[t])}for(var xv=0;xv<rT.length;xv++){var bv=rT[xv],WF=bv.toLowerCase(),qF=bv[0].toUpperCase()+bv.slice(1);Na(WF,"on"+qF)}Na($k,"onAnimationEnd");Na(Lk,"onAnimationIteration");Na(Fk,"onAnimationStart");Na("dblclick","onDoubleClick");Na("focusin","onFocus");Na("focusout","onBlur");Na(Vk,"onTransitionEnd");Bs("onMouseEnter",["mouseout","mouseover"]);Bs("onMouseLeave",["mouseout","mouseover"]);Bs("onPointerEnter",["pointerout","pointerover"]);Bs("onPointerLeave",["pointerout","pointerover"]);Vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HF=new Set("cancel close invalid load scroll toggle".split(" ").concat($c));function iT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,W4(r,e,void 0,t),t.currentTarget=null}function Bk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;iT(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;iT(i,s,c),a=l}}}if(_h)throw t=Uy,_h=!1,Uy=null,t}function st(t,e){var n=e[Qy];n===void 0&&(n=e[Qy]=new Set);var r=t+"__bubble";n.has(r)||(zk(e,t,2,!1),n.add(r))}function wv(t,e,n){var r=0;e&&(r|=4),zk(n,t,r,e)}var _d="_reactListening"+Math.random().toString(36).slice(2);function _u(t){if(!t[_d]){t[_d]=!0,XC.forEach(function(n){n!=="selectionchange"&&(HF.has(n)||wv(n,!1,t),wv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_d]||(e[_d]=!0,wv("selectionchange",!1,e))}}function zk(t,e,n,r){switch(Ak(e)){case 1:var i=oF;break;case 4:i=sF;break;default:i=Kb}n=i.bind(null,e,n,t),i=void 0,!Vy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _v(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=lo(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}dk(function(){var c=a,u=zb(n),f=[];e:{var h=Uk.get(t);if(h!==void 0){var m=Yb,x=t;switch(t){case"keypress":if(th(n)===0)break e;case"keydown":case"keyup":m=_F;break;case"focusin":x="focus",m=mv;break;case"focusout":x="blur",m=mv;break;case"beforeblur":case"afterblur":m=mv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=HE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=SF;break;case $k:case Lk:case Fk:m=hF;break;case Vk:m=PF;break;case"scroll":m=lF;break;case"wheel":m=OF;break;case"copy":case"cut":case"paste":m=mF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=GE}var b=(e&4)!==0,y=!b&&t==="scroll",v=b?h!==null?h+"Capture":null:h;b=[];for(var g=c,w;g!==null;){w=g;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,v!==null&&(C=gu(g,v),C!=null&&b.push(Eu(g,C,w)))),y)break;g=g.return}0<b.length&&(h=new m(h,x,null,n,u),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Ly&&(x=n.relatedTarget||n.fromElement)&&(lo(x)||x[yi]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?lo(x):null,x!==null&&(y=Uo(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(b=HE,C="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(b=GE,C="onPointerLeave",v="onPointerEnter",g="pointer"),y=m==null?h:gs(m),w=x==null?h:gs(x),h=new b(C,g+"leave",m,n,u),h.target=y,h.relatedTarget=w,C=null,lo(u)===c&&(b=new b(v,g+"enter",x,n,u),b.target=w,b.relatedTarget=y,C=b),y=C,m&&x)t:{for(b=m,v=x,g=0,w=b;w;w=rs(w))g++;for(w=0,C=v;C;C=rs(C))w++;for(;0<g-w;)b=rs(b),g--;for(;0<w-g;)v=rs(v),w--;for(;g--;){if(b===v||v!==null&&b===v.alternate)break t;b=rs(b),v=rs(v)}b=null}else b=null;m!==null&&aT(f,h,m,b,!1),x!==null&&y!==null&&aT(f,y,x,b,!0)}}e:{if(h=c?gs(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=MF;else if(QE(h))if(Nk)S=VF;else{S=LF;var A=$F}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=FF);if(S&&(S=S(t,c))){kk(f,S,n,u);break e}A&&A(t,h,c),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&jy(h,"number",h.value)}switch(A=c?gs(c):window,t){case"focusin":(QE(A)||A.contentEditable==="true")&&(ps=A,qy=c,Xc=null);break;case"focusout":Xc=qy=ps=null;break;case"mousedown":Hy=!0;break;case"contextmenu":case"mouseup":case"dragend":Hy=!1,nT(f,n,u);break;case"selectionchange":if(zF)break;case"keydown":case"keyup":nT(f,n,u)}var E;if(Qb)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else hs?Ok(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Ik&&n.locale!=="ko"&&(hs||T!=="onCompositionStart"?T==="onCompositionEnd"&&hs&&(E=Pk()):(ta=u,Gb="value"in ta?ta.value:ta.textContent,hs=!0)),A=Ph(c,T),0<A.length&&(T=new KE(T,t,null,n,u),f.push({event:T,listeners:A}),E?T.data=E:(E=Ck(n),E!==null&&(T.data=E)))),(E=kF?NF(t,n):jF(t,n))&&(c=Ph(c,"onBeforeInput"),0<c.length&&(u=new KE("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=E))}Bk(f,e)})}function Eu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gu(t,n),a!=null&&r.unshift(Eu(t,a,i)),a=gu(t,e),a!=null&&r.push(Eu(t,a,i))),t=t.return}return r}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aT(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=gu(n,a),l!=null&&o.unshift(Eu(n,l,s))):i||(l=gu(n,a),l!=null&&o.push(Eu(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var KF=/\r\n?/g,GF=/\u0000|\uFFFD/g;function oT(t){return(typeof t=="string"?t:""+t).replace(KF,`
`).replace(GF,"")}function Ed(t,e,n){if(e=oT(e),oT(t)!==e&&n)throw Error(Z(425))}function Ih(){}var Ky=null,Gy=null;function Yy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xy=typeof setTimeout=="function"?setTimeout:void 0,YF=typeof clearTimeout=="function"?clearTimeout:void 0,sT=typeof Promise=="function"?Promise:void 0,XF=typeof queueMicrotask=="function"?queueMicrotask:typeof sT<"u"?function(t){return sT.resolve(null).then(t).catch(QF)}:Xy;function QF(t){setTimeout(function(){throw t})}function Ev(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xu(e)}function ca(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jl=Math.random().toString(36).slice(2),Rr="__reactFiber$"+jl,Tu="__reactProps$"+jl,yi="__reactContainer$"+jl,Qy="__reactEvents$"+jl,JF="__reactListeners$"+jl,ZF="__reactHandles$"+jl;function lo(t){var e=t[Rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yi]||n[Rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lT(t);t!==null;){if(n=t[Rr])return n;t=lT(t)}return e}t=n,n=t.parentNode}return null}function Pf(t){return t=t[Rr]||t[yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function ym(t){return t[Tu]||null}var Jy=[],vs=-1;function ja(t){return{current:t}}function ft(t){0>vs||(t.current=Jy[vs],Jy[vs]=null,vs--)}function it(t,e){vs++,Jy[vs]=t.current,t.current=e}var Ta={},pn=ja(Ta),kn=ja(!1),Eo=Ta;function zs(t,e){var n=t.type.contextTypes;if(!n)return Ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nn(t){return t=t.childContextTypes,t!=null}function Oh(){ft(kn),ft(pn)}function cT(t,e,n){if(pn.current!==Ta)throw Error(Z(168));it(pn,e),it(kn,n)}function Wk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,$4(t)||"Unknown",i));return vt({},n,r)}function Ch(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ta,Eo=pn.current,it(pn,t),it(kn,kn.current),!0}function uT(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=Wk(t,e,Eo),r.__reactInternalMemoizedMergedChildContext=t,ft(kn),ft(pn),it(pn,t)):ft(kn),it(kn,n)}var ni=null,xm=!1,Tv=!1;function qk(t){ni===null?ni=[t]:ni.push(t)}function eV(t){xm=!0,qk(t)}function Ra(){if(!Tv&&ni!==null){Tv=!0;var t=0,e=Ke;try{var n=ni;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ni=null,xm=!1}catch(i){throw ni!==null&&(ni=ni.slice(t+1)),gk(Wb,Ra),i}finally{Ke=e,Tv=!1}}return null}var ys=[],xs=0,kh=null,Nh=0,Jn=[],Zn=0,To=null,ri=1,ii="";function eo(t,e){ys[xs++]=Nh,ys[xs++]=kh,kh=t,Nh=e}function Hk(t,e,n){Jn[Zn++]=ri,Jn[Zn++]=ii,Jn[Zn++]=To,To=t;var r=ri;t=ii;var i=32-_r(r)-1;r&=~(1<<i),n+=1;var a=32-_r(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ri=1<<32-_r(e)+i|n<<i|r,ii=a+t}else ri=1<<a|n<<i|r,ii=t}function Zb(t){t.return!==null&&(eo(t,1),Hk(t,1,0))}function ew(t){for(;t===kh;)kh=ys[--xs],ys[xs]=null,Nh=ys[--xs],ys[xs]=null;for(;t===To;)To=Jn[--Zn],Jn[Zn]=null,ii=Jn[--Zn],Jn[Zn]=null,ri=Jn[--Zn],Jn[Zn]=null}var Bn=null,Vn=null,dt=!1,xr=null;function Kk(t,e){var n=nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Vn=ca(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=To!==null?{id:ri,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Vn=null,!0):!1;default:return!1}}function Zy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function e0(t){if(dt){var e=Vn;if(e){var n=e;if(!fT(t,e)){if(Zy(t))throw Error(Z(418));e=ca(n.nextSibling);var r=Bn;e&&fT(t,e)?Kk(r,n):(t.flags=t.flags&-4097|2,dt=!1,Bn=t)}}else{if(Zy(t))throw Error(Z(418));t.flags=t.flags&-4097|2,dt=!1,Bn=t}}}function dT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function Td(t){if(t!==Bn)return!1;if(!dt)return dT(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yy(t.type,t.memoizedProps)),e&&(e=Vn)){if(Zy(t))throw Gk(),Error(Z(418));for(;e;)Kk(t,e),e=ca(e.nextSibling)}if(dT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=ca(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=Bn?ca(t.stateNode.nextSibling):null;return!0}function Gk(){for(var t=Vn;t;)t=ca(t.nextSibling)}function Ws(){Vn=Bn=null,dt=!1}function tw(t){xr===null?xr=[t]:xr.push(t)}var tV=Ci.ReactCurrentBatchConfig;function wc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function Sd(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hT(t){var e=t._init;return e(t._payload)}function Yk(t){function e(v,g){if(t){var w=v.deletions;w===null?(v.deletions=[g],v.flags|=16):w.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=ha(v,g),v.index=0,v.sibling=null,v}function a(v,g,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<g?(v.flags|=2,g):w):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,g,w,C){return g===null||g.tag!==6?(g=kv(w,v.mode,C),g.return=v,g):(g=i(g,w),g.return=v,g)}function l(v,g,w,C){var S=w.type;return S===ds?u(v,g,w.props.children,C,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wi&&hT(S)===g.type)?(C=i(g,w.props),C.ref=wc(v,g,w),C.return=v,C):(C=lh(w.type,w.key,w.props,null,v.mode,C),C.ref=wc(v,g,w),C.return=v,C)}function c(v,g,w,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Nv(w,v.mode,C),g.return=v,g):(g=i(g,w.children||[]),g.return=v,g)}function u(v,g,w,C,S){return g===null||g.tag!==7?(g=xo(w,v.mode,C,S),g.return=v,g):(g=i(g,w),g.return=v,g)}function f(v,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=kv(""+g,v.mode,w),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pd:return w=lh(g.type,g.key,g.props,null,v.mode,w),w.ref=wc(v,null,g),w.return=v,w;case fs:return g=Nv(g,v.mode,w),g.return=v,g;case Wi:var C=g._init;return f(v,C(g._payload),w)}if(Dc(g)||gc(g))return g=xo(g,v.mode,w,null),g.return=v,g;Sd(v,g)}return null}function h(v,g,w,C){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(v,g,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pd:return w.key===S?l(v,g,w,C):null;case fs:return w.key===S?c(v,g,w,C):null;case Wi:return S=w._init,h(v,g,S(w._payload),C)}if(Dc(w)||gc(w))return S!==null?null:u(v,g,w,C,null);Sd(v,w)}return null}function m(v,g,w,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(w)||null,s(g,v,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pd:return v=v.get(C.key===null?w:C.key)||null,l(g,v,C,S);case fs:return v=v.get(C.key===null?w:C.key)||null,c(g,v,C,S);case Wi:var A=C._init;return m(v,g,w,A(C._payload),S)}if(Dc(C)||gc(C))return v=v.get(w)||null,u(g,v,C,S,null);Sd(g,C)}return null}function x(v,g,w,C){for(var S=null,A=null,E=g,T=g=0,P=null;E!==null&&T<w.length;T++){E.index>T?(P=E,E=null):P=E.sibling;var I=h(v,E,w[T],C);if(I===null){E===null&&(E=P);break}t&&E&&I.alternate===null&&e(v,E),g=a(I,g,T),A===null?S=I:A.sibling=I,A=I,E=P}if(T===w.length)return n(v,E),dt&&eo(v,T),S;if(E===null){for(;T<w.length;T++)E=f(v,w[T],C),E!==null&&(g=a(E,g,T),A===null?S=E:A.sibling=E,A=E);return dt&&eo(v,T),S}for(E=r(v,E);T<w.length;T++)P=m(E,v,T,w[T],C),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?T:P.key),g=a(P,g,T),A===null?S=P:A.sibling=P,A=P);return t&&E.forEach(function(N){return e(v,N)}),dt&&eo(v,T),S}function b(v,g,w,C){var S=gc(w);if(typeof S!="function")throw Error(Z(150));if(w=S.call(w),w==null)throw Error(Z(151));for(var A=S=null,E=g,T=g=0,P=null,I=w.next();E!==null&&!I.done;T++,I=w.next()){E.index>T?(P=E,E=null):P=E.sibling;var N=h(v,E,I.value,C);if(N===null){E===null&&(E=P);break}t&&E&&N.alternate===null&&e(v,E),g=a(N,g,T),A===null?S=N:A.sibling=N,A=N,E=P}if(I.done)return n(v,E),dt&&eo(v,T),S;if(E===null){for(;!I.done;T++,I=w.next())I=f(v,I.value,C),I!==null&&(g=a(I,g,T),A===null?S=I:A.sibling=I,A=I);return dt&&eo(v,T),S}for(E=r(v,E);!I.done;T++,I=w.next())I=m(E,v,T,I.value,C),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?T:I.key),g=a(I,g,T),A===null?S=I:A.sibling=I,A=I);return t&&E.forEach(function(j){return e(v,j)}),dt&&eo(v,T),S}function y(v,g,w,C){if(typeof w=="object"&&w!==null&&w.type===ds&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case pd:e:{for(var S=w.key,A=g;A!==null;){if(A.key===S){if(S=w.type,S===ds){if(A.tag===7){n(v,A.sibling),g=i(A,w.props.children),g.return=v,v=g;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wi&&hT(S)===A.type){n(v,A.sibling),g=i(A,w.props),g.ref=wc(v,A,w),g.return=v,v=g;break e}n(v,A);break}else e(v,A);A=A.sibling}w.type===ds?(g=xo(w.props.children,v.mode,C,w.key),g.return=v,v=g):(C=lh(w.type,w.key,w.props,null,v.mode,C),C.ref=wc(v,g,w),C.return=v,v=C)}return o(v);case fs:e:{for(A=w.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(v,g.sibling),g=i(g,w.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Nv(w,v.mode,C),g.return=v,v=g}return o(v);case Wi:return A=w._init,y(v,g,A(w._payload),C)}if(Dc(w))return x(v,g,w,C);if(gc(w))return b(v,g,w,C);Sd(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,w),g.return=v,v=g):(n(v,g),g=kv(w,v.mode,C),g.return=v,v=g),o(v)):n(v,g)}return y}var qs=Yk(!0),Xk=Yk(!1),jh=ja(null),Rh=null,bs=null,nw=null;function rw(){nw=bs=Rh=null}function iw(t){var e=jh.current;ft(jh),t._currentValue=e}function t0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function js(t,e){Rh=t,nw=bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(nw!==t)if(t={context:t,memoizedValue:e,next:null},bs===null){if(Rh===null)throw Error(Z(308));bs=t,Rh.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var co=null;function aw(t){co===null?co=[t]:co.push(t)}function Qk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,aw(e)):(n.next=i.next,i.next=n),e.interleaved=n,xi(t,r)}function xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qi=!1;function ow(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ua(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xi(t,n)}return i=r.interleaved,i===null?(e.next=e,aw(r)):(e.next=i.next,i.next=e),r.interleaved=e,xi(t,n)}function nh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qb(t,n)}}function pT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dh(t,e,n,r){var i=t.updateQueue;qi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,m=s.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var x=t,b=s;switch(h=e,m=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=vt({},f,h);break e;case 2:qi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ao|=o,t.lanes=o,t.memoizedState=f}}function mT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var If={},$r=ja(If),Su=ja(If),Au=ja(If);function uo(t){if(t===If)throw Error(Z(174));return t}function sw(t,e){switch(it(Au,e),it(Su,t),it($r,If),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dy(e,t)}ft($r),it($r,e)}function Hs(){ft($r),ft(Su),ft(Au)}function Zk(t){uo(Au.current);var e=uo($r.current),n=Dy(e,t.type);e!==n&&(it(Su,t),it($r,n))}function lw(t){Su.current===t&&(ft($r),ft(Su))}var mt=ja(0);function Mh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sv=[];function cw(){for(var t=0;t<Sv.length;t++)Sv[t]._workInProgressVersionPrimary=null;Sv.length=0}var rh=Ci.ReactCurrentDispatcher,Av=Ci.ReactCurrentBatchConfig,So=0,gt=null,jt=null,Bt=null,$h=!1,Qc=!1,Pu=0,nV=0;function an(){throw Error(Z(321))}function uw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function fw(t,e,n,r,i,a){if(So=a,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rh.current=t===null||t.memoizedState===null?oV:sV,t=n(r,i),Qc){a=0;do{if(Qc=!1,Pu=0,25<=a)throw Error(Z(301));a+=1,Bt=jt=null,e.updateQueue=null,rh.current=lV,t=n(r,i)}while(Qc)}if(rh.current=Lh,e=jt!==null&&jt.next!==null,So=0,Bt=jt=gt=null,$h=!1,e)throw Error(Z(300));return t}function dw(){var t=Pu!==0;return Pu=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?gt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function sr(){if(jt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Bt===null?gt.memoizedState:Bt.next;if(e!==null)Bt=e,jt=t;else{if(t===null)throw Error(Z(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Bt===null?gt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Iu(t,e){return typeof e=="function"?e(t):e}function Pv(t){var e=sr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=jt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((So&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,gt.lanes|=u,Ao|=u}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,Sr(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,gt.lanes|=a,Ao|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Iv(t){var e=sr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Sr(a,e.memoizedState)||(On=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function e2(){}function t2(t,e){var n=gt,r=sr(),i=e(),a=!Sr(r.memoizedState,i);if(a&&(r.memoizedState=i,On=!0),r=r.queue,hw(i2.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Ou(9,r2.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(Z(349));So&30||n2(n,e,i)}return i}function n2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r2(t,e,n,r){e.value=n,e.getSnapshot=r,a2(e)&&o2(t)}function i2(t,e,n){return n(function(){a2(e)&&o2(t)})}function a2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function o2(t){var e=xi(t,1);e!==null&&Er(e,t,1,-1)}function gT(t){var e=Nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:t},e.queue=t,t=t.dispatch=aV.bind(null,gt,t),[e.memoizedState,t]}function Ou(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function s2(){return sr().memoizedState}function ih(t,e,n,r){var i=Nr();gt.flags|=t,i.memoizedState=Ou(1|e,n,void 0,r===void 0?null:r)}function bm(t,e,n,r){var i=sr();r=r===void 0?null:r;var a=void 0;if(jt!==null){var o=jt.memoizedState;if(a=o.destroy,r!==null&&uw(r,o.deps)){i.memoizedState=Ou(e,n,a,r);return}}gt.flags|=t,i.memoizedState=Ou(1|e,n,a,r)}function vT(t,e){return ih(8390656,8,t,e)}function hw(t,e){return bm(2048,8,t,e)}function l2(t,e){return bm(4,2,t,e)}function c2(t,e){return bm(4,4,t,e)}function u2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f2(t,e,n){return n=n!=null?n.concat([t]):null,bm(4,4,u2.bind(null,e,t),n)}function pw(){}function d2(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function h2(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function p2(t,e,n){return So&21?(Sr(n,e)||(n=xk(),gt.lanes|=n,Ao|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function rV(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=Av.transition;Av.transition={};try{t(!1),e()}finally{Ke=n,Av.transition=r}}function m2(){return sr().memoizedState}function iV(t,e,n){var r=da(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},g2(t))v2(e,n);else if(n=Qk(t,e,n,r),n!==null){var i=_n();Er(n,t,r,i),y2(n,e,r)}}function aV(t,e,n){var r=da(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(g2(t))v2(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Sr(s,o)){var l=e.interleaved;l===null?(i.next=i,aw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Qk(t,e,i,r),n!==null&&(i=_n(),Er(n,t,r,i),y2(n,e,r))}}function g2(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function v2(t,e){Qc=$h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function y2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qb(t,n)}}var Lh={readContext:or,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},oV={readContext:or,useCallback:function(t,e){return Nr().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:vT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ih(4194308,4,u2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ih(4194308,4,t,e)},useInsertionEffect:function(t,e){return ih(4,2,t,e)},useMemo:function(t,e){var n=Nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iV.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Nr();return t={current:t},e.memoizedState=t},useState:gT,useDebugValue:pw,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=gT(!1),e=t[0];return t=rV.bind(null,t[1]),Nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=Nr();if(dt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Wt===null)throw Error(Z(349));So&30||n2(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,vT(i2.bind(null,r,a,t),[t]),r.flags|=2048,Ou(9,r2.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Nr(),e=Wt.identifierPrefix;if(dt){var n=ii,r=ri;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sV={readContext:or,useCallback:d2,useContext:or,useEffect:hw,useImperativeHandle:f2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:h2,useReducer:Pv,useRef:s2,useState:function(){return Pv(Iu)},useDebugValue:pw,useDeferredValue:function(t){var e=sr();return p2(e,jt.memoizedState,t)},useTransition:function(){var t=Pv(Iu)[0],e=sr().memoizedState;return[t,e]},useMutableSource:e2,useSyncExternalStore:t2,useId:m2,unstable_isNewReconciler:!1},lV={readContext:or,useCallback:d2,useContext:or,useEffect:hw,useImperativeHandle:f2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:h2,useReducer:Iv,useRef:s2,useState:function(){return Iv(Iu)},useDebugValue:pw,useDeferredValue:function(t){var e=sr();return jt===null?e.memoizedState=t:p2(e,jt.memoizedState,t)},useTransition:function(){var t=Iv(Iu)[0],e=sr().memoizedState;return[t,e]},useMutableSource:e2,useSyncExternalStore:t2,useId:m2,unstable_isNewReconciler:!1};function mr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function n0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wm={isMounted:function(t){return(t=t._reactInternals)?Uo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=da(t),a=ui(r,i);a.payload=e,n!=null&&(a.callback=n),e=ua(t,a,i),e!==null&&(Er(e,t,i,r),nh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=da(t),a=ui(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ua(t,a,i),e!==null&&(Er(e,t,i,r),nh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=da(t),i=ui(n,r);i.tag=2,e!=null&&(i.callback=e),e=ua(t,i,r),e!==null&&(Er(e,t,r,n),nh(e,t,r))}};function yT(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!wu(n,r)||!wu(i,a):!0}function x2(t,e,n){var r=!1,i=Ta,a=e.contextType;return typeof a=="object"&&a!==null?a=or(a):(i=Nn(e)?Eo:pn.current,r=e.contextTypes,a=(r=r!=null)?zs(t,i):Ta),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function xT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wm.enqueueReplaceState(e,e.state,null)}function r0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ow(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=or(a):(a=Nn(e)?Eo:pn.current,i.context=zs(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(n0(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wm.enqueueReplaceState(i,i.state,null),Dh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ks(t,e){try{var n="",r=e;do n+=M4(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ov(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function i0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cV=typeof WeakMap=="function"?WeakMap:Map;function b2(t,e,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vh||(Vh=!0,p0=r),i0(t,e)},n}function w2(t,e,n){n=ui(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){i0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){i0(t,e),typeof r!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=EV.bind(null,t,e,n),e.then(t,t))}function wT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _T(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ui(-1,1),e.tag=2,ua(n,e,1))),n.lanes|=1),t)}var uV=Ci.ReactCurrentOwner,On=!1;function yn(t,e,n,r){e.child=t===null?Xk(e,null,n,r):qs(e,t.child,n,r)}function ET(t,e,n,r,i){n=n.render;var a=e.ref;return js(e,i),r=fw(t,e,n,r,a,i),n=dw(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bi(t,e,i)):(dt&&n&&Zb(e),e.flags|=1,yn(t,e,r,i),e.child)}function TT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!_w(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,_2(t,e,a,r,i)):(t=lh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:wu,n(o,r)&&t.ref===e.ref)return bi(t,e,i)}return e.flags|=1,t=ha(a,r),t.ref=e.ref,t.return=e,e.child=t}function _2(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(wu(a,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,bi(t,e,i)}return a0(t,e,n,r,i)}function E2(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(_s,$n),$n|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(_s,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,it(_s,$n),$n|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,it(_s,$n),$n|=r;return yn(t,e,i,n),e.child}function T2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function a0(t,e,n,r,i){var a=Nn(n)?Eo:pn.current;return a=zs(e,a),js(e,i),n=fw(t,e,n,r,a,i),r=dw(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bi(t,e,i)):(dt&&r&&Zb(e),e.flags|=1,yn(t,e,n,i),e.child)}function ST(t,e,n,r,i){if(Nn(n)){var a=!0;Ch(e)}else a=!1;if(js(e,i),e.stateNode===null)ah(t,e),x2(e,n,r),r0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=or(c):(c=Nn(n)?Eo:pn.current,c=zs(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&xT(e,o,r,c),qi=!1;var h=e.memoizedState;o.state=h,Dh(e,r,o,i),l=e.memoizedState,s!==r||h!==l||kn.current||qi?(typeof u=="function"&&(n0(e,n,u,r),l=e.memoizedState),(s=qi||yT(e,n,s,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Jk(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:mr(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=or(l):(l=Nn(n)?Eo:pn.current,l=zs(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&xT(e,o,r,l),qi=!1,h=e.memoizedState,o.state=h,Dh(e,r,o,i);var x=e.memoizedState;s!==f||h!==x||kn.current||qi?(typeof m=="function"&&(n0(e,n,m,r),x=e.memoizedState),(c=qi||yT(e,n,c,r,h,x,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return o0(t,e,n,r,a,i)}function o0(t,e,n,r,i,a){T2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&uT(e,n,!1),bi(t,e,a);r=e.stateNode,uV.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qs(e,t.child,null,a),e.child=qs(e,null,s,a)):yn(t,e,s,a),e.memoizedState=r.state,i&&uT(e,n,!0),e.child}function S2(t){var e=t.stateNode;e.pendingContext?cT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cT(t,e.context,!1),sw(t,e.containerInfo)}function AT(t,e,n,r,i){return Ws(),tw(i),e.flags|=256,yn(t,e,n,r),e.child}var s0={dehydrated:null,treeContext:null,retryLane:0};function l0(t){return{baseLanes:t,cachePool:null,transitions:null}}function A2(t,e,n){var r=e.pendingProps,i=mt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),it(mt,i&1),t===null)return e0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Tm(o,r,0,null),t=xo(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=l0(n),e.memoizedState=s0,t):mw(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return fV(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ha(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ha(s,a):(a=xo(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?l0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=s0,r}return a=t.child,t=a.sibling,r=ha(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mw(t,e){return e=Tm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ad(t,e,n,r){return r!==null&&tw(r),qs(e,t.child,null,n),t=mw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fV(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Ov(Error(Z(422))),Ad(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Tm({mode:"visible",children:r.children},i,0,null),a=xo(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&qs(e,t.child,null,o),e.child.memoizedState=l0(o),e.memoizedState=s0,a);if(!(e.mode&1))return Ad(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Z(419)),r=Ov(a,r,void 0),Ad(t,e,o,r)}if(s=(o&t.childLanes)!==0,On||s){if(r=Wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,xi(t,i),Er(r,t,i,-1))}return ww(),r=Ov(Error(Z(421))),Ad(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TV.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Vn=ca(i.nextSibling),Bn=e,dt=!0,xr=null,t!==null&&(Jn[Zn++]=ri,Jn[Zn++]=ii,Jn[Zn++]=To,ri=t.id,ii=t.overflow,To=e),e=mw(e,r.children),e.flags|=4096,e)}function PT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),t0(t.return,e,n)}function Cv(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function P2(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(yn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PT(t,n,e);else if(t.tag===19)PT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(it(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cv(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cv(e,!0,n,null,a);break;case"together":Cv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ah(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ao|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=ha(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ha(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dV(t,e,n){switch(e.tag){case 3:S2(e),Ws();break;case 5:Zk(e);break;case 1:Nn(e.type)&&Ch(e);break;case 4:sw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;it(jh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(it(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?A2(t,e,n):(it(mt,mt.current&1),t=bi(t,e,n),t!==null?t.sibling:null);it(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return P2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,E2(t,e,n)}return bi(t,e,n)}var I2,c0,O2,C2;I2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};c0=function(){};O2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,uo($r.current);var a=null;switch(n){case"input":i=ky(t,i),r=ky(t,r),a=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),a=[];break;case"textarea":i=Ry(t,i),r=Ry(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ih)}My(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pu.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&st("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};C2=function(t,e,n,r){n!==r&&(e.flags|=4)};function _c(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hV(t,e,n){var r=e.pendingProps;switch(ew(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return Nn(e.type)&&Oh(),on(e),null;case 3:return r=e.stateNode,Hs(),ft(kn),ft(pn),cw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(v0(xr),xr=null))),c0(t,e),on(e),null;case 5:lw(e);var i=uo(Au.current);if(n=e.type,t!==null&&e.stateNode!=null)O2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return on(e),null}if(t=uo($r.current),Td(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Rr]=e,r[Tu]=a,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<$c.length;i++)st($c[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":ME(r,a),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},st("invalid",r);break;case"textarea":LE(r,a),st("invalid",r)}My(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Ed(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Ed(r.textContent,s,t),i=["children",""+s]):pu.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&st("scroll",r)}switch(n){case"input":md(r),$E(r,a,!0);break;case"textarea":md(r),FE(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ih)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ik(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rr]=e,t[Tu]=r,I2(t,e,!1,!1),e.stateNode=t;e:{switch(o=$y(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<$c.length;i++)st($c[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":ME(t,r),i=ky(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),st("invalid",t);break;case"textarea":LE(t,r),i=Ry(t,r),st("invalid",t);break;default:i=r}My(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?sk(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ak(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mu(t,l):typeof l=="number"&&mu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pu.hasOwnProperty(a)?l!=null&&a==="onScroll"&&st("scroll",t):l!=null&&Fb(t,a,l,o))}switch(n){case"input":md(t),$E(t,r,!1);break;case"textarea":md(t),FE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ea(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Os(t,!!r.multiple,a,!1):r.defaultValue!=null&&Os(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ih)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(t&&e.stateNode!=null)C2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=uo(Au.current),uo($r.current),Td(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rr]=e,(a=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:Ed(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ed(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=e,e.stateNode=r}return on(e),null;case 13:if(ft(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Vn!==null&&e.mode&1&&!(e.flags&128))Gk(),Ws(),e.flags|=98560,a=!1;else if(a=Td(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[Rr]=e}else Ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),a=!1}else xr!==null&&(v0(xr),xr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Rt===0&&(Rt=3):ww())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return Hs(),c0(t,e),t===null&&_u(e.stateNode.containerInfo),on(e),null;case 10:return iw(e.type._context),on(e),null;case 17:return Nn(e.type)&&Oh(),on(e),null;case 19:if(ft(mt),a=e.memoizedState,a===null)return on(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)_c(a,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mh(t),o!==null){for(e.flags|=128,_c(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return it(mt,mt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Tt()>Gs&&(e.flags|=128,r=!0,_c(a,!1),e.lanes=4194304)}else{if(!r)if(t=Mh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_c(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!dt)return on(e),null}else 2*Tt()-a.renderingStartTime>Gs&&n!==1073741824&&(e.flags|=128,r=!0,_c(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Tt(),e.sibling=null,n=mt.current,it(mt,r?n&1|2:n&1),e):(on(e),null);case 22:case 23:return bw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function pV(t,e){switch(ew(e),e.tag){case 1:return Nn(e.type)&&Oh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hs(),ft(kn),ft(pn),cw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lw(e),null;case 13:if(ft(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(mt),null;case 4:return Hs(),null;case 10:return iw(e.type._context),null;case 22:case 23:return bw(),null;case 24:return null;default:return null}}var Pd=!1,un=!1,mV=typeof WeakSet=="function"?WeakSet:Set,le=null;function ws(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function u0(t,e,n){try{n()}catch(r){wt(t,e,r)}}var IT=!1;function gV(t,e){if(Ky=Sh,t=Dk(),Jb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gy={focusedElem:t,selectionRange:n},Sh=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,y=x.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:mr(e.type,b),y);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(C){wt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return x=IT,IT=!1,x}function Jc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&u0(e,n,a)}i=i.next}while(i!==r)}}function _m(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function f0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function k2(t){var e=t.alternate;e!==null&&(t.alternate=null,k2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rr],delete e[Tu],delete e[Qy],delete e[JF],delete e[ZF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function N2(t){return t.tag===5||t.tag===3||t.tag===4}function OT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function d0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ih));else if(r!==4&&(t=t.child,t!==null))for(d0(t,e,n),t=t.sibling;t!==null;)d0(t,e,n),t=t.sibling}function h0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(h0(t,e,n),t=t.sibling;t!==null;)h0(t,e,n),t=t.sibling}var Xt=null,gr=!1;function Bi(t,e,n){for(n=n.child;n!==null;)j2(t,e,n),n=n.sibling}function j2(t,e,n){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(pm,n)}catch{}switch(n.tag){case 5:un||ws(n,e);case 6:var r=Xt,i=gr;Xt=null,Bi(t,e,n),Xt=r,gr=i,Xt!==null&&(gr?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(gr?(t=Xt,n=n.stateNode,t.nodeType===8?Ev(t.parentNode,n):t.nodeType===1&&Ev(t,n),xu(t)):Ev(Xt,n.stateNode));break;case 4:r=Xt,i=gr,Xt=n.stateNode.containerInfo,gr=!0,Bi(t,e,n),Xt=r,gr=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&u0(n,e,o),i=i.next}while(i!==r)}Bi(t,e,n);break;case 1:if(!un&&(ws(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wt(n,e,s)}Bi(t,e,n);break;case 21:Bi(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,Bi(t,e,n),un=r):Bi(t,e,n);break;default:Bi(t,e,n)}}function CT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mV),e.forEach(function(r){var i=SV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Xt=s.stateNode,gr=!1;break e;case 3:Xt=s.stateNode.containerInfo,gr=!0;break e;case 4:Xt=s.stateNode.containerInfo,gr=!0;break e}s=s.return}if(Xt===null)throw Error(Z(160));j2(a,o,i),Xt=null,gr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){wt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)R2(e,t),e=e.sibling}function R2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hr(e,t),Or(t),r&4){try{Jc(3,t,t.return),_m(3,t)}catch(b){wt(t,t.return,b)}try{Jc(5,t,t.return)}catch(b){wt(t,t.return,b)}}break;case 1:hr(e,t),Or(t),r&512&&n!==null&&ws(n,n.return);break;case 5:if(hr(e,t),Or(t),r&512&&n!==null&&ws(n,n.return),t.flags&32){var i=t.stateNode;try{mu(i,"")}catch(b){wt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&nk(i,a),$y(s,o);var c=$y(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?sk(i,f):u==="dangerouslySetInnerHTML"?ak(i,f):u==="children"?mu(i,f):Fb(i,u,f,c)}switch(s){case"input":Ny(i,a);break;case"textarea":rk(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Os(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Os(i,!!a.multiple,a.defaultValue,!0):Os(i,!!a.multiple,a.multiple?[]:"",!1))}i[Tu]=a}catch(b){wt(t,t.return,b)}}break;case 6:if(hr(e,t),Or(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){wt(t,t.return,b)}}break;case 3:if(hr(e,t),Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xu(e.containerInfo)}catch(b){wt(t,t.return,b)}break;case 4:hr(e,t),Or(t);break;case 13:hr(e,t),Or(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(yw=Tt())),r&4&&CT(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(un=(c=un)||u,hr(e,t),un=c):hr(e,t),Or(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(le=t,u=t.child;u!==null;){for(f=le=u;le!==null;){switch(h=le,m=h.child,h.tag){case 0:case 11:case 14:case 15:Jc(4,h,h.return);break;case 1:ws(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){wt(r,n,b)}}break;case 5:ws(h,h.return);break;case 22:if(h.memoizedState!==null){NT(f);continue}}m!==null?(m.return=h,le=m):NT(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ok("display",o))}catch(b){wt(t,t.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){wt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hr(e,t),Or(t),r&4&&CT(t);break;case 21:break;default:hr(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(N2(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mu(i,""),r.flags&=-33);var a=OT(t);h0(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=OT(t);d0(t,s,o);break;default:throw Error(Z(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vV(t,e,n){le=t,D2(t)}function D2(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pd;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||un;s=Pd;var c=un;if(Pd=o,(un=l)&&!c)for(le=i;le!==null;)o=le,l=o.child,o.tag===22&&o.memoizedState!==null?jT(i):l!==null?(l.return=o,le=l):jT(i);for(;a!==null;)le=a,D2(a),a=a.sibling;le=i,Pd=s,un=c}kT(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,le=a):kT(t)}}function kT(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||_m(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&mT(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mT(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&xu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}un||e.flags&512&&f0(e)}catch(h){wt(e,e.return,h)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function NT(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function jT(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_m(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var a=e.return;try{f0(e)}catch(l){wt(e,a,l)}break;case 5:var o=e.return;try{f0(e)}catch(l){wt(e,o,l)}}}catch(l){wt(e,e.return,l)}if(e===t){le=null;break}var s=e.sibling;if(s!==null){s.return=e.return,le=s;break}le=e.return}}var yV=Math.ceil,Fh=Ci.ReactCurrentDispatcher,gw=Ci.ReactCurrentOwner,ir=Ci.ReactCurrentBatchConfig,Ve=0,Wt=null,It=null,Zt=0,$n=0,_s=ja(0),Rt=0,Cu=null,Ao=0,Em=0,vw=0,Zc=null,Pn=null,yw=0,Gs=1/0,ei=null,Vh=!1,p0=null,fa=null,Id=!1,na=null,Uh=0,eu=0,m0=null,oh=-1,sh=0;function _n(){return Ve&6?Tt():oh!==-1?oh:oh=Tt()}function da(t){return t.mode&1?Ve&2&&Zt!==0?Zt&-Zt:tV.transition!==null?(sh===0&&(sh=xk()),sh):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:Ak(t.type)),t):1}function Er(t,e,n,r){if(50<eu)throw eu=0,m0=null,Error(Z(185));Sf(t,n,r),(!(Ve&2)||t!==Wt)&&(t===Wt&&(!(Ve&2)&&(Em|=n),Rt===4&&Yi(t,Zt)),jn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Gs=Tt()+500,xm&&Ra()))}function jn(t,e){var n=t.callbackNode;tF(t,e);var r=Th(t,t===Wt?Zt:0);if(r===0)n!==null&&BE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&BE(n),e===1)t.tag===0?eV(RT.bind(null,t)):qk(RT.bind(null,t)),XF(function(){!(Ve&6)&&Ra()}),n=null;else{switch(bk(r)){case 1:n=Wb;break;case 4:n=vk;break;case 16:n=Eh;break;case 536870912:n=yk;break;default:n=Eh}n=z2(n,M2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function M2(t,e){if(oh=-1,sh=0,Ve&6)throw Error(Z(327));var n=t.callbackNode;if(Rs()&&t.callbackNode!==n)return null;var r=Th(t,t===Wt?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bh(t,r);else{e=r;var i=Ve;Ve|=2;var a=L2();(Wt!==t||Zt!==e)&&(ei=null,Gs=Tt()+500,yo(t,e));do try{wV();break}catch(s){$2(t,s)}while(!0);rw(),Fh.current=a,Ve=i,It!==null?e=0:(Wt=null,Zt=0,e=Rt)}if(e!==0){if(e===2&&(i=By(t),i!==0&&(r=i,e=g0(t,i))),e===1)throw n=Cu,yo(t,0),Yi(t,r),jn(t,Tt()),n;if(e===6)Yi(t,r);else{if(i=t.current.alternate,!(r&30)&&!xV(i)&&(e=Bh(t,r),e===2&&(a=By(t),a!==0&&(r=a,e=g0(t,a))),e===1))throw n=Cu,yo(t,0),Yi(t,r),jn(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:to(t,Pn,ei);break;case 3:if(Yi(t,r),(r&130023424)===r&&(e=yw+500-Tt(),10<e)){if(Th(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xy(to.bind(null,t,Pn,ei),e);break}to(t,Pn,ei);break;case 4:if(Yi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_r(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yV(r/1960))-r,10<r){t.timeoutHandle=Xy(to.bind(null,t,Pn,ei),r);break}to(t,Pn,ei);break;case 5:to(t,Pn,ei);break;default:throw Error(Z(329))}}}return jn(t,Tt()),t.callbackNode===n?M2.bind(null,t):null}function g0(t,e){var n=Zc;return t.current.memoizedState.isDehydrated&&(yo(t,e).flags|=256),t=Bh(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&v0(e)),t}function v0(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function xV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Sr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yi(t,e){for(e&=~vw,e&=~Em,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_r(e),r=1<<n;t[n]=-1,e&=~r}}function RT(t){if(Ve&6)throw Error(Z(327));Rs();var e=Th(t,0);if(!(e&1))return jn(t,Tt()),null;var n=Bh(t,e);if(t.tag!==0&&n===2){var r=By(t);r!==0&&(e=r,n=g0(t,r))}if(n===1)throw n=Cu,yo(t,0),Yi(t,e),jn(t,Tt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,to(t,Pn,ei),jn(t,Tt()),null}function xw(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Gs=Tt()+500,xm&&Ra())}}function Po(t){na!==null&&na.tag===0&&!(Ve&6)&&Rs();var e=Ve;Ve|=1;var n=ir.transition,r=Ke;try{if(ir.transition=null,Ke=1,t)return t()}finally{Ke=r,ir.transition=n,Ve=e,!(Ve&6)&&Ra()}}function bw(){$n=_s.current,ft(_s)}function yo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YF(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(ew(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oh();break;case 3:Hs(),ft(kn),ft(pn),cw();break;case 5:lw(r);break;case 4:Hs();break;case 13:ft(mt);break;case 19:ft(mt);break;case 10:iw(r.type._context);break;case 22:case 23:bw()}n=n.return}if(Wt=t,It=t=ha(t.current,null),Zt=$n=e,Rt=0,Cu=null,vw=Em=Ao=0,Pn=Zc=null,co!==null){for(e=0;e<co.length;e++)if(n=co[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}co=null}return t}function $2(t,e){do{var n=It;try{if(rw(),rh.current=Lh,$h){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$h=!1}if(So=0,Bt=jt=gt=null,Qc=!1,Pu=0,gw.current=null,n===null||n.return===null){Rt=1,Cu=e,It=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=Zt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=wT(o);if(m!==null){m.flags&=-257,_T(m,o,s,a,e),m.mode&1&&bT(a,c,e),e=m,l=c;var x=e.updateQueue;if(x===null){var b=new Set;b.add(l),e.updateQueue=b}else x.add(l);break e}else{if(!(e&1)){bT(a,c,e),ww();break e}l=Error(Z(426))}}else if(dt&&s.mode&1){var y=wT(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),_T(y,o,s,a,e),tw(Ks(l,s));break e}}a=l=Ks(l,s),Rt!==4&&(Rt=2),Zc===null?Zc=[a]:Zc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=b2(a,l,e);pT(a,v);break e;case 1:s=l;var g=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fa===null||!fa.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=w2(a,s,e);pT(a,C);break e}}a=a.return}while(a!==null)}V2(n)}catch(S){e=S,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function L2(){var t=Fh.current;return Fh.current=Lh,t===null?Lh:t}function ww(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Wt===null||!(Ao&268435455)&&!(Em&268435455)||Yi(Wt,Zt)}function Bh(t,e){var n=Ve;Ve|=2;var r=L2();(Wt!==t||Zt!==e)&&(ei=null,yo(t,e));do try{bV();break}catch(i){$2(t,i)}while(!0);if(rw(),Ve=n,Fh.current=r,It!==null)throw Error(Z(261));return Wt=null,Zt=0,Rt}function bV(){for(;It!==null;)F2(It)}function wV(){for(;It!==null&&!H4();)F2(It)}function F2(t){var e=B2(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?V2(t):It=e,gw.current=null}function V2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pV(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,It=null;return}}else if(n=hV(n,e,$n),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Rt===0&&(Rt=5)}function to(t,e,n){var r=Ke,i=ir.transition;try{ir.transition=null,Ke=1,_V(t,e,n,r)}finally{ir.transition=i,Ke=r}return null}function _V(t,e,n,r){do Rs();while(na!==null);if(Ve&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(nF(t,a),t===Wt&&(It=Wt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Id||(Id=!0,z2(Eh,function(){return Rs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ir.transition,ir.transition=null;var o=Ke;Ke=1;var s=Ve;Ve|=4,gw.current=null,gV(t,n),R2(n,t),BF(Gy),Sh=!!Ky,Gy=Ky=null,t.current=n,vV(n),K4(),Ve=s,Ke=o,ir.transition=a}else t.current=n;if(Id&&(Id=!1,na=t,Uh=i),a=t.pendingLanes,a===0&&(fa=null),X4(n.stateNode),jn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vh)throw Vh=!1,t=p0,p0=null,t;return Uh&1&&t.tag!==0&&Rs(),a=t.pendingLanes,a&1?t===m0?eu++:(eu=0,m0=t):eu=0,Ra(),null}function Rs(){if(na!==null){var t=bk(Uh),e=ir.transition,n=Ke;try{if(ir.transition=null,Ke=16>t?16:t,na===null)var r=!1;else{if(t=na,na=null,Uh=0,Ve&6)throw Error(Z(331));var i=Ve;for(Ve|=4,le=t.current;le!==null;){var a=le,o=a.child;if(le.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(le=c;le!==null;){var u=le;switch(u.tag){case 0:case 11:case 15:Jc(8,u,a)}var f=u.child;if(f!==null)f.return=u,le=f;else for(;le!==null;){u=le;var h=u.sibling,m=u.return;if(k2(u),u===c){le=null;break}if(h!==null){h.return=m,le=h;break}le=m}}}var x=a.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}le=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,le=o;else e:for(;le!==null;){if(a=le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Jc(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,le=v;break e}le=a.return}}var g=t.current;for(le=g;le!==null;){o=le;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,le=w;else e:for(o=g;le!==null;){if(s=le,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:_m(9,s)}}catch(S){wt(s,s.return,S)}if(s===o){le=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,le=C;break e}le=s.return}}if(Ve=i,Ra(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(pm,t)}catch{}r=!0}return r}finally{Ke=n,ir.transition=e}}return!1}function DT(t,e,n){e=Ks(n,e),e=b2(t,e,1),t=ua(t,e,1),e=_n(),t!==null&&(Sf(t,1,e),jn(t,e))}function wt(t,e,n){if(t.tag===3)DT(t,t,n);else for(;e!==null;){if(e.tag===3){DT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fa===null||!fa.has(r))){t=Ks(n,t),t=w2(e,t,1),e=ua(e,t,1),t=_n(),e!==null&&(Sf(e,1,t),jn(e,t));break}}e=e.return}}function EV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Zt&n)===n&&(Rt===4||Rt===3&&(Zt&130023424)===Zt&&500>Tt()-yw?yo(t,0):vw|=n),jn(t,e)}function U2(t,e){e===0&&(t.mode&1?(e=yd,yd<<=1,!(yd&130023424)&&(yd=4194304)):e=1);var n=_n();t=xi(t,e),t!==null&&(Sf(t,e,n),jn(t,n))}function TV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),U2(t,n)}function SV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),U2(t,n)}var B2;B2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,dV(t,e,n);On=!!(t.flags&131072)}else On=!1,dt&&e.flags&1048576&&Hk(e,Nh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ah(t,e),t=e.pendingProps;var i=zs(e,pn.current);js(e,n),i=fw(null,e,r,t,i,n);var a=dw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(a=!0,Ch(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ow(e),i.updater=wm,e.stateNode=i,i._reactInternals=e,r0(e,r,t,n),e=o0(null,e,r,!0,a,n)):(e.tag=0,dt&&a&&Zb(e),yn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ah(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PV(r),t=mr(r,t),i){case 0:e=a0(null,e,r,t,n);break e;case 1:e=ST(null,e,r,t,n);break e;case 11:e=ET(null,e,r,t,n);break e;case 14:e=TT(null,e,r,mr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),a0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),ST(t,e,r,i,n);case 3:e:{if(S2(e),t===null)throw Error(Z(387));r=e.pendingProps,a=e.memoizedState,i=a.element,Jk(t,e),Dh(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Ks(Error(Z(423)),e),e=AT(t,e,r,n,i);break e}else if(r!==i){i=Ks(Error(Z(424)),e),e=AT(t,e,r,n,i);break e}else for(Vn=ca(e.stateNode.containerInfo.firstChild),Bn=e,dt=!0,xr=null,n=Xk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ws(),r===i){e=bi(t,e,n);break e}yn(t,e,r,n)}e=e.child}return e;case 5:return Zk(e),t===null&&e0(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Yy(r,i)?o=null:a!==null&&Yy(r,a)&&(e.flags|=32),T2(t,e),yn(t,e,o,n),e.child;case 6:return t===null&&e0(e),null;case 13:return A2(t,e,n);case 4:return sw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):yn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),ET(t,e,r,i,n);case 7:return yn(t,e,e.pendingProps,n),e.child;case 8:return yn(t,e,e.pendingProps.children,n),e.child;case 12:return yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,it(jh,r._currentValue),r._currentValue=o,a!==null)if(Sr(a.value,o)){if(a.children===i.children&&!kn.current){e=bi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=ui(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),t0(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Z(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),t0(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}yn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,js(e,n),i=or(i),r=r(i),e.flags|=1,yn(t,e,r,n),e.child;case 14:return r=e.type,i=mr(r,e.pendingProps),i=mr(r.type,i),TT(t,e,r,i,n);case 15:return _2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),ah(t,e),e.tag=1,Nn(r)?(t=!0,Ch(e)):t=!1,js(e,n),x2(e,r,i),r0(e,r,i,n),o0(null,e,r,!0,t,n);case 19:return P2(t,e,n);case 22:return E2(t,e,n)}throw Error(Z(156,e.tag))};function z2(t,e){return gk(t,e)}function AV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,e,n,r){return new AV(t,e,n,r)}function _w(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PV(t){if(typeof t=="function")return _w(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ub)return 11;if(t===Bb)return 14}return 2}function ha(t,e){var n=t.alternate;return n===null?(n=nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lh(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")_w(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ds:return xo(n.children,i,a,e);case Vb:o=8,i|=8;break;case Py:return t=nr(12,n,e,i|2),t.elementType=Py,t.lanes=a,t;case Iy:return t=nr(13,n,e,i),t.elementType=Iy,t.lanes=a,t;case Oy:return t=nr(19,n,e,i),t.elementType=Oy,t.lanes=a,t;case ZC:return Tm(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QC:o=10;break e;case JC:o=9;break e;case Ub:o=11;break e;case Bb:o=14;break e;case Wi:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=nr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function xo(t,e,n,r){return t=nr(7,t,r,e),t.lanes=n,t}function Tm(t,e,n,r){return t=nr(22,t,r,e),t.elementType=ZC,t.lanes=n,t.stateNode={isHidden:!1},t}function kv(t,e,n){return t=nr(6,t,null,e),t.lanes=n,t}function Nv(t,e,n){return e=nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dv(0),this.expirationTimes=dv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ew(t,e,n,r,i,a,o,s,l){return t=new IV(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=nr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ow(a),t}function OV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function W2(t){if(!t)return Ta;t=t._reactInternals;e:{if(Uo(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Nn(n))return Wk(t,n,e)}return e}function q2(t,e,n,r,i,a,o,s,l){return t=Ew(n,r,!0,t,i,a,o,s,l),t.context=W2(null),n=t.current,r=_n(),i=da(n),a=ui(r,i),a.callback=e??null,ua(n,a,i),t.current.lanes=i,Sf(t,i,r),jn(t,r),t}function Sm(t,e,n,r){var i=e.current,a=_n(),o=da(i);return n=W2(n),e.context===null?e.context=n:e.pendingContext=n,e=ui(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ua(i,e,o),t!==null&&(Er(t,i,o,a),nh(t,i,o)),o}function zh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function MT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tw(t,e){MT(t,e),(t=t.alternate)&&MT(t,e)}function CV(){return null}var H2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sw(t){this._internalRoot=t}Am.prototype.render=Sw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Sm(t,e,null,null)};Am.prototype.unmount=Sw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Po(function(){Sm(null,t,null,null)}),e[yi]=null}};function Am(t){this._internalRoot=t}Am.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ek();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&Sk(t)}};function Aw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $T(){}function kV(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=zh(o);a.call(c)}}var o=q2(e,r,t,0,null,!1,!1,"",$T);return t._reactRootContainer=o,t[yi]=o.current,_u(t.nodeType===8?t.parentNode:t),Po(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=zh(l);s.call(c)}}var l=Ew(t,0,!1,null,null,!1,!1,"",$T);return t._reactRootContainer=l,t[yi]=l.current,_u(t.nodeType===8?t.parentNode:t),Po(function(){Sm(e,l,n,r)}),l}function Im(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=zh(o);s.call(l)}}Sm(e,o,t,i)}else o=kV(n,e,t,i,r);return zh(o)}wk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mc(e.pendingLanes);n!==0&&(qb(e,n|1),jn(e,Tt()),!(Ve&6)&&(Gs=Tt()+500,Ra()))}break;case 13:Po(function(){var r=xi(t,1);if(r!==null){var i=_n();Er(r,t,1,i)}}),Tw(t,1)}};Hb=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var n=_n();Er(e,t,134217728,n)}Tw(t,134217728)}};_k=function(t){if(t.tag===13){var e=da(t),n=xi(t,e);if(n!==null){var r=_n();Er(n,t,e,r)}Tw(t,e)}};Ek=function(){return Ke};Tk=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};Fy=function(t,e,n){switch(e){case"input":if(Ny(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ym(r);if(!i)throw Error(Z(90));tk(r),Ny(r,i)}}}break;case"textarea":rk(t,n);break;case"select":e=n.value,e!=null&&Os(t,!!n.multiple,e,!1)}};uk=xw;fk=Po;var NV={usingClientEntryPoint:!1,Events:[Pf,gs,ym,lk,ck,xw]},Ec={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jV={bundleType:Ec.bundleType,version:Ec.version,rendererPackageName:Ec.rendererPackageName,rendererConfig:Ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pk(t),t===null?null:t.stateNode},findFiberByHostInstance:Ec.findFiberByHostInstance||CV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{pm=Od.inject(jV),Mr=Od}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NV;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aw(e))throw Error(Z(200));return OV(t,e,null,n)};qn.createRoot=function(t,e){if(!Aw(t))throw Error(Z(299));var n=!1,r="",i=H2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ew(t,1,!1,null,null,n,!1,r,i),t[yi]=e.current,_u(t.nodeType===8?t.parentNode:t),new Sw(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=pk(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return Po(t)};qn.hydrate=function(t,e,n){if(!Pm(e))throw Error(Z(200));return Im(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!Aw(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=H2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=q2(e,null,t,1,n??null,i,!1,a,o),t[yi]=e.current,_u(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Am(e)};qn.render=function(t,e,n){if(!Pm(e))throw Error(Z(200));return Im(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!Pm(t))throw Error(Z(40));return t._reactRootContainer?(Po(function(){Im(null,null,t,!1,function(){t._reactRootContainer=null,t[yi]=null})}),!0):!1};qn.unstable_batchedUpdates=xw;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pm(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Im(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function K2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K2)}catch(t){console.error(t)}}K2(),KC.exports=qn;var RV=KC.exports,G2,LT=RV;G2=LT.createRoot,LT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(this,arguments)}var ra;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ra||(ra={}));const FT="popstate";function DV(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return y0("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wh(i)}return $V(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Y2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MV(){return Math.random().toString(36).substr(2,8)}function VT(t,e){return{usr:t.state,key:t.key,idx:e}}function y0(t,e,n,r){return n===void 0&&(n=null),ku({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rl(e):e,{state:n,key:e&&e.key||r||MV()})}function Wh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $V(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=ra.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ku({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=ra.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:s,location:b.location,delta:v})}function h(y,v){s=ra.Push;let g=y0(b.location,y,v);c=u()+1;let w=VT(g,c),C=b.createHref(g);try{o.pushState(w,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}a&&l&&l({action:s,location:b.location,delta:1})}function m(y,v){s=ra.Replace;let g=y0(b.location,y,v);c=u();let w=VT(g,c),C=b.createHref(g);o.replaceState(w,"",C),a&&l&&l({action:s,location:b.location,delta:0})}function x(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof y=="string"?y:Wh(y);return g=g.replace(/ $/,"%20"),St(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let b={get action(){return s},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(FT,f),l=y,()=>{i.removeEventListener(FT,f),l=null}},createHref(y){return e(i,y)},createURL:x,encodeLocation(y){let v=x(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(y){return o.go(y)}};return b}var UT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(UT||(UT={}));function LV(t,e,n){return n===void 0&&(n="/"),FV(t,e,n,!1)}function FV(t,e,n,r){let i=typeof e=="string"?Rl(e):e,a=Pw(i.pathname||"/",n);if(a==null)return null;let o=X2(t);VV(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=QV(a);s=YV(o[l],c,r)}return s}function X2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(St(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=pa([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(St(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),X2(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:KV(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of Q2(a.path))i(a,o,l)}),e}function Q2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=Q2(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function VV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UV=/^:[\w-]+$/,BV=3,zV=2,WV=1,qV=10,HV=-2,BT=t=>t==="*";function KV(t,e){let n=t.split("/"),r=n.length;return n.some(BT)&&(r+=HV),e&&(r+=zV),n.filter(i=>!BT(i)).reduce((i,a)=>i+(UV.test(a)?BV:a===""?WV:qV),r)}function GV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YV(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=zT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=zT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:pa([a,f.pathname]),pathnameBase:t3(pa([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=pa([a,f.pathnameBase]))}return o}function zT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let b=s[f]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=s[f];return m&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function XV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Y2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Y2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Rl(t):t;return{pathname:n?n.startsWith("/")?n:ZV(n,e):e,search:n3(r),hash:r3(i)}}function ZV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Iw(t,e){let n=e3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ow(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Rl(t):(i=ku({},t),St(!i.pathname||!i.pathname.includes("?"),jv("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),jv("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),jv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=JV(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const pa=t=>t.join("/").replace(/\/\/+/g,"/"),t3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,r3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const J2=["post","put","patch","delete"];new Set(J2);const a3=["get",...J2];new Set(a3);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}const Cw=D.createContext(null),o3=D.createContext(null),Da=D.createContext(null),Om=D.createContext(null),ki=D.createContext({outlet:null,matches:[],isDataRoute:!1}),Z2=D.createContext(null);function s3(t,e){let{relative:n}=e===void 0?{}:e;Dl()||St(!1);let{basename:r,navigator:i}=D.useContext(Da),{hash:a,pathname:o,search:s}=tN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:pa([r,o])),i.createHref({pathname:l,search:s,hash:a})}function Dl(){return D.useContext(Om)!=null}function Ma(){return Dl()||St(!1),D.useContext(Om).location}function eN(t){D.useContext(Da).static||D.useLayoutEffect(t)}function Bo(){let{isDataRoute:t}=D.useContext(ki);return t?w3():l3()}function l3(){Dl()||St(!1);let t=D.useContext(Cw),{basename:e,future:n,navigator:r}=D.useContext(Da),{matches:i}=D.useContext(ki),{pathname:a}=Ma(),o=JSON.stringify(Iw(i,n.v7_relativeSplatPath)),s=D.useRef(!1);return eN(()=>{s.current=!0}),D.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=Ow(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:pa([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,o,a,t])}function c3(){let{matches:t}=D.useContext(ki),e=t[t.length-1];return e?e.params:{}}function tN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(Da),{matches:i}=D.useContext(ki),{pathname:a}=Ma(),o=JSON.stringify(Iw(i,r.v7_relativeSplatPath));return D.useMemo(()=>Ow(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function u3(t,e){return f3(t,e)}function f3(t,e,n,r){Dl()||St(!1);let{navigator:i,static:a}=D.useContext(Da),{matches:o}=D.useContext(ki),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Ma(),f;if(e){var h;let v=typeof e=="string"?Rl(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||St(!1),f=v}else f=u;let m=f.pathname||"/",x=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=!a&&n&&n.matches&&n.matches.length>0?n.matches:LV(t,{pathname:x}),y=g3(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:pa([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:pa([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&y?D.createElement(Om.Provider,{value:{location:Nu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ra.Pop}},y):y}function d3(){let t=b3(),e=i3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const h3=D.createElement(d3,null);class p3 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(ki.Provider,{value:this.props.routeContext},D.createElement(Z2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m3(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(Cw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(ki.Provider,{value:e},r)}function g3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||St(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:m}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let m,x=!1,b=null,y=null;n&&(m=s&&f.route.id?s[f.route.id]:void 0,b=f.route.errorElement||h3,l&&(c<0&&h===0?(x=!0,y=null):c===h&&(x=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),g=()=>{let w;return m?w=b:x?w=y:f.route.Component?w=D.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,D.createElement(m3,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement(p3,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var nN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nN||{}),qh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qh||{});function v3(t){let e=D.useContext(Cw);return e||St(!1),e}function y3(t){let e=D.useContext(o3);return e||St(!1),e}function x3(t){let e=D.useContext(ki);return e||St(!1),e}function rN(t){let e=x3(),n=e.matches[e.matches.length-1];return n.route.id||St(!1),n.route.id}function b3(){var t;let e=D.useContext(Z2),n=y3(qh.UseRouteError),r=rN(qh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function w3(){let{router:t}=v3(nN.UseNavigateStable),e=rN(qh.UseNavigateStable),n=D.useRef(!1);return eN(()=>{n.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nu({fromRouteId:e},a)))},[t,e])}function _3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function kw(t){let{to:e,replace:n,state:r,relative:i}=t;Dl()||St(!1);let{future:a,static:o}=D.useContext(Da),{matches:s}=D.useContext(ki),{pathname:l}=Ma(),c=Bo(),u=Ow(e,Iw(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return D.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function kr(t){St(!1)}function E3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ra.Pop,navigator:a,static:o=!1,future:s}=t;Dl()&&St(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:a,static:o,future:Nu({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Rl(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:x="default"}=r,b=D.useMemo(()=>{let y=Pw(u,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:x},navigationType:i}},[l,u,f,h,m,x,i]);return b==null?null:D.createElement(Da.Provider,{value:c},D.createElement(Om.Provider,{children:n,value:b}))}function WT(t){let{children:e,location:n}=t;return u3(x0(e),n)}new Promise(()=>{});function x0(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let a=[...e,i];if(r.type===D.Fragment){n.push.apply(n,x0(r.props.children,a));return}r.type!==kr&&St(!1),!r.props.index||!r.props.children||St(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=x0(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0.apply(this,arguments)}function T3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function S3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A3(t,e){return t.button===0&&(!e||e==="_self")&&!S3(t)}const P3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],I3="6";try{window.__reactRouterVersion=I3}catch{}const O3="startTransition",qT=E4[O3];function C3(t){let{basename:e,children:n,future:r,window:i}=t,a=D.useRef();a.current==null&&(a.current=DV({window:i,v5Compat:!0}));let o=a.current,[s,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=D.useCallback(f=>{c&&qT?qT(()=>l(f)):l(f)},[l,c]);return D.useLayoutEffect(()=>o.listen(u),[o,u]),D.useEffect(()=>_3(r),[r]),D.createElement(E3,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const k3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bo=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=T3(e,P3),{basename:m}=D.useContext(Da),x,b=!1;if(typeof c=="string"&&N3.test(c)&&(x=c,k3))try{let w=new URL(window.location.href),C=c.startsWith("//")?new URL(w.protocol+c):new URL(c),S=Pw(C.pathname,m);C.origin===w.origin&&S!=null?c=S+C.search+C.hash:b=!0}catch{}let y=s3(c,{relative:i}),v=j3(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:f});function g(w){r&&r(w),w.defaultPrevented||v(w)}return D.createElement("a",b0({},h,{href:x||y,onClick:b||a?r:g,ref:n,target:l}))});var HT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(HT||(HT={}));var KT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KT||(KT={}));function j3(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=Bo(),c=Ma(),u=tN(t,{relative:o});return D.useCallback(f=>{if(A3(f,n)){f.preventDefault();let h=r!==void 0?r:Wh(c)===Wh(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[c,l,u,r,i,n,t,a,o,s])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ie=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...c},u)=>D.createElement("svg",{ref:u,...R3,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${D3(t)}`,s].join(" "),...c},[...e.map(([f,h])=>D.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=Ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Ie("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=Ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Ie("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=Ie("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Ie("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Ie("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Ie("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=Ie("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=Ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=Ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=Ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Ie("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=Ie("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=Ie("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=Ie("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=Ie("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=Ie("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Ie("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=Ie("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=Ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=Ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),e5=()=>{};var XT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},uN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),r.push(n[u],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||f==null)throw new n5;const h=a<<2|s>>4;if(r.push(h),c!==64){const m=s<<4&240|c>>2;if(r.push(m),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r5=function(t){const e=cN(t);return uN.encodeByteArray(e,!0)},Hh=function(t){return r5(t).replace(/\./g,"")},fN=function(t){try{return uN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=()=>i5().__FIREBASE_DEFAULTS__,o5=()=>{if(typeof process>"u"||typeof XT>"u")return;const t=XT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fN(t[1]);return e&&JSON.parse(e)},km=()=>{try{return e5()||a5()||o5()||s5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dN=t=>{var e,n;return(n=(e=km())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},l5=t=>{const e=dN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hN=()=>{var t;return(t=km())===null||t===void 0?void 0:t.config},pN=t=>{var e;return(e=km())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hh(JSON.stringify(n)),Hh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function d5(){var t;const e=(t=km())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function m5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g5(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v5(){return!d5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y5(){try{return typeof indexedDB=="object"}catch{return!1}}function x5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="FirebaseError";class Ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=b5,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Of.prototype.create)}}class Of{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?w5(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Ni(i,s,r)}}function w5(t,e){return t.replace(_5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _5=/\{\$([^}]+)}/g;function E5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Io(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(QT(a)&&QT(o)){if(!Io(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Fc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function T5(t,e){const n=new S5(t,e);return n.subscribe.bind(n)}class S5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Mv),i.error===void 0&&(i.error=Mv),i.complete===void 0&&(i.complete=Mv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class Oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O5(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I5(t){return t===no?void 0:t}function O5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const k5={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},N5=De.INFO,j5={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},R5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=j5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rw{constructor(e){this.name=e,this._logLevel=N5,this._logHandler=R5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const D5=(t,e)=>e.some(n=>t instanceof n);let JT,ZT;function M5(){return JT||(JT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $5(){return ZT||(ZT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mN=new WeakMap,P0=new WeakMap,gN=new WeakMap,$v=new WeakMap,Dw=new WeakMap;function L5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(ma(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mN.set(n,t)}).catch(()=>{}),Dw.set(e,t),e}function F5(t){if(P0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});P0.set(t,e)}let I0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return P0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V5(t){I0=t(I0)}function U5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lv(this),e,...n);return gN.set(r,e.sort?e.sort():[e]),ma(r)}:$5().includes(t)?function(...e){return t.apply(Lv(this),e),ma(mN.get(this))}:function(...e){return ma(t.apply(Lv(this),e))}}function B5(t){return typeof t=="function"?U5(t):(t instanceof IDBTransaction&&F5(t),D5(t,M5())?new Proxy(t,I0):t)}function ma(t){if(t instanceof IDBRequest)return L5(t);if($v.has(t))return $v.get(t);const e=B5(t);return e!==t&&($v.set(t,e),Dw.set(e,t)),e}const Lv=t=>Dw.get(t);function z5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=ma(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ma(o.result),l.oldVersion,l.newVersion,ma(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const W5=["get","getKey","getAll","getAllKeys","count"],q5=["put","add","delete","clear"],Fv=new Map;function eS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fv.get(e))return Fv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=q5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W5.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(s.shift())),(await Promise.all([c[n](...s),i&&l.done]))[0]};return Fv.set(e,a),a}V5(t=>({...t,get:(e,n,r)=>eS(e,n)||t.get(e,n,r),has:(e,n)=>!!eS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const O0="@firebase/app",tS="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Rw("@firebase/app"),G5="@firebase/app-compat",Y5="@firebase/analytics-compat",X5="@firebase/analytics",Q5="@firebase/app-check-compat",J5="@firebase/app-check",Z5="@firebase/auth",e6="@firebase/auth-compat",t6="@firebase/database",n6="@firebase/data-connect",r6="@firebase/database-compat",i6="@firebase/functions",a6="@firebase/functions-compat",o6="@firebase/installations",s6="@firebase/installations-compat",l6="@firebase/messaging",c6="@firebase/messaging-compat",u6="@firebase/performance",f6="@firebase/performance-compat",d6="@firebase/remote-config",h6="@firebase/remote-config-compat",p6="@firebase/storage",m6="@firebase/storage-compat",g6="@firebase/firestore",v6="@firebase/vertexai",y6="@firebase/firestore-compat",x6="firebase",b6="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="[DEFAULT]",w6={[O0]:"fire-core",[G5]:"fire-core-compat",[X5]:"fire-analytics",[Y5]:"fire-analytics-compat",[J5]:"fire-app-check",[Q5]:"fire-app-check-compat",[Z5]:"fire-auth",[e6]:"fire-auth-compat",[t6]:"fire-rtdb",[n6]:"fire-data-connect",[r6]:"fire-rtdb-compat",[i6]:"fire-fn",[a6]:"fire-fn-compat",[o6]:"fire-iid",[s6]:"fire-iid-compat",[l6]:"fire-fcm",[c6]:"fire-fcm-compat",[u6]:"fire-perf",[f6]:"fire-perf-compat",[d6]:"fire-rc",[h6]:"fire-rc-compat",[p6]:"fire-gcs",[m6]:"fire-gcs-compat",[g6]:"fire-fst",[y6]:"fire-fst-compat",[v6]:"fire-vertex","fire-js":"fire-js",[x6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,_6=new Map,k0=new Map;function nS(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(k0.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;k0.set(e,t);for(const n of Kh.values())nS(n,t);for(const n of _6.values())nS(n,t);return!0}function Mw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function er(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new Of("app","Firebase",E6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=b6;function vN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:C0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ga.create("bad-app-name",{appName:String(i)});if(n||(n=hN()),!n)throw ga.create("no-options");const a=Kh.get(i);if(a){if(Io(n,a.options)&&Io(r,a.config))return a;throw ga.create("duplicate-app",{appName:i})}const o=new C5(i);for(const l of k0.values())o.addComponent(l);const s=new T6(n,r,o);return Kh.set(i,s),s}function yN(t=C0){const e=Kh.get(t);if(!e&&t===C0&&hN())return vN();if(!e)throw ga.create("no-app",{appName:t});return e}function va(t,e,n){var r;let i=(r=w6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(s.join(" "));return}Qs(new Oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="firebase-heartbeat-database",A6=1,ju="firebase-heartbeat-store";let Vv=null;function xN(){return Vv||(Vv=z5(S6,A6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw ga.create("idb-open",{originalErrorMessage:t.message})})),Vv}async function P6(t){try{const n=(await xN()).transaction(ju),r=await n.objectStore(ju).get(bN(t));return await n.done,r}catch(e){if(e instanceof Ni)wi.warn(e.message);else{const n=ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(n.message)}}}async function rS(t,e){try{const r=(await xN()).transaction(ju,"readwrite");await r.objectStore(ju).put(e,bN(t)),await r.done}catch(n){if(n instanceof Ni)wi.warn(n.message);else{const r=ga.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wi.warn(r.message)}}}function bN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=1024,O6=30;class C6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=iS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>O6){const o=j6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iS(),{heartbeatsToSend:r,unsentEntries:i}=k6(this._heartbeatsCache.heartbeats),a=Hh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return wi.warn(n),""}}}function iS(){return new Date().toISOString().substring(0,10)}function k6(t,e=I6){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),aS(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class N6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y5()?x5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function aS(t){return Hh(JSON.stringify({version:2,heartbeats:t})).length}function j6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){Qs(new Oo("platform-logger",e=>new H5(e),"PRIVATE")),Qs(new Oo("heartbeat",e=>new C6(e),"PRIVATE")),va(O0,tS,t),va(O0,tS,"esm2017"),va("fire-js","")}R6("");function $w(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zo(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})}function wN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D6=wN,_N=new Of("auth","Firebase",wN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Rw("@firebase/auth");function M6(t,...e){Gh.logLevel<=De.WARN&&Gh.warn(`Auth (${Ml}): ${t}`,...e)}function ch(t,...e){Gh.logLevel<=De.ERROR&&Gh.error(`Auth (${Ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw Lw(t,...e)}function Lr(t,...e){return Lw(t,...e)}function EN(t,e,n){const r=Object.assign(Object.assign({},D6()),{[e]:n});return new Of("auth","Firebase",r).create(e,{appName:t.name})}function fi(t){return EN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _N.create(t,...e)}function xe(t,e,...n){if(!t)throw Lw(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ch(e),new Error(e)}function _i(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $6(){return oS()==="http:"||oS()==="https:"}function oS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($6()||p5()||"connection"in navigator)?navigator.onLine:!0}function F6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=f5()||m5()}get(){return L6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B6=new kf(3e4,6e4);function $a(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ji(t,e,n,r,i={}){return SN(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=Cf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return h5()||(c.referrerPolicy="no-referrer"),TN.fetch()(await AN(t,t.config.apiHost,n,s),c)})}async function SN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V6),e);try{const i=new W6(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Cd(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cd(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw EN(t,u,c);Ar(t,u)}}catch(i){if(i instanceof Ni)throw i;Ar(t,"network-request-failed",{message:String(i)})}}async function Nf(t,e,n,r,i={}){const a=await ji(t,e,n,r,i);return"mfaPendingCredential"in a&&Ar(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function AN(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?Fw(t.config,i):`${t.config.apiScheme}://${i}`;return U6.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function z6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),B6.get())})}}function Cd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}function sS(t){return t!==void 0&&t.enterprise!==void 0}class q6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function H6(t,e){return ji(t,"GET","/v2/recaptchaConfig",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e){return ji(t,"POST","/v1/accounts:delete",e)}async function Yh(t,e){return ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G6(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=Vw(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:ru(Uv(i.auth_time)),issuedAtTime:ru(Uv(i.iat)),expirationTime:ru(Uv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Uv(t){return Number(t)*1e3}function Vw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=fN(n);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lS(t){const e=Vw(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ni&&Y6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Y6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Js(t,Yh(n,{idToken:r}));xe(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?PN(a.providerUserInfo):[],s=J6(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new j0(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Q6(t){const e=kt(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PN(t){return t.map(e=>{var{providerId:n}=e,r=$w(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t,e){const n=await SN(t,{},async()=>{const r=Cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await AN(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",TN.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eU(t,e){return ji(t,"POST","/v2/accounts:revokeToken",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=lS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Z6(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Ds;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(xe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ds,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=$w(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new j0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Js(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G6(this,e)}reload(){return Q6(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await Js(this,K6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(s=n.tenantId)!==null&&s!==void 0?s:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:C,isAnonymous:S,providerData:A,stsTokenManager:E}=n;xe(w&&E,e,"internal-error");const T=Ds.fromJSON(this.name,E);xe(typeof w=="string",e,"internal-error"),zi(f,e.name),zi(h,e.name),xe(typeof C=="boolean",e,"internal-error"),xe(typeof S=="boolean",e,"internal-error"),zi(m,e.name),zi(x,e.name),zi(b,e.name),zi(y,e.name),zi(v,e.name),zi(g,e.name);const P=new wr({uid:w,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:S,photoURL:x,phoneNumber:m,tenantId:b,stsTokenManager:T,createdAt:v,lastLoginAt:g});return A&&Array.isArray(A)&&(P.providerData=A.map(I=>Object.assign({},I))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ds;i.updateFromServerResponse(n);const a=new wr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];xe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Ds;s.updateFromIdToken(r);const l=new wr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new j0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=new Map;function oi(t){_i(t instanceof Function,"Expected a class definition");let e=cS.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IN.type="NONE";const uS=IN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ms{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,a),this.fullPersistenceKey=uh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yh(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ms(oi(uS),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||oi(uS);const o=uh(r,e.config.apiKey,e.name);let s=null;for(const c of n)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const h=await Yh(e,{idToken:u}).catch(()=>{});if(!h)break;f=await wr._fromGetAccountInfoResponse(e,h,u)}else f=wr._fromJSON(e,u);c!==a&&(s=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ms(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new Ms(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ON(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RN(e))return"Blackberry";if(DN(e))return"Webos";if(CN(e))return"Safari";if((e.includes("chrome/")||kN(e))&&!e.includes("edge/"))return"Chrome";if(jN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ON(t=mn()){return/firefox\//i.test(t)}function CN(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kN(t=mn()){return/crios\//i.test(t)}function NN(t=mn()){return/iemobile/i.test(t)}function jN(t=mn()){return/android/i.test(t)}function RN(t=mn()){return/blackberry/i.test(t)}function DN(t=mn()){return/webos/i.test(t)}function Uw(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tU(t=mn()){var e;return Uw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nU(){return g5()&&document.documentMode===10}function MN(t=mn()){return Uw(t)||jN(t)||DN(t)||RN(t)||/windows phone/i.test(t)||NN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e=[]){let n;switch(t){case"Browser":n=fS(mn());break;case"Worker":n=`${fS(mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t,e={}){return ji(t,"GET","/v2/passwordPolicy",$a(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=6;class oU{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dS(this),this.idTokenSubscription=new dS(this),this.beforeStateQueue=new rU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_N,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ms.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yh(this,{idToken:e}),r=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(fi(this));const n=e?kt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iU(this),n=new oU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Of("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oi(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Ms.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$N(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&M6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wo(t){return kt(t)}class dS{constructor(e){this.auth=e,this.observer=null,this.addObserver=T5(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lU(t){Nm=t}function LN(t){return Nm.loadJS(t)}function cU(){return Nm.recaptchaEnterpriseScript}function uU(){return Nm.gapiScript}function fU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class dU{constructor(){this.enterprise=new hU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pU="recaptcha-enterprise",FN="NO_RECAPTCHA";class mU{constructor(e){this.type=pU,this.auth=Wo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{H6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new q6(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;sS(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(FN)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dU().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&sS(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=cU();l.length!==0&&(l+=s),LN(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function hS(t,e,n,r=!1,i=!1){const a=new mU(t);let o;if(i)o=FN;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const s=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function R0(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await hS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await hS(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t,e){const n=Mw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Io(a,e??{}))return i;Ar(i,"already-initialized")}return n.initialize({options:e})}function vU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yU(t,e,n){const r=Wo(t);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=VN(e),{host:o,port:s}=xU(e),l=s===null?"":`:${s}`,c={url:`${a}//${o}${l}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Io(c,r.config.emulator)&&Io(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,bU()}function VN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xU(t){const e=VN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:pS(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:pS(o)}}}function pS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function wU(t,e){return ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e){return Nf(t,"POST","/v1/accounts:signInWithPassword",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e){return Nf(t,"POST","/v1/accounts:signInWithEmailLink",$a(t,e))}async function TU(t,e){return Nf(t,"POST","/v1/accounts:signInWithEmailLink",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Bw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ru(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ru(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R0(e,n,"signInWithPassword",_U);case"emailLink":return EU(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R0(e,r,"signUpPassword",wU);case"emailLink":return TU(e,{idToken:n,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(t,e){return Nf(t,"POST","/v1/accounts:signInWithIdp",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="http://localhost";class Co extends Bw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=$w(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Co(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $s(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$s(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$s(e,n)}buildRequest(){const e={requestUri:SU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PU(t){const e=Lc(Fc(t)).link,n=e?Lc(Fc(e)).deep_link_id:null,r=Lc(Fc(t)).deep_link_id;return(r?Lc(Fc(r)).link:null)||r||n||e||t}class zw{constructor(e){var n,r,i,a,o,s;const l=Lc(Fc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=AU((i=l.mode)!==null&&i!==void 0?i:null);xe(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=PU(e);try{return new zw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.providerId=$l.PROVIDER_ID}static credential(e,n){return Ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zw.parseLink(n);return xe(r,"argument-error"),Ru._fromEmailAndCode(e,r.code,r.tenantId)}}$l.PROVIDER_ID="password";$l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends UN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends jf{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends jf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Co._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends jf{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends jf{constructor(){super("twitter.com")}static credential(e,n){return Co._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(t,e){return Nf(t,"POST","/v1/accounts:signUp",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await wr._fromIdTokenResponse(e,r,i),o=mS(r);return new ko({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mS(r);return new ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Ni{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qh(e,n,r,i)}}function BN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,a,e,r):a})}async function OU(t,e,n=!1){const r=await Js(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e,n=!1){const{auth:r}=t;if(er(r.app))return Promise.reject(fi(r));const i="reauthenticate";try{const a=await Js(t,BN(r,i,e,t),n);xe(a.idToken,r,"internal-error");const o=Vw(a.idToken);xe(o,r,"internal-error");const{sub:s}=o;return xe(t.uid===s,r,"user-mismatch"),ko._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e,n=!1){if(er(t.app))return Promise.reject(fi(t));const r="signIn",i=await BN(t,r,e),a=await ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function kU(t,e){return zN(Wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t){const e=Wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NU(t,e,n){if(er(t.app))return Promise.reject(fi(t));const r=Wo(t),o=await R0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&WN(t),l}),s=await ko._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function jU(t,e,n){return er(t.app)?Promise.reject(fi(t)):kU(kt(t),$l.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(t,e){return ji(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=kt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Js(r,RU(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e){return kt(t).setPersistence(e)}function MU(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function $U(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function LU(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function FU(t){return kt(t).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=1e3,UU=10;class HN extends qN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);nU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HN.type="LOCAL";const BU=HN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN extends qN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KN.type="SESSION";const Ww=KN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async c=>c(n.origin,a)),l=await zU(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=qw("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function qU(t){Fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function HU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GU(){return GN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebaseLocalStorageDb",YU=1,Zh="firebaseLocalStorage",XN="fbase_key";class Rf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rm(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function XU(){const t=indexedDB.deleteDatabase(YN);return new Rf(t).toPromise()}function D0(){const t=indexedDB.open(YN,YU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zh,{keyPath:XN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),await XU(),e(await D0()))})})}async function gS(t,e,n){const r=Rm(t,!0).put({[XN]:e,value:n});return new Rf(r).toPromise()}async function QU(t,e){const n=Rm(t,!1).get(e),r=await new Rf(n).toPromise();return r===void 0?null:r.value}function vS(t,e){const n=Rm(t,!0).delete(e);return new Rf(n).toPromise()}const JU=800,ZU=3;class QN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await D0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jm._getInstance(GU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HU(),!this.activeServiceWorker)return;this.sender=new WU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await D0();return await gS(e,Jh,"1"),await vS(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>QU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Rm(i,!1).getAll();return new Rf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QN.type="LOCAL";const eB=QN;new kf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t,e){return e?oi(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends Bw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $s(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $s(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $s(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nB(t){return zN(t.auth,new Hw(t),t.bypassAuthState)}function rB(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),CU(n,new Hw(t),t.bypassAuthState)}async function iB(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),OU(n,new Hw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nB;case"linkViaPopup":case"linkViaRedirect":return iB;case"reauthViaPopup":case"reauthViaRedirect":return rB;default:Ar(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=new kf(2e3,1e4);class Es extends JN{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=qw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aB.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="pendingRedirect",fh=new Map;class sB extends JN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const r=await lB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lB(t,e){const n=fB(e),r=uB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cB(t,e){fh.set(t._key(),e)}function uB(t){return oi(t._redirectPersistence)}function fB(t){return uh(oB,t.config.apiKey,t.name)}async function dB(t,e,n=!1){if(er(t.app))return Promise.reject(fi(t));const r=Wo(t),i=tB(r,e),o=await new sB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=10*60*1e3;class pB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hB&&this.cachedEventUids.clear(),this.cachedEventUids.has(yS(e))}saveEventToCache(e){this.cachedEventUids.add(yS(e)),this.lastProcessedEventTime=Date.now()}}function yS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e={}){return ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yB=/^https?/;async function xB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gB(t);for(const n of e)try{if(bB(n))return}catch{}Ar(t,"unauthorized-domain")}function bB(t){const e=N0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yB.test(n))return!1;if(vB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=new kf(3e4,6e4);function xS(){const t=Fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _B(t){return new Promise((e,n)=>{var r,i,a;function o(){xS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xS(),n(Lr(t,"network-request-failed"))},timeout:wB.get()})}if(!((i=(r=Fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Fr().gapi)===null||a===void 0)&&a.load)o();else{const s=fU("iframefcb");return Fr()[s]=()=>{gapi.load?o():n(Lr(t,"network-request-failed"))},LN(`${uU()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw dh=null,e})}let dh=null;function EB(t){return dh=dh||_B(t),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=new kf(5e3,15e3),SB="__/auth/iframe",AB="emulator/auth/iframe",PB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OB(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fw(e,AB):`https://${t.config.authDomain}/${SB}`,r={apiKey:e.apiKey,appName:t.name,v:Ml},i=IB.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Cf(r).slice(1)}`}async function CB(t){const e=await EB(t),n=Fr().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:OB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PB,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Lr(t,"network-request-failed"),s=Fr().setTimeout(()=>{a(o)},TB.get());function l(){Fr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NB=500,jB=600,RB="_blank",DB="http://localhost";class bS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MB(t,e,n,r=NB,i=jB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},kB),{width:r.toString(),height:i.toString(),top:a,left:o}),c=mn().toLowerCase();n&&(s=kN(c)?RB:n),ON(c)&&(e=e||DB,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,x])=>`${h}${m}=${x},`,"");if(tU(c)&&s!=="_self")return $B(e||"",s),new bS(null);const f=window.open(e||"",s,u);xe(f,t,"popup-blocked");try{f.focus()}catch{}return new bS(f)}function $B(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB="__/auth/handler",FB="emulator/auth/handler",VB=encodeURIComponent("fac");async function wS(t,e,n,r,i,a){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ml,eventId:i};if(e instanceof UN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",E5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof jf){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${VB}=${encodeURIComponent(l)}`:"";return`${UB(t)}?${Cf(s).slice(1)}${c}`}function UB({config:t}){return t.emulator?Fw(t,FB):`https://${t.authDomain}/${LB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="webStorageSupport";class BB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ww,this._completeRedirectFn=dB,this._overrideRedirectResult=cB}async _openPopup(e,n,r,i){var a;_i((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await wS(e,n,r,N0(),i);return MB(e,o,qw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await wS(e,n,r,N0(),i);return qU(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(_i(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CB(e),r=new pB(e);return n.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zv,{type:zv},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[zv];o!==void 0&&n(!!o),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MN()||CN()||Uw()}}const zB=BB;var _S="@firebase/auth",ES="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HB(t){Qs(new Oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$N(t)},c=new sU(r,i,a,l);return vU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qs(new Oo("auth-internal",e=>{const n=Wo(e.getProvider("auth").getImmediate());return(r=>new WB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),va(_S,ES,qB(t)),va(_S,ES,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=5*60,GB=pN("authIdTokenMaxAge")||KB;let TS=null;const YB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GB)return;const i=n==null?void 0:n.token;TS!==i&&(TS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XB(t=yN()){const e=Mw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gU(t,{popupRedirectResolver:zB,persistence:[eB,BU,Ww]}),r=pN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=YB(a.toString());$U(n,o,()=>o(n.currentUser)),MU(n,s=>o(s))}}const i=dN("auth");return i&&yU(n,`http://${i}`),n}function QB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Lr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",QB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HB("Browser");var JB="firebase",ZB="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */va(JB,ZB,"app");var SS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,ej;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function P(){}P.prototype=T.prototype,E.D=T.prototype,E.prototype=new P,E.prototype.constructor=E,E.C=function(I,N,j){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return T.prototype[N].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,T,P){P||(P=0);var I=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)I[N]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(N=0;16>N;++N)I[N]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=E.g[0],P=E.g[1],N=E.g[2];var j=E.g[3],k=T+(j^P&(N^j))+I[0]+3614090360&4294967295;T=P+(k<<7&4294967295|k>>>25),k=j+(N^T&(P^N))+I[1]+3905402710&4294967295,j=T+(k<<12&4294967295|k>>>20),k=N+(P^j&(T^P))+I[2]+606105819&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(T^N&(j^T))+I[3]+3250441966&4294967295,P=N+(k<<22&4294967295|k>>>10),k=T+(j^P&(N^j))+I[4]+4118548399&4294967295,T=P+(k<<7&4294967295|k>>>25),k=j+(N^T&(P^N))+I[5]+1200080426&4294967295,j=T+(k<<12&4294967295|k>>>20),k=N+(P^j&(T^P))+I[6]+2821735955&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(T^N&(j^T))+I[7]+4249261313&4294967295,P=N+(k<<22&4294967295|k>>>10),k=T+(j^P&(N^j))+I[8]+1770035416&4294967295,T=P+(k<<7&4294967295|k>>>25),k=j+(N^T&(P^N))+I[9]+2336552879&4294967295,j=T+(k<<12&4294967295|k>>>20),k=N+(P^j&(T^P))+I[10]+4294925233&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(T^N&(j^T))+I[11]+2304563134&4294967295,P=N+(k<<22&4294967295|k>>>10),k=T+(j^P&(N^j))+I[12]+1804603682&4294967295,T=P+(k<<7&4294967295|k>>>25),k=j+(N^T&(P^N))+I[13]+4254626195&4294967295,j=T+(k<<12&4294967295|k>>>20),k=N+(P^j&(T^P))+I[14]+2792965006&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(T^N&(j^T))+I[15]+1236535329&4294967295,P=N+(k<<22&4294967295|k>>>10),k=T+(N^j&(P^N))+I[1]+4129170786&4294967295,T=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(T^P))+I[6]+3225465664&4294967295,j=T+(k<<9&4294967295|k>>>23),k=N+(T^P&(j^T))+I[11]+643717713&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^T&(N^j))+I[0]+3921069994&4294967295,P=N+(k<<20&4294967295|k>>>12),k=T+(N^j&(P^N))+I[5]+3593408605&4294967295,T=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(T^P))+I[10]+38016083&4294967295,j=T+(k<<9&4294967295|k>>>23),k=N+(T^P&(j^T))+I[15]+3634488961&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^T&(N^j))+I[4]+3889429448&4294967295,P=N+(k<<20&4294967295|k>>>12),k=T+(N^j&(P^N))+I[9]+568446438&4294967295,T=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(T^P))+I[14]+3275163606&4294967295,j=T+(k<<9&4294967295|k>>>23),k=N+(T^P&(j^T))+I[3]+4107603335&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^T&(N^j))+I[8]+1163531501&4294967295,P=N+(k<<20&4294967295|k>>>12),k=T+(N^j&(P^N))+I[13]+2850285829&4294967295,T=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(T^P))+I[2]+4243563512&4294967295,j=T+(k<<9&4294967295|k>>>23),k=N+(T^P&(j^T))+I[7]+1735328473&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^T&(N^j))+I[12]+2368359562&4294967295,P=N+(k<<20&4294967295|k>>>12),k=T+(P^N^j)+I[5]+4294588738&4294967295,T=P+(k<<4&4294967295|k>>>28),k=j+(T^P^N)+I[8]+2272392833&4294967295,j=T+(k<<11&4294967295|k>>>21),k=N+(j^T^P)+I[11]+1839030562&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^T)+I[14]+4259657740&4294967295,P=N+(k<<23&4294967295|k>>>9),k=T+(P^N^j)+I[1]+2763975236&4294967295,T=P+(k<<4&4294967295|k>>>28),k=j+(T^P^N)+I[4]+1272893353&4294967295,j=T+(k<<11&4294967295|k>>>21),k=N+(j^T^P)+I[7]+4139469664&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^T)+I[10]+3200236656&4294967295,P=N+(k<<23&4294967295|k>>>9),k=T+(P^N^j)+I[13]+681279174&4294967295,T=P+(k<<4&4294967295|k>>>28),k=j+(T^P^N)+I[0]+3936430074&4294967295,j=T+(k<<11&4294967295|k>>>21),k=N+(j^T^P)+I[3]+3572445317&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^T)+I[6]+76029189&4294967295,P=N+(k<<23&4294967295|k>>>9),k=T+(P^N^j)+I[9]+3654602809&4294967295,T=P+(k<<4&4294967295|k>>>28),k=j+(T^P^N)+I[12]+3873151461&4294967295,j=T+(k<<11&4294967295|k>>>21),k=N+(j^T^P)+I[15]+530742520&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^T)+I[2]+3299628645&4294967295,P=N+(k<<23&4294967295|k>>>9),k=T+(N^(P|~j))+I[0]+4096336452&4294967295,T=P+(k<<6&4294967295|k>>>26),k=j+(P^(T|~N))+I[7]+1126891415&4294967295,j=T+(k<<10&4294967295|k>>>22),k=N+(T^(j|~P))+I[14]+2878612391&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~T))+I[5]+4237533241&4294967295,P=N+(k<<21&4294967295|k>>>11),k=T+(N^(P|~j))+I[12]+1700485571&4294967295,T=P+(k<<6&4294967295|k>>>26),k=j+(P^(T|~N))+I[3]+2399980690&4294967295,j=T+(k<<10&4294967295|k>>>22),k=N+(T^(j|~P))+I[10]+4293915773&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~T))+I[1]+2240044497&4294967295,P=N+(k<<21&4294967295|k>>>11),k=T+(N^(P|~j))+I[8]+1873313359&4294967295,T=P+(k<<6&4294967295|k>>>26),k=j+(P^(T|~N))+I[15]+4264355552&4294967295,j=T+(k<<10&4294967295|k>>>22),k=N+(T^(j|~P))+I[6]+2734768916&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~T))+I[13]+1309151649&4294967295,P=N+(k<<21&4294967295|k>>>11),k=T+(N^(P|~j))+I[4]+4149444226&4294967295,T=P+(k<<6&4294967295|k>>>26),k=j+(P^(T|~N))+I[11]+3174756917&4294967295,j=T+(k<<10&4294967295|k>>>22),k=N+(T^(j|~P))+I[2]+718787259&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~T))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,E.g[2]=E.g[2]+N&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.u=function(E,T){T===void 0&&(T=E.length);for(var P=T-this.blockSize,I=this.B,N=this.h,j=0;j<T;){if(N==0)for(;j<=P;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<T;)if(I[N++]=E.charCodeAt(j++),N==this.blockSize){i(this,I),N=0;break}}else for(;j<T;)if(I[N++]=E[j++],N==this.blockSize){i(this,I),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;var P=8*this.o;for(T=E.length-8;T<E.length;++T)E[T]=P&255,P/=256;for(this.u(E),E=Array(16),T=P=0;4>T;++T)for(var I=0;32>I;I+=8)E[P++]=this.g[T]>>>I&255;return E};function a(E,T){var P=s;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=T(E)}function o(E,T){this.h=T;for(var P=[],I=!0,N=E.length-1;0<=N;N--){var j=E[N]|0;I&&j==T||(P[N]=j,I=!1)}this.g=P}var s={};function l(E){return-128<=E&&128>E?a(E,function(T){return new o([T|0],0>T?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return y(c(-E));for(var T=[],P=1,I=0;E>=P;I++)T[I]=E/P|0,P*=4294967296;return new o(T,0)}function u(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return y(u(E.substring(1),T));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(T,8)),I=f,N=0;N<E.length;N+=8){var j=Math.min(8,E.length-N),k=parseInt(E.substring(N,N+j),T);8>j?(j=c(Math.pow(T,j)),I=I.j(j).add(c(k))):(I=I.j(P),I=I.add(c(k)))}return I}var f=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-y(this).m();for(var E=0,T=1,P=0;P<this.g.length;P++){var I=this.i(P);E+=(0<=I?I:4294967296+I)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(b(this))return"-"+y(this).toString(E);for(var T=c(Math.pow(E,6)),P=this,I="";;){var N=C(P,T).g;P=v(P,N.j(T));var j=((0<P.g.length?P.g[0]:P.h)>>>0).toString(E);if(P=N,x(P))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function b(E){return E.h==-1}t.l=function(E){return E=v(this,E),b(E)?-1:x(E)?0:1};function y(E){for(var T=E.g.length,P=[],I=0;I<T;I++)P[I]=~E.g[I];return new o(P,~E.h).add(h)}t.abs=function(){return b(this)?y(this):this},t.add=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],I=0,N=0;N<=T;N++){var j=I+(this.i(N)&65535)+(E.i(N)&65535),k=(j>>>16)+(this.i(N)>>>16)+(E.i(N)>>>16);I=k>>>16,j&=65535,k&=65535,P[N]=k<<16|j}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(E,T){return E.add(y(T))}t.j=function(E){if(x(this)||x(E))return f;if(b(this))return b(E)?y(this).j(y(E)):y(y(this).j(E));if(b(E))return y(this.j(y(E)));if(0>this.l(m)&&0>E.l(m))return c(this.m()*E.m());for(var T=this.g.length+E.g.length,P=[],I=0;I<2*T;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<E.g.length;N++){var j=this.i(I)>>>16,k=this.i(I)&65535,B=E.i(N)>>>16,$=E.i(N)&65535;P[2*I+2*N]+=k*$,g(P,2*I+2*N),P[2*I+2*N+1]+=j*$,g(P,2*I+2*N+1),P[2*I+2*N+1]+=k*B,g(P,2*I+2*N+1),P[2*I+2*N+2]+=j*B,g(P,2*I+2*N+2)}for(I=0;I<T;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=T;I<2*T;I++)P[I]=0;return new o(P,0)};function g(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function w(E,T){this.g=E,this.h=T}function C(E,T){if(x(T))throw Error("division by zero");if(x(E))return new w(f,f);if(b(E))return T=C(y(E),T),new w(y(T.g),y(T.h));if(b(T))return T=C(E,y(T)),new w(y(T.g),T.h);if(30<E.g.length){if(b(E)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var P=h,I=T;0>=I.l(E);)P=S(P),I=S(I);var N=A(P,1),j=A(I,1);for(I=A(I,2),P=A(P,2);!x(I);){var k=j.add(I);0>=k.l(E)&&(N=N.add(P),j=k),I=A(I,1),P=A(P,1)}return T=v(E,N.j(T)),new w(N,T)}for(N=f;0<=E.l(T);){for(P=Math.max(1,Math.floor(E.m()/T.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=c(P),k=j.j(T);b(k)||0<k.l(E);)P-=I,j=c(P),k=j.j(T);x(j)&&(j=h),N=N.add(j),E=v(E,k)}return new w(N,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],I=0;I<T;I++)P[I]=this.i(I)&E.i(I);return new o(P,this.h&E.h)},t.or=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],I=0;I<T;I++)P[I]=this.i(I)|E.i(I);return new o(P,this.h|E.h)},t.xor=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],I=0;I<T;I++)P[I]=this.i(I)^E.i(I);return new o(P,this.h^E.h)};function S(E){for(var T=E.g.length+1,P=[],I=0;I<T;I++)P[I]=E.i(I)<<1|E.i(I-1)>>>31;return new o(P,E.h)}function A(E,T){var P=T>>5;T%=32;for(var I=E.g.length-P,N=[],j=0;j<I;j++)N[j]=0<T?E.i(j+P)>>>T|E.i(j+P+1)<<32-T:E.i(j+P);return new o(N,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ej=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,ya=o}).apply(typeof SS<"u"?SS:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tj,Vc,nj,hh,M0,rj,ij,aj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,O){return d==Array.prototype||d==Object.prototype||(d[_]=O.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var _=0;_<d.length;++_){var O=d[_];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var O=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var H=d[R];if(!(H in O))break e;O=O[H]}d=d[d.length-1],R=O[d],_=_(R),_!=R&&_!=null&&e(O,d,{configurable:!0,writable:!0,value:_})}}function a(d,_){d instanceof String&&(d+="");var O=0,R=!1,H={next:function(){if(!R&&O<d.length){var K=O++;return{value:_(K,d[K]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(d){return d||function(){return a(this,function(_,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function c(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function u(d,_,O){return d.call.apply(d.bind,arguments)}function f(d,_,O){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),d.apply(_,H)}}return function(){return d.apply(_,arguments)}}function h(d,_,O){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function m(d,_){var O=Array.prototype.slice.call(arguments,1);return function(){var R=O.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function x(d,_){function O(){}O.prototype=_.prototype,d.aa=_.prototype,d.prototype=new O,d.prototype.constructor=d,d.Qb=function(R,H,K){for(var ie=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ie[Qe-2]=arguments[Qe];return _.prototype[H].apply(R,ie)}}function b(d){const _=d.length;if(0<_){const O=Array(_);for(let R=0;R<_;R++)O[R]=d[R];return O}return[]}function y(d,_){for(let O=1;O<arguments.length;O++){const R=arguments[O];if(l(R)){const H=d.length||0,K=R.length||0;d.length=H+K;for(let ie=0;ie<K;ie++)d[H+ie]=R[ie]}else d.push(R)}}class v{constructor(_,O){this.i=_,this.j=O,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function g(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function A(d,_,O){for(const R in d)_.call(O,d[R],R,d)}function E(d,_){for(const O in d)_.call(void 0,d[O],O,d)}function T(d){const _={};for(const O in d)_[O]=d[O];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(d,_){let O,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(O in R)d[O]=R[O];for(let K=0;K<P.length;K++)O=P[K],Object.prototype.hasOwnProperty.call(R,O)&&(d[O]=R[O])}}function N(d){var _=1;d=d.split(":");const O=[];for(;0<_&&d.length;)O.push(d.shift()),_--;return d.length&&O.push(d.join(":")),O}function j(d){s.setTimeout(()=>{throw d},0)}function k(){var d=F;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,O){const R=$.get();R.set(_,O),this.h?this.h.next=R:this.g=R,this.h=R}}var $=new v(()=>new z,d=>d.reset());class z{constructor(){this.next=this.g=this.h=null}set(_,O){this.h=_,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let V,M=!1,F=new B,U=()=>{const d=s.Promise.resolve(void 0);V=()=>{d.then(q)}};var q=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(O){j(O)}var _=$;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}M=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const O=()=>{};s.addEventListener("test",O,_),s.removeEventListener("test",O,_)}catch{}return d}();function fe(d,_){if(X.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var O=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(S){e:{try{C(_.nodeName);var H=!0;break e}catch{}H=!1}H||(_=null)}}else O=="mouseover"?_=d.fromElement:O=="mouseout"&&(_=d.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:he[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&fe.aa.h.call(this)}}x(fe,X);var he={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),et=0;function ne(d,_,O,R,H){this.listener=d,this.proxy=null,this.src=_,this.type=O,this.capture=!!R,this.ha=H,this.key=++et,this.da=this.fa=!1}function se(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function re(d){this.src=d,this.g={},this.h=0}re.prototype.add=function(d,_,O,R,H){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var ie=Pe(d,_,R,H);return-1<ie?(_=d[ie],O||(_.fa=!1)):(_=new ne(_,this.src,K,!!R,H),_.fa=O,d.push(_)),_};function G(d,_){var O=_.type;if(O in d.g){var R=d.g[O],H=Array.prototype.indexOf.call(R,_,void 0),K;(K=0<=H)&&Array.prototype.splice.call(R,H,1),K&&(se(_),d.g[O].length==0&&(delete d.g[O],d.h--))}}function Pe(d,_,O,R){for(var H=0;H<d.length;++H){var K=d[H];if(!K.da&&K.listener==_&&K.capture==!!O&&K.ha==R)return H}return-1}var de="closure_lm_"+(1e6*Math.random()|0),Ee={};function Ue(d,_,O,R,H){if(Array.isArray(_)){for(var K=0;K<_.length;K++)Ue(d,_[K],O,R,H);return null}return O=me(O),d&&d[Oe]?d.K(_,O,c(R)?!!R.capture:!!R,H):we(d,_,O,!1,R,H)}function we(d,_,O,R,H,K){if(!_)throw Error("Invalid event type");var ie=c(H)?!!H.capture:!!H,Qe=Gn(d);if(Qe||(d[de]=Qe=new re(d)),O=Qe.add(_,O,R,ie,K),O.proxy)return O;if(R=$e(),O.proxy=R,R.src=d,R.listener=O,d.addEventListener)ee||(H=ie),H===void 0&&(H=!1),d.addEventListener(_.toString(),R,H);else if(d.attachEvent)d.attachEvent(Ht(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return O}function $e(){function d(O){return _.call(d.src,d.listener,O)}const _=Kn;return d}function ve(d,_,O,R,H){if(Array.isArray(_))for(var K=0;K<_.length;K++)ve(d,_[K],O,R,H);else R=c(R)?!!R.capture:!!R,O=me(O),d&&d[Oe]?(d=d.i,_=String(_).toString(),_ in d.g&&(K=d.g[_],O=Pe(K,O,R,H),-1<O&&(se(K[O]),Array.prototype.splice.call(K,O,1),K.length==0&&(delete d.g[_],d.h--)))):d&&(d=Gn(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Pe(_,O,R,H)),(O=-1<d?_[d]:null)&&xt(O))}function xt(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Oe])G(_.i,d);else{var O=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(O,R,d.capture):_.detachEvent?_.detachEvent(Ht(O),R):_.addListener&&_.removeListener&&_.removeListener(R),(O=Gn(_))?(G(O,d),O.h==0&&(O.src=null,_[de]=null)):se(d)}}}function Ht(d){return d in Ee?Ee[d]:Ee[d]="on"+d}function Kn(d,_){if(d.da)d=!0;else{_=new fe(_,this);var O=d.listener,R=d.ha||d.src;d.fa&&xt(d),d=O.call(R,_)}return d}function Gn(d){return d=d[de],d instanceof re?d:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(d){return typeof d=="function"?d:(d[ae]||(d[ae]=function(_){return d.handleEvent(_)}),d[ae])}function Ne(){W.call(this),this.i=new re(this),this.M=this,this.F=null}x(Ne,W),Ne.prototype[Oe]=!0,Ne.prototype.removeEventListener=function(d,_,O,R){ve(this,d,_,O,R)};function Le(d,_){var O,R=d.F;if(R)for(O=[];R;R=R.F)O.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new X(_,d);else if(_ instanceof X)_.target=_.target||d;else{var H=_;_=new X(R,d),I(_,H)}if(H=!0,O)for(var K=O.length-1;0<=K;K--){var ie=_.g=O[K];H=Ft(ie,R,!0,_)&&H}if(ie=_.g=d,H=Ft(ie,R,!0,_)&&H,H=Ft(ie,R,!1,_)&&H,O)for(K=0;K<O.length;K++)ie=_.g=O[K],H=Ft(ie,R,!1,_)&&H}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var O=d.g[_],R=0;R<O.length;R++)se(O[R]);delete d.g[_],d.h--}}this.F=null},Ne.prototype.K=function(d,_,O,R){return this.i.add(String(d),_,!1,O,R)},Ne.prototype.L=function(d,_,O,R){return this.i.add(String(d),_,!0,O,R)};function Ft(d,_,O,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var H=!0,K=0;K<_.length;++K){var ie=_[K];if(ie&&!ie.da&&ie.capture==O){var Qe=ie.listener,Kt=ie.ha||ie.src;ie.fa&&G(d.i,ie),H=Qe.call(Kt,R)!==!1&&H}}return H&&!R.defaultPrevented}function Li(d,_,O){if(typeof d=="function")O&&(d=h(d,O));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:s.setTimeout(d,_||0)}function Yr(d){d.g=Li(()=>{d.g=null,d.i&&(d.i=!1,Yr(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class tc extends W{constructor(_,O){super(),this.m=_,this.l=O,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Yr(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(d){W.call(this),this.h=d,this.g={}}x(Xr,W);var Jo=[];function Wa(d){A(d.g,function(_,O){this.g.hasOwnProperty(O)&&xt(_)},d),d.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Wa(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qa=s.JSON.stringify,nc=s.JSON.parse,rc=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function Ha(){}Ha.prototype.h=null;function Xf(d){return d.h||(d.h=d.i())}function V1(){}var ic={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kg(){X.call(this,"d")}x(Kg,X);function Gg(){X.call(this,"c")}x(Gg,X);var Ka={},U1=null;function Qf(){return U1=U1||new Ne}Ka.La="serverreachability";function B1(d){X.call(this,Ka.La,d)}x(B1,X);function ac(d){const _=Qf();Le(_,new B1(_))}Ka.STAT_EVENT="statevent";function z1(d,_){X.call(this,Ka.STAT_EVENT,d),this.stat=_}x(z1,X);function gn(d){const _=Qf();Le(_,new z1(_,d))}Ka.Ma="timingevent";function W1(d,_){X.call(this,Ka.Ma,d),this.size=_}x(W1,X);function oc(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},_)}function sc(){this.g=!0}sc.prototype.xa=function(){this.g=!1};function LL(d,_,O,R,H,K){d.info(function(){if(d.g)if(K)for(var ie="",Qe=K.split("&"),Kt=0;Kt<Qe.length;Kt++){var Be=Qe[Kt].split("=");if(1<Be.length){var nn=Be[0];Be=Be[1];var rn=nn.split("_");ie=2<=rn.length&&rn[1]=="type"?ie+(nn+"="+Be+"&"):ie+(nn+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+_+`
`+O+`
`+ie})}function FL(d,_,O,R,H,K,ie){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+_+`
`+O+`
`+K+" "+ie})}function Zo(d,_,O,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+UL(d,O)+(R?" "+R:"")})}function VL(d,_){d.info(function(){return"TIMEOUT: "+_})}sc.prototype.info=function(){};function UL(d,_){if(!d.g)return _;if(!_)return null;try{var O=JSON.parse(_);if(O){for(d=0;d<O.length;d++)if(Array.isArray(O[d])){var R=O[d];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var K=H[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<H.length;ie++)H[ie]=""}}}}return qa(O)}catch{return _}}var Jf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},q1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yg;function Zf(){}x(Zf,Ha),Zf.prototype.g=function(){return new XMLHttpRequest},Zf.prototype.i=function(){return{}},Yg=new Zf;function Fi(d,_,O,R){this.j=d,this.i=_,this.l=O,this.R=R||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new H1}function H1(){this.i=null,this.g="",this.h=!1}var K1={},Xg={};function Qg(d,_,O){d.L=1,d.v=rd(Qr(_)),d.m=O,d.P=!0,G1(d,null)}function G1(d,_){d.F=Date.now(),ed(d),d.A=Qr(d.v);var O=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),lE(O.i,"t",R),d.C=0,O=d.j.J,d.h=new H1,d.g=AE(d.j,O?_:null,!d.m),0<d.O&&(d.M=new tc(h(d.Y,d,d.g),d.O)),_=d.U,O=d.g,R=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(Jo[0]=H.toString()),H=Jo);for(var K=0;K<H.length;K++){var ie=Ue(O,H[K],R||_.handleEvent,!1,_.h||_);if(!ie)break;_.g[ie.key]=ie}_=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),ac(),LL(d.i,d.u,d.A,d.l,d.R,d.m)}Fi.prototype.ca=function(d){d=d.target;const _=this.M;_&&Jr(d)==3?_.j():this.Y(d)},Fi.prototype.Y=function(d){try{if(d==this.g)e:{const rn=Jr(this.g);var _=this.g.Ba();const ns=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||mE(this.g)))){this.J||rn!=4||_==7||(_==8||0>=ns?ac(3):ac(2)),Jg(this);var O=this.g.Z();this.X=O;t:if(Y1(this)){var R=mE(this.g);d="";var H=R.length,K=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ga(this),lc(this);var ie="";break t}this.h.i=new s.TextDecoder}for(_=0;_<H;_++)this.h.h=!0,d+=this.h.i.decode(R[_],{stream:!(K&&_==H-1)});R.length=0,this.h.g+=d,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=O==200,FL(this.i,this.u,this.A,this.l,this.R,rn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Kt=this.g;if((Qe=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(Qe)){var Be=Qe;break t}}Be=null}if(O=Be)Zo(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zg(this,O);else{this.o=!1,this.s=3,gn(12),Ga(this),lc(this);break e}}if(this.P){O=!0;let dr;for(;!this.J&&this.C<ie.length;)if(dr=BL(this,ie),dr==Xg){rn==4&&(this.s=4,gn(14),O=!1),Zo(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==K1){this.s=4,gn(15),Zo(this.i,this.l,ie,"[Invalid Chunk]"),O=!1;break}else Zo(this.i,this.l,dr,null),Zg(this,dr);if(Y1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||ie.length!=0||this.h.h||(this.s=1,gn(16),O=!1),this.o=this.o&&O,!O)Zo(this.i,this.l,ie,"[Invalid Chunked Response]"),Ga(this),lc(this);else if(0<ie.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),av(nn),nn.M=!0,gn(11))}}else Zo(this.i,this.l,ie,null),Zg(this,ie);rn==4&&Ga(this),this.o&&!this.J&&(rn==4?_E(this.j,this):(this.o=!1,ed(this)))}else a4(this.g),O==400&&0<ie.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),Ga(this),lc(this)}}}catch{}finally{}};function Y1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function BL(d,_){var O=d.C,R=_.indexOf(`
`,O);return R==-1?Xg:(O=Number(_.substring(O,R)),isNaN(O)?K1:(R+=1,R+O>_.length?Xg:(_=_.slice(R,R+O),d.C=R+O,_)))}Fi.prototype.cancel=function(){this.J=!0,Ga(this)};function ed(d){d.S=Date.now()+d.I,X1(d,d.I)}function X1(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=oc(h(d.ba,d),_)}function Jg(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Fi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(VL(this.i,this.A),this.L!=2&&(ac(),gn(17)),Ga(this),this.s=2,lc(this)):X1(this,this.S-d)};function lc(d){d.j.G==0||d.J||_E(d.j,d)}function Ga(d){Jg(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Wa(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Zg(d,_){try{var O=d.j;if(O.G!=0&&(O.g==d||ev(O.h,d))){if(!d.K&&ev(O.h,d)&&O.G==3){try{var R=O.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<d.F)cd(O),sd(O);else break e;iv(O),gn(18)}}else O.za=H[1],0<O.za-O.T&&37500>H[2]&&O.F&&O.v==0&&!O.C&&(O.C=oc(h(O.Za,O),6e3));if(1>=Z1(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Xa(O,11)}else if((d.K||O.g==d)&&cd(O),!g(_))for(H=O.Da.g.parse(_),_=0;_<H.length;_++){let Be=H[_];if(O.T=Be[0],Be=Be[1],O.G==2)if(Be[0]=="c"){O.K=Be[1],O.ia=Be[2];const nn=Be[3];nn!=null&&(O.la=nn,O.j.info("VER="+O.la));const rn=Be[4];rn!=null&&(O.Aa=rn,O.j.info("SVER="+O.Aa));const ns=Be[5];ns!=null&&typeof ns=="number"&&0<ns&&(R=1.5*ns,O.L=R,O.j.info("backChannelRequestTimeoutMs_="+R)),R=O;const dr=d.g;if(dr){const fd=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fd){var K=R.h;K.g||fd.indexOf("spdy")==-1&&fd.indexOf("quic")==-1&&fd.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(tv(K,K.h),K.h=null))}if(R.D){const ov=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;ov&&(R.ya=ov,ot(R.I,R.D,ov))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-d.F,O.j.info("Handshake RTT: "+O.R+"ms")),R=O;var ie=d;if(R.qa=SE(R,R.J?R.ia:null,R.W),ie.K){eE(R.h,ie);var Qe=ie,Kt=R.L;Kt&&(Qe.I=Kt),Qe.B&&(Jg(Qe),ed(Qe)),R.g=ie}else bE(R);0<O.i.length&&ld(O)}else Be[0]!="stop"&&Be[0]!="close"||Xa(O,7);else O.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Xa(O,7):rv(O):Be[0]!="noop"&&O.l&&O.l.ta(Be),O.v=0)}}ac(4)}catch{}}var zL=class{constructor(d,_){this.g=d,this.map=_}};function Q1(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function J1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Z1(d){return d.h?1:d.g?d.g.size:0}function ev(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function tv(d,_){d.g?d.g.add(_):d.h=_}function eE(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Q1.prototype.cancel=function(){if(this.i=tE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function tE(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const O of d.g.values())_=_.concat(O.D);return _}return b(d.i)}function WL(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var _=[],O=d.length,R=0;R<O;R++)_.push(d[R]);return _}_=[],O=0;for(R in d)_[O++]=d[R];return _}function qL(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var _=[];d=d.length;for(var O=0;O<d;O++)_.push(O);return _}_=[],O=0;for(const R in d)_[O++]=R;return _}}}function nE(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var O=qL(d),R=WL(d),H=R.length,K=0;K<H;K++)_.call(void 0,R[K],O&&O[K],d)}var rE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HL(d,_){if(d){d=d.split("&");for(var O=0;O<d.length;O++){var R=d[O].indexOf("="),H=null;if(0<=R){var K=d[O].substring(0,R);H=d[O].substring(R+1)}else K=d[O];_(K,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ya(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ya){this.h=d.h,td(this,d.j),this.o=d.o,this.g=d.g,nd(this,d.s),this.l=d.l;var _=d.i,O=new fc;O.i=_.i,_.g&&(O.g=new Map(_.g),O.h=_.h),iE(this,O),this.m=d.m}else d&&(_=String(d).match(rE))?(this.h=!1,td(this,_[1]||"",!0),this.o=cc(_[2]||""),this.g=cc(_[3]||"",!0),nd(this,_[4]),this.l=cc(_[5]||"",!0),iE(this,_[6]||"",!0),this.m=cc(_[7]||"")):(this.h=!1,this.i=new fc(null,this.h))}Ya.prototype.toString=function(){var d=[],_=this.j;_&&d.push(uc(_,aE,!0),":");var O=this.g;return(O||_=="file")&&(d.push("//"),(_=this.o)&&d.push(uc(_,aE,!0),"@"),d.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&d.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&d.push("/"),d.push(uc(O,O.charAt(0)=="/"?YL:GL,!0))),(O=this.i.toString())&&d.push("?",O),(O=this.m)&&d.push("#",uc(O,QL)),d.join("")};function Qr(d){return new Ya(d)}function td(d,_,O){d.j=O?cc(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function nd(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function iE(d,_,O){_ instanceof fc?(d.i=_,JL(d.i,d.h)):(O||(_=uc(_,XL)),d.i=new fc(_,d.h))}function ot(d,_,O){d.i.set(_,O)}function rd(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function cc(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function uc(d,_,O){return typeof d=="string"?(d=encodeURI(d).replace(_,KL),O&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function KL(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var aE=/[#\/\?@]/g,GL=/[#\?:]/g,YL=/[#\?]/g,XL=/[#\?@]/g,QL=/#/g;function fc(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Vi(d){d.g||(d.g=new Map,d.h=0,d.i&&HL(d.i,function(_,O){d.add(decodeURIComponent(_.replace(/\+/g," ")),O)}))}t=fc.prototype,t.add=function(d,_){Vi(this),this.i=null,d=es(this,d);var O=this.g.get(d);return O||this.g.set(d,O=[]),O.push(_),this.h+=1,this};function oE(d,_){Vi(d),_=es(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function sE(d,_){return Vi(d),_=es(d,_),d.g.has(_)}t.forEach=function(d,_){Vi(this),this.g.forEach(function(O,R){O.forEach(function(H){d.call(_,H,R,this)},this)},this)},t.na=function(){Vi(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),O=[];for(let R=0;R<_.length;R++){const H=d[R];for(let K=0;K<H.length;K++)O.push(_[R])}return O},t.V=function(d){Vi(this);let _=[];if(typeof d=="string")sE(this,d)&&(_=_.concat(this.g.get(es(this,d))));else{d=Array.from(this.g.values());for(let O=0;O<d.length;O++)_=_.concat(d[O])}return _},t.set=function(d,_){return Vi(this),this.i=null,d=es(this,d),sE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function lE(d,_,O){oE(d,_),0<O.length&&(d.i=null,d.g.set(es(d,_),b(O)),d.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var O=0;O<_.length;O++){var R=_[O];const K=encodeURIComponent(String(R)),ie=this.V(R);for(R=0;R<ie.length;R++){var H=K;ie[R]!==""&&(H+="="+encodeURIComponent(String(ie[R]))),d.push(H)}}return this.i=d.join("&")};function es(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function JL(d,_){_&&!d.j&&(Vi(d),d.i=null,d.g.forEach(function(O,R){var H=R.toLowerCase();R!=H&&(oE(this,R),lE(this,H,O))},d)),d.j=_}function ZL(d,_){const O=new sc;if(s.Image){const R=new Image;R.onload=m(Ui,O,"TestLoadImage: loaded",!0,_,R),R.onerror=m(Ui,O,"TestLoadImage: error",!1,_,R),R.onabort=m(Ui,O,"TestLoadImage: abort",!1,_,R),R.ontimeout=m(Ui,O,"TestLoadImage: timeout",!1,_,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function e4(d,_){const O=new sc,R=new AbortController,H=setTimeout(()=>{R.abort(),Ui(O,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(K=>{clearTimeout(H),K.ok?Ui(O,"TestPingServer: ok",!0,_):Ui(O,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Ui(O,"TestPingServer: error",!1,_)})}function Ui(d,_,O,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(O)}catch{}}function t4(){this.g=new rc}function n4(d,_,O){const R=O||"";try{nE(d,function(H,K){let ie=H;c(H)&&(ie=qa(H)),_.push(R+K+"="+encodeURIComponent(ie))})}catch(H){throw _.push(R+"type="+encodeURIComponent("_badmap")),H}}function id(d){this.l=d.Ub||null,this.j=d.eb||!1}x(id,Ha),id.prototype.g=function(){return new ad(this.l,this.j)},id.prototype.i=function(d){return function(){return d}}({});function ad(d,_){Ne.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ad,Ne),t=ad.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,hc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||s).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hc(this)),this.g&&(this.readyState=3,hc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function cE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?dc(this):hc(this),this.readyState==3&&cE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,dc(this))},t.Qa=function(d){this.g&&(this.response=d,dc(this))},t.ga=function(){this.g&&dc(this)};function dc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hc(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var O=_.next();!O.done;)O=O.value,d.push(O[0]+": "+O[1]),O=_.next();return d.join(`\r
`)};function hc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ad.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function uE(d){let _="";return A(d,function(O,R){_+=R,_+=":",_+=O,_+=`\r
`}),_}function nv(d,_,O){e:{for(R in O){var R=!1;break e}R=!0}R||(O=uE(O),typeof d=="string"?O!=null&&encodeURIComponent(String(O)):ot(d,_,O))}function bt(d){Ne.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(bt,Ne);var r4=/^https?$/i,i4=["POST","PUT"];t=bt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,O,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yg.g(),this.v=this.o?Xf(this.o):Xf(Yg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(K){fE(this,K);return}if(d=O||"",O=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)O.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const K of R.keys())O.set(K,R.get(K));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(O.keys()).find(K=>K.toLowerCase()=="content-type"),H=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(i4,_,void 0))||R||H||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of O)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pE(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){fE(this,K)}};function fE(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,dE(d),od(d)}function dE(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Le(this,"complete"),Le(this,"abort"),od(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),od(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hE(this):this.bb())},t.bb=function(){hE(this)};function hE(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Jr(d)!=4||d.Z()!=2)){if(d.u&&Jr(d)==4)Li(d.Ea,0,d);else if(Le(d,"readystatechange"),Jr(d)==4){d.h=!1;try{const ie=d.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var O;if(!(O=_)){var R;if(R=ie===0){var H=String(d.D).match(rE)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),R=!r4.test(H?H.toLowerCase():"")}O=R}if(O)Le(d,"complete"),Le(d,"success");else{d.m=6;try{var K=2<Jr(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",dE(d)}}finally{od(d)}}}}function od(d,_){if(d.g){pE(d);const O=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Le(d,"ready");try{O.onreadystatechange=R}catch{}}}function pE(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Jr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),nc(_)}};function mE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function a4(d){const _={};d=(d.g&&2<=Jr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(g(d[R]))continue;var O=N(d[R]);const H=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const K=_[H]||[];_[H]=K,K.push(O)}E(_,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pc(d,_,O){return O&&O.internalChannelParams&&O.internalChannelParams[d]||_}function gE(d){this.Aa=0,this.i=[],this.j=new sc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pc("baseRetryDelayMs",5e3,d),this.cb=pc("retryDelaySeedMs",1e4,d),this.Wa=pc("forwardChannelMaxRetries",2,d),this.wa=pc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Q1(d&&d.concurrentRequestLimit),this.Da=new t4,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gE.prototype,t.la=8,t.G=1,t.connect=function(d,_,O,R){gn(0),this.W=d,this.H=_||{},O&&R!==void 0&&(this.H.OSID=O,this.H.OAID=R),this.F=this.X,this.I=SE(this,null,this.W),ld(this)};function rv(d){if(vE(d),d.G==3){var _=d.U++,O=Qr(d.I);if(ot(O,"SID",d.K),ot(O,"RID",_),ot(O,"TYPE","terminate"),mc(d,O),_=new Fi(d,d.j,_),_.L=2,_.v=rd(Qr(O)),O=!1,s.navigator&&s.navigator.sendBeacon)try{O=s.navigator.sendBeacon(_.v.toString(),"")}catch{}!O&&s.Image&&(new Image().src=_.v,O=!0),O||(_.g=AE(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ed(_)}TE(d)}function sd(d){d.g&&(av(d),d.g.cancel(),d.g=null)}function vE(d){sd(d),d.u&&(s.clearTimeout(d.u),d.u=null),cd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function ld(d){if(!J1(d.h)&&!d.s){d.s=!0;var _=d.Ga;V||U(),M||(V(),M=!0),F.add(_,d),d.B=0}}function o4(d,_){return Z1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=oc(h(d.Ga,d,_),EE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new Fi(this,this.j,d);let K=this.o;if(this.S&&(K?(K=T(K),I(K,this.S)):K=this.S),this.m!==null||this.O||(H.H=K,K=null),this.P)e:{for(var _=0,O=0;O<this.i.length;O++){t:{var R=this.i[O];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=O;break e}if(_===4096||O===this.i.length-1){_=O+1;break e}}_=1e3}else _=1e3;_=xE(this,H,_),O=Qr(this.I),ot(O,"RID",d),ot(O,"CVER",22),this.D&&ot(O,"X-HTTP-Session-Id",this.D),mc(this,O),K&&(this.O?_="headers="+encodeURIComponent(String(uE(K)))+"&"+_:this.m&&nv(O,this.m,K)),tv(this.h,H),this.Ua&&ot(O,"TYPE","init"),this.P?(ot(O,"$req",_),ot(O,"SID","null"),H.T=!0,Qg(H,O,null)):Qg(H,O,_),this.G=2}}else this.G==3&&(d?yE(this,d):this.i.length==0||J1(this.h)||yE(this))};function yE(d,_){var O;_?O=_.l:O=d.U++;const R=Qr(d.I);ot(R,"SID",d.K),ot(R,"RID",O),ot(R,"AID",d.T),mc(d,R),d.m&&d.o&&nv(R,d.m,d.o),O=new Fi(d,d.j,O,d.B+1),d.m===null&&(O.H=d.o),_&&(d.i=_.D.concat(d.i)),_=xE(d,O,1e3),O.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),tv(d.h,O),Qg(O,R,_)}function mc(d,_){d.H&&A(d.H,function(O,R){ot(_,R,O)}),d.l&&nE({},function(O,R){ot(_,R,O)})}function xE(d,_,O){O=Math.min(d.i.length,O);var R=d.l?h(d.l.Na,d.l,d):null;e:{var H=d.i;let K=-1;for(;;){const ie=["count="+O];K==-1?0<O?(K=H[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let Qe=!0;for(let Kt=0;Kt<O;Kt++){let Be=H[Kt].g;const nn=H[Kt].map;if(Be-=K,0>Be)K=Math.max(0,H[Kt].g-100),Qe=!1;else try{n4(nn,ie,"req"+Be+"_")}catch{R&&R(nn)}}if(Qe){R=ie.join("&");break e}}}return d=d.i.splice(0,O),_.D=d,R}function bE(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;V||U(),M||(V(),M=!0),F.add(_,d),d.v=0}}function iv(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=oc(h(d.Fa,d),EE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,wE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=oc(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),sd(this),wE(this))};function av(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function wE(d){d.g=new Fi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Qr(d.qa);ot(_,"RID","rpc"),ot(_,"SID",d.K),ot(_,"AID",d.T),ot(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(_,"TO",d.ja),ot(_,"TYPE","xmlhttp"),mc(d,_),d.m&&d.o&&nv(_,d.m,d.o),d.L&&(d.g.I=d.L);var O=d.g;d=d.ia,O.L=1,O.v=rd(Qr(_)),O.m=null,O.P=!0,G1(O,d)}t.Za=function(){this.C!=null&&(this.C=null,sd(this),iv(this),gn(19))};function cd(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function _E(d,_){var O=null;if(d.g==_){cd(d),av(d),d.g=null;var R=2}else if(ev(d.h,_))O=_.D,eE(d.h,_),R=1;else return;if(d.G!=0){if(_.o)if(R==1){O=_.m?_.m.length:0,_=Date.now()-_.F;var H=d.B;R=Qf(),Le(R,new W1(R,O)),ld(d)}else bE(d);else if(H=_.s,H==3||H==0&&0<_.X||!(R==1&&o4(d,_)||R==2&&iv(d)))switch(O&&0<O.length&&(_=d.h,_.i=_.i.concat(O)),H){case 1:Xa(d,5);break;case 4:Xa(d,10);break;case 3:Xa(d,6);break;default:Xa(d,2)}}}function EE(d,_){let O=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(O*=2),O*_}function Xa(d,_){if(d.j.info("Error code "+_),_==2){var O=h(d.fb,d),R=d.Xa;const H=!R;R=new Ya(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||td(R,"https"),rd(R),H?ZL(R.toString(),O):e4(R.toString(),O)}else gn(2);d.G=0,d.l&&d.l.sa(_),TE(d),vE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function TE(d){if(d.G=0,d.ka=[],d.l){const _=tE(d.h);(_.length!=0||d.i.length!=0)&&(y(d.ka,_),y(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function SE(d,_,O){var R=O instanceof Ya?Qr(O):new Ya(O);if(R.g!="")_&&(R.g=_+"."+R.g),nd(R,R.s);else{var H=s.location;R=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;var K=new Ya(null);R&&td(K,R),_&&(K.g=_),H&&nd(K,H),O&&(K.l=O),R=K}return O=d.D,_=d.ya,O&&_&&ot(R,O,_),ot(R,"VER",d.la),mc(d,R),R}function AE(d,_,O){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new bt(new id({eb:O})):new bt(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function PE(){}t=PE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ud(){}ud.prototype.g=function(d,_){return new Dn(d,_)};function Dn(d,_){Ne.call(this),this.g=new gE(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!g(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!g(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new ts(this)}x(Dn,Ne),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){rv(this.g)},Dn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var O={};O.__data__=d,d=O}else this.u&&(O={},O.__data__=qa(d),d=O);_.i.push(new zL(_.Ya++,d)),_.G==3&&ld(_)},Dn.prototype.N=function(){this.g.l=null,delete this.j,rv(this.g),delete this.g,Dn.aa.N.call(this)};function IE(d){Kg.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const O in _){d=O;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}x(IE,Kg);function OE(){Gg.call(this),this.status=1}x(OE,Gg);function ts(d){this.g=d}x(ts,PE),ts.prototype.ua=function(){Le(this.g,"a")},ts.prototype.ta=function(d){Le(this.g,new IE(d))},ts.prototype.sa=function(d){Le(this.g,new OE)},ts.prototype.ra=function(){Le(this.g,"b")},ud.prototype.createWebChannel=ud.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,aj=function(){return new ud},ij=function(){return Qf()},rj=Ka,M0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jf.NO_ERROR=0,Jf.TIMEOUT=8,Jf.HTTP_ERROR=6,hh=Jf,q1.COMPLETE="complete",nj=q1,V1.EventType=ic,ic.OPEN="a",ic.CLOSE="b",ic.ERROR="c",ic.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,Vc=V1,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,tj=bt}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});const AS="@firebase/firestore",PS="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Rw("@firebase/firestore");function ss(){return No.logLevel}function oe(t,...e){if(No.logLevel<=De.DEBUG){const n=e.map(Kw);No.debug(`Firestore (${Ll}): ${t}`,...n)}}function Ei(t,...e){if(No.logLevel<=De.ERROR){const n=e.map(Kw);No.error(`Firestore (${Ll}): ${t}`,...n)}}function Zs(t,...e){if(No.logLevel<=De.WARN){const n=e.map(Kw);No.warn(`Firestore (${Ll}): ${t}`,...n)}}function Kw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oj(t,r,n)}function oj(t,e,n){let r=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ei(r),new Error(r)}function qe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||oj(e,i,r)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ez{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class tz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nz{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new di;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new di,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new di)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new sj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class rz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class az{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new IS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new IS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=oz(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function $0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ce(r,i);{const a=lj(),o=sz(a.encode(OS(t,n)),a.encode(OS(e,n)));return o!==0?o:Ce(r,i)}}n+=r>65535?2:1}return Ce(t.length,e.length)}function OS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function sz(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ce(t[n],e[n]);return Ce(t.length,e.length)}function el(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=-62135596800,kS=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kS);return new Mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CS)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kS}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-CS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Mt(0,0))}static max(){return new Se(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="__name__";class jr{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=jr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ce(e.length,n.length)}static compareSegments(e,n){const r=jr.isNumericId(e),i=jr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?jr.extractNumericId(e).compare(jr.extractNumericId(n)):$0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}}class ut extends jr{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const lz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends jr{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return lz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NS}static keyField(){return new Jt([NS])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ut.fromString(e))}static fromName(e){return new ge(ut.fromString(e).popFirst(5))}static empty(){return new ge(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function cz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new Aa(i,ge.empty(),e)}function uz(t){return new Aa(t.readTime,t.key,Du)}class Aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Aa(Se.min(),ge.empty(),Du)}static max(){return new Aa(Se.max(),ge.empty(),Du)}}function fz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==dz)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++s,s===a&&r(o)},u=>i(u))}})}static doWhile(e,n){return new Q((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function pz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=-1;function Mm(t){return t==null}function ep(t){return t===0&&1/t==-1/0}function mz(t){return typeof t=="number"&&Number.isInteger(t)&&!ep(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="";function gz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jS(e)),e=vz(t.get(n),e);return jS(e)}function vz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case uj:n+="";break;default:n+=a}}return n}function jS(t){return t+uj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function La(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nd(this.root,e,this.comparator,!0)}}class Nd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=a??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Qt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DS(this.data.getIterator())}getIteratorFrom(e){return new DS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class DS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new $t(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dj("Invalid base64 string: "+a):a}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const yz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=yz.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ia(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="server_timestamp",pj="__type__",mj="__previous_value__",gj="__local_write_time__";function Yw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pj])===null||n===void 0?void 0:n.stringValue)===hj}function $m(t){const e=t.mapValue.fields[mj];return Yw(e)?$m(e):e}function Mu(t){const e=Pa(t.mapValue.fields[gj].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}const tp="(default)";class $u{constructor(e,n){this.projectId=e,this.database=n||tp}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===tp}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="__type__",yj="__max__",jd={mapValue:{fields:{__type__:{stringValue:yj}}}},xj="__vector__",np="value";function Oa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yw(t)?4:wz(t)?9007199254740991:bz(t)?10:11:be(28295,{value:t})}function qr(t,e){if(t===e)return!0;const n=Oa(t);if(n!==Oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mu(t).isEqual(Mu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Pa(i.timestampValue),s=Pa(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ia(i.bytesValue).isEqual(Ia(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Et(i.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Et(i.integerValue)===Et(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Et(i.doubleValue),s=Et(a.doubleValue);return o===s?ep(o)===ep(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(RS(o)!==RS(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!qr(o[l],s[l])))return!1;return!0}(t,e);default:return be(52216,{left:t})}}function Lu(t,e){return(t.values||[]).find(n=>qr(n,e))!==void 0}function tl(t,e){if(t===e)return 0;const n=Oa(t),r=Oa(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Et(a.integerValue||a.doubleValue),l=Et(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return MS(t.timestampValue,e.timestampValue);case 4:return MS(Mu(t),Mu(e));case 5:return $0(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Ia(a),l=Ia(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Ce(s[c],l[c]);if(u!==0)return u}return Ce(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Ce(Et(a.latitude),Et(o.latitude));return s!==0?s:Ce(Et(a.longitude),Et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $S(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const f=a.fields||{},h=o.fields||{},m=(s=f[np])===null||s===void 0?void 0:s.arrayValue,x=(l=h[np])===null||l===void 0?void 0:l.arrayValue,b=Ce(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=x==null?void 0:x.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:$S(m,x)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===jd.mapValue&&o===jd.mapValue)return 0;if(a===jd.mapValue)return 1;if(o===jd.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=$0(l[f],u[f]);if(h!==0)return h;const m=tl(s[l[f]],c[u[f]]);if(m!==0)return m}return Ce(l.length,u.length)}(t.mapValue,e.mapValue);default:throw be(23264,{Pe:n})}}function MS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Pa(t),r=Pa(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function $S(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=tl(n[i],r[i]);if(a)return a}return Ce(n.length,r.length)}function nl(t){return L0(t)}function L0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ia(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=L0(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${L0(n.fields[o])}`;return i+"}"}(t.mapValue):be(61005,{value:t})}function ph(t){switch(Oa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$m(t);return e?16+ph(e):16;case 5:return 2*t.stringValue.length;case 6:return Ia(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ph(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return La(r.fields,(a,o)=>{i+=a.length+ph(o)}),i}(t.mapValue);default:throw be(13486,{value:t})}}function LS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function F0(t){return!!t&&"integerValue"in t}function Xw(t){return!!t&&"arrayValue"in t}function FS(t){return!!t&&"nullValue"in t}function VS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function bz(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vj])===null||n===void 0?void 0:n.stringValue)===xj}function iu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return La(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=iu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=iu(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){La(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new In(iu(this.value))}}function bj(t){const e=[];return La(t.fields,(n,r)=>{const i=new Jt([n]);if(mh(r)){const a=bj(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new fn(e,0,Se.min(),Se.min(),Se.min(),In.empty(),0)}static newFoundDocument(e,n,r,i){return new fn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new fn(e,2,n,Se.min(),Se.min(),In.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Se.min(),Se.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.position=e,this.inclusive=n}}function US(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(o.referenceValue),n.key):r=tl(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function BS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n="asc"){this.field=e,this.dir=n}}function _z(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{}class Ot extends wj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Tz(e,n,r):n==="array-contains"?new Pz(e,r):n==="in"?new Iz(e,r):n==="not-in"?new Oz(e,r):n==="array-contains-any"?new Cz(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Sz(e,r):new Az(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Oa(this.value)===Oa(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends wj{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Pr(e,n)}matches(e){return _j(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function _j(t){return t.op==="and"}function Ej(t){return Ez(t)&&_j(t)}function Ez(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function V0(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(Ej(t))return t.filters.map(e=>V0(e)).join(",");{const e=t.filters.map(n=>V0(n)).join(",");return`${t.op}(${e})`}}function Tj(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&qr(r.value,i.value)}(t,e):t instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&Tj(o,i.filters[s]),!0):!1}(t,e):void be(19439)}function Sj(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(Sj).join(" ,")+"}"}(t):"Filter"}class Tz extends Ot{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sz extends Ot{constructor(e,n){super(e,"in",n),this.keys=Aj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Az extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=Aj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Aj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class Pz extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xw(n)&&Lu(n.arrayValue,this.value)}}class Iz extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lu(this.value.arrayValue,n)}}class Oz extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lu(this.value.arrayValue,n)}}class Cz extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function zS(t,e=null,n=[],r=[],i=null,a=null,o=null){return new kz(t,e,n,r,i,a,o)}function Qw(t){const e=Ae(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>V0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Mm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nl(r)).join(",")),e.Ie=n}return e.Ie}function Jw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_z(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BS(t.startAt,e.startAt)&&BS(t.endAt,e.endAt)}function U0(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Nz(t,e,n,r,i,a,o,s){return new Df(t,e,n,r,i,a,o,s)}function Zw(t){return new Df(t)}function WS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Pj(t){return t.collectionGroup!==null}function au(t){const e=Ae(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new $t(Jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new ip(a,r))}),n.has(Jt.keyField().canonicalString())||e.Ee.push(new ip(Jt.keyField(),r))}return e.Ee}function Vr(t){const e=Ae(t);return e.de||(e.de=jz(e,au(t))),e.de}function jz(t,e){if(t.limitType==="F")return zS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ip(i.field,a)});const n=t.endAt?new rp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rp(t.startAt.position,t.startAt.inclusive):null;return zS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function B0(t,e){const n=t.filters.concat([e]);return new Df(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function z0(t,e,n){return new Df(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lm(t,e){return Jw(Vr(t),Vr(e))&&t.limitType===e.limitType}function Ij(t){return`${Qw(Vr(t))}|lt:${t.limitType}`}function ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Sj(i)).join(", ")}]`),Mm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nl(i)).join(",")),`Target(${r})`}(Vr(t))}; limitType=${t.limitType})`}function Fm(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of au(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const c=US(o,s,l);return o.inclusive?c<=0:c<0}(r.startAt,au(r),i)||r.endAt&&!function(o,s,l){const c=US(o,s,l);return o.inclusive?c>=0:c>0}(r.endAt,au(r),i))}(t,e)}function Rz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Oj(t){return(e,n)=>{let r=!1;for(const i of au(t)){const a=Dz(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Dz(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?tl(l,c):be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return fj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new yt(ge.comparator);function Ti(){return Mz}const Cj=new yt(ge.comparator);function Uc(...t){let e=Cj;for(const n of t)e=e.insert(n.key,n);return e}function kj(t){let e=Cj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fo(){return ou()}function Nj(){return ou()}function ou(){return new qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const $z=new yt(ge.comparator),Lz=new $t(ge.comparator);function Me(...t){let e=Lz;for(const n of t)e=e.add(n);return e}const Fz=new $t(Ce);function Vz(){return Fz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ep(e)?"-0":e}}function jj(t){return{integerValue:""+t}}function Uz(t,e){return mz(e)?jj(e):e_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this._=void 0}}function Bz(t,e,n){return t instanceof ap?function(i,a){const o={fields:{[pj]:{stringValue:hj},[gj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Yw(a)&&(a=$m(a)),a&&(o.fields[mj]=a),{mapValue:o}}(n,e):t instanceof Fu?Dj(t,e):t instanceof Vu?Mj(t,e):function(i,a){const o=Rj(i,a),s=qS(o)+qS(i.Re);return F0(o)&&F0(i.Re)?jj(s):e_(i.serializer,s)}(t,e)}function zz(t,e,n){return t instanceof Fu?Dj(t,e):t instanceof Vu?Mj(t,e):n}function Rj(t,e){return t instanceof op?function(r){return F0(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ap extends Vm{}class Fu extends Vm{constructor(e){super(),this.elements=e}}function Dj(t,e){const n=$j(e);for(const r of t.elements)n.some(i=>qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vu extends Vm{constructor(e){super(),this.elements=e}}function Mj(t,e){let n=$j(e);for(const r of t.elements)n=n.filter(i=>!qr(i,r));return{arrayValue:{values:n}}}class op extends Vm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function qS(t){return Et(t.integerValue||t.doubleValue)}function $j(t){return Xw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Wz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fu&&i instanceof Fu||r instanceof Vu&&i instanceof Vu?el(r.elements,i.elements,qr):r instanceof op&&i instanceof op?qr(r.Re,i.Re):r instanceof ap&&i instanceof ap}(t.transform,e.transform)}class qz{constructor(e,n){this.version=e,this.transformResults=n}}class Ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Um{}function Lj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vj(t.key,Ur.none()):new Mf(t.key,t.data,Ur.none());{const n=t.data,r=In.empty();let i=new $t(Jt.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Fa(t.key,r,new Un(i.toArray()),Ur.none())}}function Hz(t,e,n){t instanceof Mf?function(i,a,o){const s=i.value.clone(),l=KS(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Fa?function(i,a,o){if(!gh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=KS(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(Fj(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function su(t,e,n,r){return t instanceof Mf?function(a,o,s,l){if(!gh(a.precondition,o))return s;const c=a.value.clone(),u=GS(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fa?function(a,o,s,l){if(!gh(a.precondition,o))return s;const c=GS(a.fieldTransforms,l,o),u=o.data;return u.setAll(Fj(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,s){return gh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function Kz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Rj(r.transform,i||null);a!=null&&(n===null&&(n=In.empty()),n.set(r.field,a))}return n||null}function HS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&el(r,i,(a,o)=>Wz(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mf extends Um{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fa extends Um{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Fj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KS(t,e,n){const r=new Map;qe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,zz(o,s,n[i]))}return r}function GS(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,Bz(a,o,e))}return r}class Vj extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gz extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Hz(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Nj();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=Lj(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(n,r)=>HS(n,r))&&el(this.baseMutations,e.baseMutations,(n,r)=>HS(n,r))}}class t_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return $z}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new t_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Fe;function Jz(t){switch(t){case J.OK:return be(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function Uj(t){if(t===void 0)return Ei("GRPC error has no .code"),J.UNKNOWN;switch(t){case At.OK:return J.OK;case At.CANCELLED:return J.CANCELLED;case At.UNKNOWN:return J.UNKNOWN;case At.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case At.INTERNAL:return J.INTERNAL;case At.UNAVAILABLE:return J.UNAVAILABLE;case At.UNAUTHENTICATED:return J.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case At.NOT_FOUND:return J.NOT_FOUND;case At.ALREADY_EXISTS:return J.ALREADY_EXISTS;case At.PERMISSION_DENIED:return J.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case At.ABORTED:return J.ABORTED;case At.OUT_OF_RANGE:return J.OUT_OF_RANGE;case At.UNIMPLEMENTED:return J.UNIMPLEMENTED;case At.DATA_LOSS:return J.DATA_LOSS;default:return be(39323,{code:t})}}(Fe=At||(At={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=new ya([4294967295,4294967295],0);function YS(t){const e=lj().encode(t),n=new ej;return n.update(e),new Uint8Array(n.digest())}function XS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ya([n,r],0),new ya([i,a],0)]}class n_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bc(`Invalid padding: ${n}`);if(r<0)throw new Bc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ya.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(ya.fromNumber(r)));return i.compare(Zz)===1&&(i=new ya([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=YS(e),[r,i]=XS(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new n_(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const n=YS(e),[r,i]=XS(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$f.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bm(Se.min(),i,new yt(Ce),Ti(),Me())}}class $f{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $f(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class Bj{constructor(e,n){this.targetId=e,this.Ce=n}}class zj{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QS{constructor(){this.Fe=0,this.Me=JS(),this.xe=tn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),n=Me(),r=Me();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be(38017,{changeType:a})}}),new $f(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=JS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class e9{constructor(e){this.ze=e,this.je=new Map,this.He=Ti(),this.Je=Rd(),this.Ye=Rd(),this.Ze=new yt(Ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(U0(a))if(r===0){const o=new ge(a.path);this.tt(n,o,fn.newNoDocument(o,Se.min()))}else qe(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const s=this.ct(e),l=s?this.lt(s,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Ia(r).toUint8Array()}catch(l){if(l instanceof dj)return Zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new n_(o,i,a)}catch(l){return Zs(l instanceof Bc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.pe===0?null:s}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&U0(s.target)){const l=new ge(s.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,fn.newNoDocument(l,e))}a.Le&&(n.set(o,a.qe()),a.Qe())}});let r=Me();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new Bm(e,n,this.Ze,this.He,r);return this.He=Ti(),this.Je=Rd(),this.Ye=Rd(),this.Ze=new yt(Ce),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new QS,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new $t(Ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new $t(Ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new QS),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Rd(){return new yt(ge.comparator)}function JS(){return new yt(ge.comparator)}const t9={asc:"ASCENDING",desc:"DESCENDING"},n9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r9={and:"AND",or:"OR"};class i9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W0(t,e){return t.useProto3Json||Mm(e)?e:{value:e}}function sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a9(t,e){return sp(t,e.toTimestamp())}function Br(t){return qe(!!t,49232),Se.fromTimestamp(function(n){const r=Pa(n);return new Mt(r.seconds,r.nanos)}(t))}function r_(t,e){return q0(t,e).canonicalString()}function q0(t,e){const n=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qj(t){const e=ut.fromString(t);return qe(Xj(e),10190,{key:e.toString()}),e}function H0(t,e){return r_(t.databaseId,e.path)}function Wv(t,e){const n=qj(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(Kj(n))}function Hj(t,e){return r_(t.databaseId,e)}function o9(t){const e=qj(t);return e.length===4?ut.emptyPath():Kj(e)}function K0(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Kj(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZS(t,e,n){return{name:H0(t,e),fields:n.value.mapValue.fields}}function s9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:be(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(qe(u===void 0||typeof u=="string",58123),tn.fromBase64String(u||"")):(qe(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),tn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?J.UNKNOWN:Uj(c.code);return new ce(u,c.message||"")}(o);n=new zj(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wv(t,r.document.name),a=Br(r.document.updateTime),o=r.document.createTime?Br(r.document.createTime):Se.min(),s=new In({mapValue:{fields:r.document.fields}}),l=fn.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new vh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wv(t,r.document),a=r.readTime?Br(r.readTime):Se.min(),o=fn.newNoDocument(i,a),s=r.removedTargetIds||[];n=new vh([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wv(t,r.document),a=r.removedTargetIds||[];n=new vh([],a,i,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new Qz(i,a),s=r.targetId;n=new Bj(s,o)}}return n}function l9(t,e){let n;if(e instanceof Mf)n={update:ZS(t,e.key,e.value)};else if(e instanceof Vj)n={delete:H0(t,e.key)};else if(e instanceof Fa)n={update:ZS(t,e.key,e.data),updateMask:v9(e.fieldMask)};else{if(!(e instanceof Gz))return be(16599,{ft:e.type});n={verify:H0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof ap)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Fu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Vu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof op)return{fieldPath:o.field.canonicalString(),increment:s.Re};throw be(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:a9(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be(27497)}(t,e.precondition)),n}function c9(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Br(i.updateTime):Br(a);return o.isEqual(Se.min())&&(o=Br(a)),new qz(o,i.transformResults||[])}(n,e))):[]}function u9(t,e){return{documents:[Hj(t,e.path)]}}function f9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Hj(t,i);const a=function(c){if(c.length!==0)return Yj(Pr.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:cs(h.field),direction:p9(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=W0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function d9(t){let e=o9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(f){const h=Gj(f);return h instanceof Pr&&Ej(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(x){return new ip(us(x.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Mm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new rp(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new rp(m,h)}(n.endAt)),Nz(e,i,o,a,s,"F",l,c)}function h9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Gj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=us(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=us(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=us(n.unaryFilter.field);return Ot.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=us(n.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>Gj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(t):be(30097,{filter:t})}function p9(t){return t9[t]}function m9(t){return n9[t]}function g9(t){return r9[t]}function cs(t){return{fieldPath:t.canonicalString()}}function us(t){return Jt.fromServerFormat(t.fieldPath)}function Yj(t){return t instanceof Ot?function(n){if(n.op==="=="){if(VS(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NAN"}};if(FS(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VS(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NAN"}};if(FS(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(n.field),op:m9(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(i=>Yj(i));return r.length===1?r[0]:{compositeFilter:{op:g9(n.op),filters:r}}}(t):be(54877,{filter:t})}function v9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,r,i,a=Se.min(),o=Se.min(),s=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.wt=e}}function x9(t){const e=d9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?z0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.yn=new w9}addToCollectionParentIndex(e,n){return this.yn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Aa.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class w9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $t(ut.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qj=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(Qj,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new rl(0)}static ir(){return new rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="LruGarbageCollector",_9=1048576;function nA([t,e],[n,r]){const i=Ce(t,n);return i===0?Ce(e,r):i}class E9{constructor(e){this.cr=e,this.buffer=new $t(nA),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){oe(tA,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?oe(tA,"Ignoring IndexedDB error during garbage collection: ",n):await Fl(n)}await this.Ir(3e5)})}}class S9{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Dm.le);const r=new E9(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(eA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eA):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,a,o,s,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ss()<=De.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function A9(t,e){return new S9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.changes=new qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&su(r.mutation,i,Un.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=fo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Uc();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Ti();const o=ou(),s=function(){return ou()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Fa)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),su(u.mutation,c,u.mutation.getFieldMask(),Mt.now())):o.set(c.key,Un.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var f;return s.set(c,new I9(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=ou();let i=new yt((o,s)=>o-s),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Un.empty();u=s.applyToLocalView(c,u),r.set(l,u);const f=(i.get(s.batchId)||Me()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,f=Nj();u.forEach(h=>{if(!a.has(h)){const m=Lj(n.get(h),r.get(h));m!==null&&f.set(h,m),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Pj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Q.resolve(fo());let s=Du,l=a;return o.next(c=>Q.forEach(c,(u,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Me())).next(u=>({batchId:s,changes:kj(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=Uc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Uc();return this.indexManager.getCollectionParents(e,a).next(s=>Q.forEach(s,l=>{const c=function(f,h){return new Df(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,fn.newInvalidDocument(u)))});let s=Uc();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&su(u.mutation,c,Un.empty(),Mt.now()),Fm(n,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:x9(i.bundledQuery),readTime:Br(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.overlays=new yt(ge.comparator),this.Or=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fo();return Q.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=fo(),a=n.length+1,o=new ge(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new yt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=fo(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=fo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return Q.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Xz(n,r));let a=this.Or.get(n);a===void 0&&(a=Me(),this.Or.set(n,a)),this.Or.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.Nr=new $t(Vt.Br),this.Lr=new $t(Vt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Vt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new ge(new ut([])),r=new Vt(n,e),i=new Vt(n,e+1),a=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),a.push(o.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ge(new ut([])),r=new Vt(n,e),i=new Vt(n,e+1);let a=Me();return this.Lr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Vt(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ge.comparator(e.key,n.key)||Ce(e.Gr,n.Gr)}static kr(e,n){return Ce(e.Gr,n.Gr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new $t(Vt.Br)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Yz(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.zr=this.zr.add(new Vt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),a=i<0?0:i;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Gw:this.Jn-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),i=new Vt(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,i],o=>{const s=this.jr(o.Gr);a.push(s)}),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(Ce);return n.forEach(i=>{const a=new Vt(i,0),o=new Vt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,o],s=>{r=r.add(s.Gr)})}),Q.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const o=new Vt(new ge(a),0);let s=new $t(Ce);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Gr)),!0)},o),Q.resolve(this.Jr(s))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return Q.forEach(n.mutations,i=>{const a=new Vt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Vt(n,0),i=this.zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.Zr=e,this.docs=function(){return new yt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=Ti();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():fn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ti();const o=n.path,s=new ge(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fz(uz(u),r)<=0||(i.has(u.key)||Fm(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,n,r,i){be(9500)}Xr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D9(this)}getSize(e){return Q.resolve(this.size)}}class D9 extends P9{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.persistence=e,this.ei=new qo(n=>Qw(n),Jw),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ti=0,this.ni=new i_,this.targetCount=0,this.ri=rl.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),Q.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.ar(n),Q.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ei.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.ei.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Q.waitFor(a).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n){this.ii={},this.overlays={},this.si=new Dm(0),this.oi=!1,this.oi=!0,this._i=new N9,this.referenceDelegate=e(this),this.ai=new M9(this),this.indexManager=new b9,this.remoteDocumentCache=function(i){return new R9(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new y9(n),this.ci=new C9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new j9(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new $9(this.si.next());return this.referenceDelegate.li(),r(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,n){return Q.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class $9 extends hz{constructor(e){super(),this.currentSequenceNumber=e}}class a_{constructor(e){this.persistence=e,this.Ti=new i_,this.Ii=null}static Ei(e){return new a_(e)}get di(){if(this.Ii)return this.Ii;throw be(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,r=>{const i=ge.fromPath(r);return this.Ai(e,i).next(a=>{a||n.removeEntry(i,Se.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return Q.or([()=>Q.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class lp{constructor(e,n){this.persistence=e,this.Ri=new qo(r=>gz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=A9(this,n)}static Ei(e,n){return new lp(e,n)}li(){}hi(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return Q.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(a=>a?Q.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,n).next(s=>{s||(r++,a.removeEntry(o,Se.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),Q.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}gr(e,n,r){return Q.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=Me(),i=Me();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new o_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return v5()?8:pz(mn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Rs(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Vs(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new L9;return this.fs(e,n,o).next(s=>{if(a.result=s,this.Is)return this.gs(e,n,o,s.size)})}).next(()=>a.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(ss()<=De.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Q.resolve()):(ss()<=De.DEBUG&&oe("QueryEngine","Query:",ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ss()<=De.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):Q.resolve())}Rs(e,n){if(WS(n))return Q.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=z0(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Me(...a);return this.As.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ps(n,s);return this.ys(n,c,o,l.readTime)?this.Rs(e,z0(n,null,"F")):this.ws(e,c,n,l)}))})))}Vs(e,n,r,i){return WS(n)||i.isEqual(Se.min())?Q.resolve(null):this.As.getDocuments(e,r).next(a=>{const o=this.ps(n,a);return this.ys(n,o,r,i)?Q.resolve(null):(ss()<=De.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ls(n)),this.ws(e,o,n,cz(i,Du)).next(s=>s))})}ps(e,n){let r=new $t(Oj(e));return n.forEach((i,a)=>{Fm(e,a)&&(r=r.add(a))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,n,r){return ss()<=De.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ls(n)),this.As.getDocumentsMatchingQuery(e,n,Aa.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="LocalStore",V9=3e8;class U9{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new yt(Ce),this.Ds=new qo(a=>Qw(a),Jw),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O9(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function B9(t,e,n,r){return new U9(t,e,n,r)}async function Zj(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Me();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:s}))})})}function z9(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const f=c.batch,h=f.keys();let m=Q.resolve();return h.forEach(x=>{m=m.next(()=>u.getEntry(l,x)).next(b=>{const y=c.docVersions.get(x);qe(y!==null,48541),b.version.compareTo(y)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Me();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function eR(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function W9(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const s=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;s.push(n.ai.removeMatchingKeys(a,u.removedDocuments,f).next(()=>n.ai.addMatchingKeys(a,u.addedDocuments,f)));let m=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(f,m),function(b,y,v){return b.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=V9?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,m,u)&&s.push(n.ai.updateTargetData(a,m))});let l=Ti(),c=Me();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(q9(a,o,e.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!r.isEqual(Se.min())){const u=n.ai.getLastRemoteSnapshotVersion(a).next(f=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(u)}return Q.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.Ss=i,a))}function q9(t,e,n){let r=Me(),i=Me();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Ti();return n.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):oe(s_,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{xs:o,Os:i}})}function H9(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function K9(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(a=>a?(i=a,Q.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new ia(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function G0(t,e,n){const r=Ae(t),i=r.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Vl(o))throw o;oe(s_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function rA(t,e,n){const r=Ae(t);let i=Se.min(),a=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Ae(l),h=f.Ds.get(u);return h!==void 0?Q.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(r,o,Vr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?a:Me())).next(s=>(G9(r,Rz(e),s),{documents:s,Ns:a})))}function G9(t,e,n){let r=t.vs.get(e)||Se.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.vs.set(e,r)}class iA{constructor(){this.activeTargetIds=Vz()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y9{constructor(){this.So=new iA,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new iA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="ConnectivityMonitor";class oA{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){oe(aA,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){oe(aA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function Y0(){return Dd===null?Dd=function(){return 268435456+Math.round(2147483648*Math.random())}():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="RestConnection",Q9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J9{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===tp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,a){const o=Y0(),s=this.$o(e,n.toUriEncodedString());oe(qv,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,i,a),this.Ko(e,s,l,r).then(c=>(oe(qv,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Zs(qv,`RPC '${e}' ${o} failed with error: `,c,"url: ",s,"request:",r),c})}Wo(e,n,r,i,a,o){return this.Qo(e,n,r,i,a)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}$o(e,n){const r=Q9[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class e8 extends J9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){const a=Y0();return new Promise((o,s)=>{const l=new tj;l.setWithCredentials(!0),l.listenOnce(nj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hh.NO_ERROR:const u=l.getResponseJson();oe(sn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),o(u);break;case hh.TIMEOUT:oe(sn,`RPC '${e}' ${a} timed out`),s(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const f=l.getStatus();if(oe(sn,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const x=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(v)>=0?v:J.UNKNOWN}(m.status);s(new ce(x,m.message))}else s(new ce(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ce(J.UNAVAILABLE,"Connection failed."));break;default:be(9055,{s_:e,streamId:a,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{oe(sn,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);oe(sn,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",c,r,15)})}a_(e,n,r){const i=Y0(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aj(),s=ij(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=a.join("");oe(sn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let h=!1,m=!1;const x=new Z9({Go:y=>{m?oe(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(oe(sn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),oe(sn,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},zo:()=>f.close()}),b=(y,v,g)=>{y.listen(v,w=>{try{g(w)}catch(C){setTimeout(()=>{throw C},0)}})};return b(f,Vc.EventType.OPEN,()=>{m||(oe(sn,`RPC '${e}' stream ${i} transport opened.`),x.t_())}),b(f,Vc.EventType.CLOSE,()=>{m||(m=!0,oe(sn,`RPC '${e}' stream ${i} transport closed`),x.r_())}),b(f,Vc.EventType.ERROR,y=>{m||(m=!0,Zs(sn,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),x.r_(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),b(f,Vc.EventType.MESSAGE,y=>{var v;if(!m){const g=y.data[0];qe(!!g,16349);const w=g,C=(w==null?void 0:w.error)||((v=w[0])===null||v===void 0?void 0:v.error);if(C){oe(sn,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let A=function(P){const I=At[P];if(I!==void 0)return Uj(I)}(S),E=C.message;A===void 0&&(A=J.INTERNAL,E="Unknown error status: "+S+" with message "+C.message),m=!0,x.r_(new ce(A,E)),f.close()}else oe(sn,`RPC '${e}' stream ${i} received:`,g),x.i_(g)}}),b(s,rj.STAT_EVENT,y=>{y.stat===M0.PROXY?oe(sn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===M0.NOPROXY&&oe(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function Hv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){return new i9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="PersistentStream";class nR{constructor(e,n,r,i,a,o,s,l){this.bi=e,this.R_=r,this.V_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new tR(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new ce(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return oe(sA,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(oe(sA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t8 extends nR{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=s9(this.serializer,e),r=function(a){if(!("targetChange"in a))return Se.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?Br(o.readTime):Se.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=K0(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=U0(l)?{documents:u9(a,l)}:{query:f9(a,l).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Wj(a,o.resumeToken);const c=W0(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Se.min())>0){s.readTime=sp(a,o.snapshotVersion.toTimestamp());const c=W0(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const r=h9(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=K0(this.serializer),n.removeTarget=e,this.F_(n)}}class n8 extends nR{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=c9(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=K0(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>l9(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{}class i8 extends r8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Qo(e,q0(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(J.UNKNOWN,a.toString())})}Wo(e,n,r,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,q0(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(J.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class a8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ei(n),this.ea=!1):oe("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class o8{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(o=>{r.enqueueAndForget(async()=>{Ho(this)&&(oe(jo,"Restarting streams for network reachability change."),await async function(l){const c=Ae(l);c.aa.add(4),await Lf(c),c.la.set("Unknown"),c.aa.delete(4),await Wm(c)}(this))})}),this.la=new a8(r,i)}}async function Wm(t){if(Ho(t))for(const e of t.ua)await e(!0)}async function Lf(t){for(const e of t.ua)await e(!1)}function rR(t,e){const n=Ae(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),f_(n)?u_(n):Ul(n).b_()&&c_(n,e))}function l_(t,e){const n=Ae(t),r=Ul(n);n._a.delete(e),r.b_()&&iR(n,e),n._a.size===0&&(r.b_()?r.v_():Ho(n)&&n.la.set("Unknown"))}function c_(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).U_(e)}function iR(t,e){t.ha.Ke(e),Ul(t).K_(e)}function u_(t){t.ha=new e9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.la.ta()}function f_(t){return Ho(t)&&!Ul(t).w_()&&t._a.size>0}function Ho(t){return Ae(t).aa.size===0}function aR(t){t.ha=void 0}async function s8(t){t.la.set("Online")}async function l8(t){t._a.forEach((e,n)=>{c_(t,e)})}async function c8(t,e){aR(t),f_(t)?(t.la.ia(e),u_(t)):t.la.set("Unknown")}async function u8(t,e,n){if(t.la.set("Online"),e instanceof zj&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i._a.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i._a.delete(s),i.ha.removeTarget(s))}(t,e)}catch(r){oe(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cp(t,r)}else if(e instanceof vh?t.ha.Xe(e):e instanceof Bj?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Se.min()))try{const r=await eR(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.ha.It(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a._a.get(c);u&&a._a.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a._a.get(l);if(!u)return;a._a.set(l,u.withResumeToken(tn.EMPTY_BYTE_STRING,u.snapshotVersion)),iR(a,l);const f=new ia(u.target,l,c,u.sequenceNumber);c_(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){oe(jo,"Failed to raise snapshot:",r),await cp(t,r)}}async function cp(t,e,n){if(!Vl(e))throw e;t.aa.add(1),await Lf(t),t.la.set("Offline"),n||(n=()=>eR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe(jo,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Wm(t)})}function oR(t,e){return e().catch(n=>cp(t,n,e))}async function qm(t){const e=Ae(t),n=Ca(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Gw;for(;f8(e);)try{const i=await H9(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,d8(e,i)}catch(i){await cp(e,i)}sR(e)&&lR(e)}function f8(t){return Ho(t)&&t.oa.length<10}function d8(t,e){t.oa.push(e);const n=Ca(t);n.b_()&&n.W_&&n.G_(e.mutations)}function sR(t){return Ho(t)&&!Ca(t).w_()&&t.oa.length>0}function lR(t){Ca(t).start()}async function h8(t){Ca(t).H_()}async function p8(t){const e=Ca(t);for(const n of t.oa)e.G_(n.mutations)}async function m8(t,e,n){const r=t.oa.shift(),i=t_.from(r,e,n);await oR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qm(t)}async function g8(t,e){e&&Ca(t).W_&&await async function(r,i){if(function(o){return Jz(o)&&o!==J.ABORTED}(i.code)){const a=r.oa.shift();Ca(r).D_(),await oR(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await qm(r)}}(t,e),sR(t)&&lR(t)}async function lA(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),oe(jo,"RemoteStore received new credentials");const r=Ho(n);n.aa.add(3),await Lf(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Wm(n)}async function v8(t,e){const n=Ae(t);e?(n.aa.delete(2),await Wm(n)):e||(n.aa.add(2),await Lf(n),n.la.set("Unknown"))}function Ul(t){return t.Pa||(t.Pa=function(n,r,i){const a=Ae(n);return a.Y_(),new t8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:s8.bind(null,t),Jo:l8.bind(null,t),Zo:c8.bind(null,t),Q_:u8.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),f_(t)?u_(t):t.la.set("Unknown")):(await t.Pa.stop(),aR(t))})),t.Pa}function Ca(t){return t.Ta||(t.Ta=function(n,r,i){const a=Ae(n);return a.Y_(),new n8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:h8.bind(null,t),Zo:g8.bind(null,t),z_:p8.bind(null,t),j_:m8.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await qm(t)):(await t.Ta.stop(),t.oa.length>0&&(oe(jo,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new d_(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h_(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),Vl(t))return new ce(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{static emptySet(e){return new Ls(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Uc(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ls;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.Ia=new yt(ge.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class il{constructor(e,n,r,i,a,o,s,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new il(e,n,Ls.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class x8{constructor(){this.queries=uA(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=Ae(n),a=i.queries;i.queries=uA(),a.forEach((o,s)=>{for(const l of s.Ra)l.onError(r)})})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function uA(){return new qo(t=>Ij(t),Lm)}async function cR(t,e){const n=Ae(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Va()&&e.ma()&&(r=2):(a=new y8,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await n.onListen(i,!0);break;case 1:a.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=h_(o,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&p_(n)}async function uR(t,e){const n=Ae(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Ra.indexOf(e);o>=0&&(a.Ra.splice(o,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function b8(t,e){const n=Ae(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Ra)s.pa(i)&&(r=!0);o.Aa=i}}r&&p_(n)}function w8(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const a of i.Ra)a.onError(n);r.queries.delete(e)}function p_(t){t.fa.forEach(e=>{e.next()})}var X0,fA;(fA=X0||(X0={})).ya="default",fA.Cache="cache";class fR{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==X0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.key=e}}class hR{constructor(e){this.key=e}}class _8{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Me(),this.mutatedKeys=Me(),this.Ua=Oj(e),this.Ka=new Ls(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new cA,i=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),m=Fm(this.query,f)?f:null,x=!!h&&this.mutatedKeys.has(h.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;h&&m?h.data.isEqual(m.data)?x!==b&&(r.track({type:3,doc:m}),y=!0):this.ja(h,m)||(r.track({type:2,doc:m}),y=!0,(l&&this.Ua(m,l)>0||c&&this.Ua(m,c)<0)&&(s=!0)):!h&&m?(r.track({type:0,doc:m}),y=!0):h&&!m&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(s=!0)),y&&(m?(o=o.add(m),a=b?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{Ka:o,za:r,ys:s,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((u,f)=>function(m,x){const b=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:y})}};return b(m)-b(x)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(r),i=i!=null&&i;const s=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,c=l!==this.Qa;return this.Qa=l,o.length!==0||c?{snapshot:new il(this.query,e.Ka,a,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new cA,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Me(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new hR(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new dR(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Me();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return il.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const m_="SyncEngine";class E8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T8{constructor(e){this.key=e,this.tu=!1}}class S8{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new qo(s=>Ij(s),Lm),this.iu=new Map,this.su=new Set,this.ou=new yt(ge.comparator),this._u=new Map,this.au=new i_,this.uu={},this.cu=new Map,this.lu=rl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function A8(t,e,n=!0){const r=xR(t);let i;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await pR(r,e,n,!0),i}async function P8(t,e){const n=xR(t);await pR(n,e,!0,!1)}async function pR(t,e,n,r){const i=await K9(t.localStore,Vr(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await I8(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&rR(t.remoteStore,i),s}async function I8(t,e,n,r,i){t.Pu=(f,h,m)=>async function(b,y,v,g){let w=y.view.Ga(v);w.ys&&(w=await rA(b.localStore,y.query,!1).then(({documents:E})=>y.view.Ga(E,w)));const C=g&&g.targetChanges.get(y.targetId),S=g&&g.targetMismatches.get(y.targetId)!=null,A=y.view.applyChanges(w,b.isPrimaryClient,C,S);return hA(b,y.targetId,A.Ya),A.snapshot}(t,f,h,m);const a=await rA(t.localStore,e,!0),o=new _8(e,a.Ns),s=o.Ga(a.documents),l=$f.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);hA(t,n,c.Ya);const u=new E8(e,n,o);return t.ru.set(e,u),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function O8(t,e,n){const r=Ae(t),i=r.ru.get(e),a=r.iu.get(i.targetId);if(a.length>1)return r.iu.set(i.targetId,a.filter(o=>!Lm(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await G0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&l_(r.remoteStore,i.targetId),Q0(r,i.targetId)}).catch(Fl)):(Q0(r,i.targetId),await G0(r.localStore,i.targetId,!0))}async function C8(t,e){const n=Ae(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),l_(n.remoteStore,r.targetId))}async function k8(t,e,n){const r=L8(t);try{const i=await function(o,s){const l=Ae(o),c=Mt.now(),u=s.reduce((m,x)=>m.add(x.key),Me());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=Ti(),b=Me();return l.Cs.getEntries(m,u).next(y=>{x=y,x.forEach((v,g)=>{g.isValidDocument()||(b=b.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,x)).next(y=>{f=y;const v=[];for(const g of s){const w=Kz(g,f.get(g.key).overlayedDocument);w!=null&&v.push(new Fa(g.key,w,bj(w.value.mapValue),Ur.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,v,s)}).next(y=>{h=y;const v=y.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(m,y.batchId,v)})}).then(()=>({batchId:h.batchId,changes:kj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.uu[o.currentUser.toKey()];c||(c=new yt(Ce)),c=c.insert(s,l),o.uu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ff(r,i.changes),await qm(r.remoteStore)}catch(i){const a=h_(i,"Failed to persist write");n.reject(a)}}async function mR(t,e){const n=Ae(t);try{const r=await W9(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n._u.get(a);o&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?qe(o.tu,14607):i.removedDocuments.size>0&&(qe(o.tu,42227),o.tu=!1))}),await Ff(n,r,e)}catch(r){await Fl(r)}}function dA(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((a,o)=>{const s=o.view.ga(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Ae(o);l.onlineState=s;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(s)&&(c=!0)}),c&&p_(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N8(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),a=i&&i.key;if(a){let o=new yt(ge.comparator);o=o.insert(a,fn.newNoDocument(a,Se.min()));const s=Me().add(a),l=new Bm(Se.min(),new Map,new yt(Ce),o,s);await mR(r,l),r.ou=r.ou.remove(a),r._u.delete(e),g_(r)}else await G0(r.localStore,e,!1).then(()=>Q0(r,e,n)).catch(Fl)}async function j8(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await z9(n.localStore,e);vR(n,r,null),gR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ff(n,i)}catch(i){await Fl(i)}}async function R8(t,e,n){const r=Ae(t);try{const i=await function(o,s){const l=Ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(f=>(qe(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);vR(r,e,n),gR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ff(r,i)}catch(i){await Fl(i)}}function gR(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function vR(t,e,n){const r=Ae(t);let i=r.uu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Q0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||yR(t,r)})}function yR(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(l_(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),g_(t))}function hA(t,e,n){for(const r of n)r instanceof dR?(t.au.addReference(r.key,e),D8(t,r)):r instanceof hR?(oe(m_,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||yR(t,r.key)):be(19791,{Iu:r})}function D8(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(oe(m_,"New document in limbo: "+n),t.su.add(r),g_(t))}function g_(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ge(ut.fromString(e)),r=t.lu.next();t._u.set(r,new T8(n)),t.ou=t.ou.insert(n,r),rR(t.remoteStore,new ia(Vr(Zw(n.path)),r,"TargetPurposeLimboResolution",Dm.le))}}async function Ff(t,e,n){const r=Ae(t),i=[],a=[],o=[];r.ru.isEmpty()||(r.ru.forEach((s,l)=>{o.push(r.Pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=o_.Ps(l.targetId,c);a.push(f)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(l,c){const u=Ae(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(c,h=>Q.forEach(h.ls,m=>u.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>Q.forEach(h.hs,m=>u.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Vl(f))throw f;oe(s_,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=u.Ss.get(h),x=m.snapshotVersion,b=m.withLastLimboFreeSnapshotVersion(x);u.Ss=u.Ss.insert(h,b)}}}(r.localStore,a))}async function M8(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){oe(m_,"User change. New user:",e.toKey());const r=await Zj(n.localStore,e);n.currentUser=e,function(a,o){a.cu.forEach(s=>{s.forEach(l=>{l.reject(new ce(J.CANCELLED,o))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ff(n,r.Ms)}}function $8(t,e){const n=Ae(t),r=n._u.get(e);if(r&&r.tu)return Me().add(r.key);{let i=Me();const a=n.iu.get(e);if(!a)return i;for(const o of a){const s=n.ru.get(o);i=i.unionWith(s.view.Wa)}return i}}function xR(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N8.bind(null,e),e.nu.Q_=b8.bind(null,e.eventManager),e.nu.Tu=w8.bind(null,e.eventManager),e}function L8(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R8.bind(null,e),e}class up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return B9(this.persistence,new F9,e.initialUser,this.serializer)}Ru(e){return new Jj(a_.Ei,this.serializer)}Au(e){return new Y9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}up.provider={build:()=>new up};class F8 extends up{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){qe(this.persistence.referenceDelegate instanceof lp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new T9(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new Jj(r=>lp.Ei(r,n),this.serializer)}}class J0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M8.bind(null,this.syncEngine),await v8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x8}()}createDatastore(e){const n=zm(e.databaseInfo.databaseId),r=function(a){return new e8(a)}(e.databaseInfo);return function(a,o,s,l){return new i8(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new o8(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>dA(this.syncEngine,n,0),function(){return oA.C()?new oA:new X9}())}createSyncEngine(e,n){return function(i,a,o,s,l,c,u){const f=new S8(i,a,o,s,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ae(i);oe(jo,"RemoteStore shutting down."),a.aa.add(5),await Lf(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}J0.provider={build:()=>new J0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class V8{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=cj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{oe(ka,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(oe(ka,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=h_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kv(t,e){t.asyncQueue.verifyOperationInProgress(),oe(ka,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Zj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U8(t);oe(ka,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lA(e.remoteStore,i)),t._onlineComponents=e}async function U8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe(ka,"Using user provided OfflineComponentProvider");try{await Kv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await Kv(t,new up)}}else oe(ka,"Using default OfflineComponentProvider"),await Kv(t,new F8(void 0));return t._offlineComponents}async function wR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe(ka,"Using user provided OnlineComponentProvider"),await pA(t,t._uninitializedComponentsProvider._online)):(oe(ka,"Using default OnlineComponentProvider"),await pA(t,new J0))),t._onlineComponents}function B8(t){return wR(t).then(e=>e.syncEngine)}async function _R(t){const e=await wR(t),n=e.eventManager;return n.onListen=A8.bind(null,e.syncEngine),n.onUnlisten=O8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=C8.bind(null,e.syncEngine),n}function z8(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new bR({next:h=>{u.yu(),o.enqueueAndForget(()=>uR(a,f));const m=h.docs.has(s);!m&&h.fromCache?c.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new fR(Zw(s.path),u,{includeMetadataChanges:!0,Fa:!0});return cR(a,f)}(await _R(t),t.asyncQueue,e,n,r)),r.promise}function W8(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new bR({next:h=>{u.yu(),o.enqueueAndForget(()=>uR(a,f)),h.fromCache&&l.source==="server"?c.reject(new ce(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new fR(s,u,{includeMetadataChanges:!0,Fa:!0});return cR(a,f)}(await _R(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e,n){if(!n)throw new ce(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q8(t,e,n,r){if(e===!0&&r===!0)throw new ce(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gA(t){if(!ge.isDocumentKey(t))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vA(t){if(ge.isDocumentKey(t))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function Si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hm(t);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firestore.googleapis.com",yA=!0;class xA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SR,this.ssl=yA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:yA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_9)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ER((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Km{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ez;switch(r.type){case"firstParty":return new iz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mA.get(n);r&&(oe("ComponentProvider","Removing Datastore"),mA.delete(n),r.terminate())}(this),Promise.resolve()}}function H8(t,e,n,r={}){var i;const a=(t=Si(t,Km))._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),s=`${e}:${n}`;a.host!==SR&&a.host!==s&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},a),{host:s,ssl:!1,emulatorOptions:r});if(!Io(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=cn.MOCK_USER;else{c=u5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new cn(f)}t._authCredentials=new tz(new sj(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bl(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class xa extends Bl{constructor(e,n,r){super(e,n,Zw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ge(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function v_(t,e,...n){if(t=kt(t),TR("collection","path",e),t instanceof Km){const r=ut.fromString(e,...n);return vA(r),new xa(t,null,r)}{if(!(t instanceof En||t instanceof xa))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return vA(r),new xa(t.firestore,null,r)}}function Je(t,e,...n){if(t=kt(t),arguments.length===1&&(e=cj.newId()),TR("doc","path",e),t instanceof Km){const r=ut.fromString(e,...n);return gA(r),new En(t,null,new ge(r))}{if(!(t instanceof En||t instanceof xa))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return gA(r),new En(t.firestore,t instanceof xa?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="AsyncQueue";class wA{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new tR(this,"async_queue_retry"),this.ju=()=>{const r=Hv();r&&oe(bA,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Hv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Hv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new di;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Vl(e))throw e;oe(bA,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ei("INTERNAL UNHANDLED ERROR: ",_A(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=d_.createAndSchedule(this,e,n,r,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&be(47125,{ec:_A(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function _A(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vf extends Km{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new wA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wA(e),this._firestoreClient=void 0,await e}}}function K8(t,e){const n=typeof t=="object"?t:yN(),r=typeof t=="string"?t:tp,i=Mw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=l5("firestore");a&&H8(i,...a)}return i}function y_(t){if(t._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G8(t),t._firestoreClient}function G8(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,c,u){return new xz(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ER(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new V8(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new al(tn.fromBase64String(e))}catch(n){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new al(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=/^__.*__$/;class X8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mf(e,this.data,n,this.fieldTransforms)}}class AR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{oc:t})}}class __{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new __(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return fp(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(PR(this.oc)&&Y8.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Q8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zm(e)}dc(e,n,r,i=!1){return new __({oc:e,methodName:n,Ec:r,path:Jt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E_(t){const e=t._freezeSettings(),n=zm(t._databaseId);return new Q8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J8(t,e,n,r,i,a={}){const o=t.dc(a.merge||a.mergeFields?2:0,e,n,i);T_("Data must be an object, but it was:",o,r);const s=IR(r,o);let l,c;if(a.merge)l=new Un(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const h=Z0(e,f,n);if(!o.contains(h))throw new ce(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);CR(u,h)||u.push(h)}l=new Un(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new X8(new In(s),l,c)}class Ym extends x_{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ym}}function Z8(t,e,n,r){const i=t.dc(1,e,n);T_("Data must be an object, but it was:",i,r);const a=[],o=In.empty();La(r,(l,c)=>{const u=S_(e,l,n);c=kt(c);const f=i.hc(u);if(c instanceof Ym)a.push(u);else{const h=Uf(c,f);h!=null&&(a.push(u),o.set(u,h))}});const s=new Un(a);return new AR(o,s,i.fieldTransforms)}function e7(t,e,n,r,i,a){const o=t.dc(1,e,n),s=[Z0(e,r,n)],l=[i];if(a.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Z0(e,a[h])),l.push(a[h+1]);const c=[],u=In.empty();for(let h=s.length-1;h>=0;--h)if(!CR(c,s[h])){const m=s[h];let x=l[h];x=kt(x);const b=o.hc(m);if(x instanceof Ym)c.push(m);else{const y=Uf(x,b);y!=null&&(c.push(m),u.set(m,y))}}const f=new Un(c);return new AR(u,f,o.fieldTransforms)}function t7(t,e,n,r=!1){return Uf(n,t.dc(r?4:3,e))}function Uf(t,e){if(OR(t=kt(t)))return T_("Unsupported field value:",e,t),IR(t,e);if(t instanceof x_)return function(r,i){if(!PR(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=Uf(s,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Uz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Mt.fromDate(r);return{timestampValue:sp(i.serializer,a)}}if(r instanceof Mt){const a=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sp(i.serializer,a)}}if(r instanceof b_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof al)return{bytesValue:Wj(i.serializer,r._byteString)};if(r instanceof En){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:r_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof w_)return function(o,s){return{mapValue:{fields:{[vj]:{stringValue:xj},[np]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw s.Tc("VectorValues must only contain numeric values.");return e_(s.serializer,c)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Hm(r)}`)}(t,e)}function IR(t,e){const n={};return fj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(t,(r,i)=>{const a=Uf(i,e.uc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function OR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof b_||t instanceof al||t instanceof En||t instanceof x_||t instanceof w_)}function T_(t,e,n){if(!OR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hm(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Z0(t,e,n){if((e=kt(e))instanceof Gm)return e._internalPath;if(typeof e=="string")return S_(t,e);throw fp("Field path arguments must be of type string or ",t,!1,void 0,n)}const n7=new RegExp("[~\\*/\\[\\]]");function S_(t,e,n){if(e.search(n7)>=0)throw fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gm(...e.split("."))._internalPath}catch{throw fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fp(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(J.INVALID_ARGUMENT,s+t+l)}function CR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r7 extends kR{data(){return super.data()}}function A_(t,e){return typeof e=="string"?S_(t,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P_{}class a7 extends P_{}function I_(t,e,...n){let r=[];e instanceof P_&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof C_).length,s=a.filter(l=>l instanceof Xm).length;if(o>1||o>0&&s>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xm extends a7{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xm(e,n,r)}_apply(e){const n=this._parse(e);return NR(e._query,n),new Bl(e.firestore,e.converter,B0(e._query,n))}_parse(e){const n=E_(e.firestore);return function(a,o,s,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){TA(f,u);const x=[];for(const b of f)x.push(EA(l,a,b));h={arrayValue:{values:x}}}else h=EA(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||TA(f,u),h=t7(s,o,f,u==="in"||u==="not-in");return Ot.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function O_(t,e,n){const r=e,i=A_("where",t);return Xm._create(i,r,n)}class C_ extends P_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)NR(o,l),o=B0(o,l)}(e._query,n),new Bl(e.firestore,e.converter,B0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function EA(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pj(e)&&n.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!ge.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LS(t,new ge(r))}if(n instanceof En)return LS(t,n._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(n)}.`)}function TA(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NR(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class o7{convertValue(e,n="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return La(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[np].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Et(o.doubleValue));return new w_(a)}convertGeoPoint(e){return new b_(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$m(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const n=Pa(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);qe(Xj(r),9688,{name:e});const i=new $u(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return i.isEqual(n)||Ei(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jR extends kR{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yh extends jR{data(e={}){return super.data(e)}}class l7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new zc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new yh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new zc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new yh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new zc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:c7(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function c7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){t=Si(t,En);const e=Si(t.firestore,Vf);return z8(y_(e),t._key).then(n=>f7(e,t,n))}class RR extends o7{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function k_(t){t=Si(t,Bl);const e=Si(t.firestore,Vf),n=y_(e),r=new RR(e);return i7(t._query),W8(n,t._query).then(i=>new l7(e,r,t,i))}function u7(t,e,n){t=Si(t,En);const r=Si(t.firestore,Vf),i=s7(t.converter,e);return DR(r,[J8(E_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ur.none())])}function Gt(t,e,n,...r){t=Si(t,En);const i=Si(t.firestore,Vf),a=E_(i);let o;return o=typeof(e=kt(e))=="string"||e instanceof Gm?e7(a,"updateDoc",t._key,e,n,r):Z8(a,"updateDoc",t._key,e),DR(i,[o.toMutation(t._key,Ur.exists(!0))])}function DR(t,e){return function(r,i){const a=new di;return r.asyncQueue.enqueueAndForget(async()=>k8(await B8(r),i,a)),a.promise}(y_(t),e)}function f7(t,e,n){const r=n.docs.get(e._key),i=new RR(t);return new jR(t,i,e._key,r,new zc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ll=i})(Ml),Qs(new Oo("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Vf(new nz(r.getProvider("auth-internal")),new az(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),va(AS,PS,e),va(AS,PS,"esm2017")})();const d7={apiKey:"AIzaSyDPd5a_BV20Rgux6IOp9YNt2SmnU0_k5AM",authDomain:"ecogocorporate.firebaseapp.com",databaseURL:"https://ecogocorporate-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ecogocorporate",storageBucket:"ecogocorporate.firebasestorage.app",messagingSenderId:"1072763882311",appId:"1:1072763882311:web:3302c1da77b976006f1a62",measurementId:"G-12YYBFKWD9"},MR=vN(d7),Wc=XB(MR);DU(Wc,Ww).catch(t=>{console.error("Firebase auth persistence error:",t)});const We=K8(MR),$R=D.createContext(void 0),h7=({children:t})=>{const[e,n]=D.useState(null),[r,i]=D.useState(!0),[a,o]=D.useState(!1),[s,l]=D.useState(null),[c,u]=D.useState(null);D.useEffect(()=>LU(Wc,async y=>{if(console.log("Auth state changed:",y?"User authenticated":"No user"),y)if(y.displayName)try{const v=await nt(Je(We,"users",y.uid));v.exists()&&(l(v.data().role||"employee"),u(v.data().department||null))}catch(v){console.error("Error getting user role data:",v)}else try{const v=await nt(Je(We,"users",y.uid));v.exists()&&v.data().name&&(await Bv(y,{displayName:v.data().name}),n({...y})),v.exists()&&(l(v.data().role||"employee"),u(v.data().department||null))}catch(v){console.error("Error getting user data:",v)}else l(null),u(null);n(y),i(!1),o(!0)}),[]),D.useEffect(()=>{!r&&a&&!e&&window.location.pathname!=="/auth"&&(console.log("No authenticated user, redirecting to login"),window.location.replace(`${window.location.origin}/auth`))},[e,r,a]);const f=async(b,y)=>{const v=await jU(Wc,b,y),g=await nt(Je(We,"users",v.user.uid));g.exists()&&(g.data().name&&!v.user.displayName&&await Bv(v.user,{displayName:g.data().name}),l(g.data().role||"employee"),u(g.data().department||null))},h=async()=>{await FU(Wc),window.location.replace(`${window.location.origin}/auth`)},m=async(b,y,v,g,w,C="employee")=>{const S=await NU(Wc,b,y);await Bv(S.user,{displayName:v}),await u7(Je(We,"users",S.user.uid),{name:v,jobPosition:g,department:w,role:C,totalCarbon:0,businessTrips:{trips:[]},sharedTrips:[],email:b}),l(C),u(w)},x=()=>s==="manager";return p.jsx($R.Provider,{value:{user:e,loading:r,userRole:s,userDepartment:c,login:f,logout:h,register:m,isManager:x},children:t})};function cr(){const t=D.useContext($R);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const p7=()=>{const[t,e]=L.useState(!1),n=Ma(),{user:r}=cr(),[i,a]=L.useState(null);L.useEffect(()=>{if(!r){a(null);return}(async()=>{const c=Je(We,"users",r.uid),u=await nt(c);a(u.exists()?u.data().name:null)})()},[r]);const o=[{name:"Dashboard",path:"/",icon:p.jsx(L3,{className:"w-5 h-5"})},{name:"Trips",path:"/trips",icon:p.jsx(Ys,{className:"w-5 h-5"})},{name:"Account",path:"/account",icon:p.jsx(Cm,{className:"w-5 h-5"})}],s=()=>{e(!t)};return p.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:[p.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[p.jsxs(bo,{to:"/",className:"flex items-center space-x-2",children:[p.jsx(aN,{className:"h-8 w-8 text-primary-500"}),p.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"EcoGo Corporate"})]}),p.jsxs("nav",{className:"hidden md:flex md:items-center md:space-x-8",children:[o.map(l=>p.jsxs(bo,{to:l.path,className:`flex items-center space-x-1 px-3 py-2 rounded-md transition-colors ${n.pathname===l.path?"text-primary-600 bg-primary-50":"text-gray-600 hover:text-primary-500 hover:bg-gray-50"}`,children:[L.cloneElement(l.icon,{className:`w-5 h-5 ${n.pathname===l.path?"text-primary-500":""}`}),p.jsx("span",{children:l.name})]},l.path)),i&&p.jsx("span",{className:"ml-6 font-medium text-primary-700",children:i})]}),p.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:text-primary-500 focus:outline-none",onClick:s,"aria-label":"Toggle menu",children:t?p.jsx(Xs,{className:"h-6 w-6"}):p.jsx(q3,{className:"h-6 w-6"})})]}),t&&p.jsxs("nav",{className:"md:hidden bg-white border-t py-2 animate-fade-in",children:[o.map(l=>p.jsxs(bo,{to:l.path,className:`flex items-center space-x-3 px-4 py-3 ${n.pathname===l.path?"text-primary-600 bg-primary-50":"text-gray-600 hover:text-primary-500 hover:bg-gray-50"}`,onClick:()=>e(!1),children:[L.cloneElement(l.icon,{className:`w-5 h-5 ${n.pathname===l.path?"text-primary-500":""}`}),p.jsx("span",{children:l.name})]},l.path)),i&&p.jsx("div",{className:"px-4 py-2 text-primary-700 font-medium",children:i})]})]})},m7=()=>{const t=new Date().getFullYear();return p.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 mt-auto",children:p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(aN,{className:"h-6 w-6 text-primary-500"}),p.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"EcoGo Corporate"})]}),p.jsx("p",{className:"text-gray-600 max-w-xs",children:"Helping companies track and reduce their carbon footprint through intelligent invoice analysis."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"Resources"}),p.jsxs("ul",{className:"space-y-3",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Documentation"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"API Reference"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Sustainability Guide"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"Company"}),p.jsxs("ul",{className:"space-y-3",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"About"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Privacy Policy"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Terms of Service"})})]})]})]}),p.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 flex flex-col md:flex-row md:justify-between md:items-center",children:[p.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",t," EcoGo Corporate. All rights reserved."]}),p.jsxs("div",{className:"flex space-x-4 mt-4 md:mt-0",children:[p.jsxs("a",{href:"#",className:"text-gray-500 hover:text-primary-500 transition-colors",children:[p.jsx(z3,{className:"h-5 w-5"}),p.jsx("span",{className:"sr-only",children:"GitHub"})]}),p.jsxs("a",{href:"#",className:"text-gray-500 hover:text-primary-500 transition-colors",children:[p.jsx(Q3,{className:"h-5 w-5"}),p.jsx("span",{className:"sr-only",children:"Twitter"})]})]})]})]})})};function Ko(){const[t,e]=D.useState(!1),[n,r]=D.useState(null),{user:i}=cr(),a=D.useCallback(async()=>{var y;e(!0),r(null);try{if(!i)return[];const v=Je(We,"users",i.uid),g=await nt(v);if(!g.exists())return[];const w=g.data(),C=w.businessTrips||{trips:[]},S=w.sharedTrips||[],A=S.map(P=>P.id),E=[];if(A.length>0)for(const P of S){if(!P.ownerId)continue;const I=Je(We,"users",P.ownerId),N=await nt(I);if(!N.exists())continue;const B=(((y=N.data().businessTrips)==null?void 0:y.trips)||[]).find($=>$.id===P.id);B&&E.push(o(B))}return[...(C.trips||[]).map(o),...E]}catch(v){return console.error("Error fetching trips:",v),r("Failed to fetch trips"),[]}finally{e(!1)}},[i]),o=y=>{var v;return{id:y.id,name:y.name,description:y.description,startDate:y.startDate,endDate:y.endDate,totalCarbonFootprint:y.carbonFootprint||0,invoices:Array.isArray((v=y.invoices)==null?void 0:v.invoices)?y.invoices.invoices.map(g=>g.type==="fuel"?{id:g.id||"",type:g.type,fileName:g.fileName||"",co2:g.co2||0,volume:g.volume||0,typeOfFuel:g.typeOfFuel||"",uploadedBy:g.uploadedBy||{id:y.ownerId||"unknown",name:"Unknown User"}}:{id:g.id||"",tripId:y.id,type:g.type,fileName:g.fileName||"",date:g.date,amount:g.amount||0,carbonFootprint:g.carbonFootprint||0,name:g.name||"",status:g.status||"processed",description:g.description||"",departure:g.departure||[],arrival:g.arrival||[],transport_type:g.transport_type||[],co2:g.co2||[],uploadedBy:g.uploadedBy||{id:y.ownerId||"unknown",name:"Unknown User"}}):[],createdAt:y.createdAt||"",ownerId:y.ownerId||"",contributors:y.contributors||[]}},s=D.useCallback(async y=>{var v;e(!0),r(null);try{if(!i)return console.warn("User not authenticated, cannot fetch trip"),window.location.href="/auth",null;const g=Je(We,"users",i.uid),w=await nt(g);if(!w.exists())return null;const C=w.data();let A=((C.businessTrips||{trips:[]}).trips||[]).find(E=>E.id===y);if(!A){const T=(C.sharedTrips||[]).find(P=>P.id===y);if(T&&T.ownerId){const P=Je(We,"users",T.ownerId),I=await nt(P);I.exists()&&(A=(((v=I.data().businessTrips)==null?void 0:v.trips)||[]).find(k=>k.id===y))}}return A?o(A):null}catch(g){return console.error("Error fetching trip details:",g),r("Failed to fetch trip details"),null}finally{e(!1)}},[i]),l=D.useCallback(async y=>{e(!0),r(null);try{await new Promise(w=>setTimeout(w,1e3));const v=new Date().toISOString(),g={id:Math.random().toString(36).substring(2,9),name:y.name||"New Trip",description:y.description||"",startDate:y.startDate||v.split("T")[0],endDate:y.endDate||v.split("T")[0],totalCarbonFootprint:0,invoices:[],createdAt:v,ownerId:(i==null?void 0:i.uid)||"",contributors:y.contributors||[]};if(i){const w=Je(We,"users",i.uid),C=await nt(w);if(C.exists()){const S=C.data(),E=[...(S.businessTrips||{totalCarbon:0,trips:[]}).trips||[],{id:g.id,name:g.name,description:g.description,startDate:g.startDate,endDate:g.endDate,createdAt:v,carbonFootprint:0,ownerId:i.uid,contributors:y.contributors||[]}];if(await Gt(w,{"businessTrips.trips":E}),Array.isArray(y.contributors)&&y.contributors.length>0)for(const T of y.contributors){const P=Je(We,"users",T.id),I=await nt(P);if(I.exists()){const j=I.data().sharedTrips||[];await Gt(P,{sharedTrips:[...j,{id:g.id,ownerId:i.uid,ownerName:S.name||"Unknown",name:g.name,dateShared:v}]})}}}}return g}catch(v){return console.error("Failed to create trip:",v),r("Failed to create trip"),null}finally{e(!1)}},[i]),c=D.useCallback(async(y,v)=>{e(!0),r(null);try{const g="llx-6QQa4iJVbCxUow4TRsvU4acQmx9aNRlStbyV9aLvO9tjkGhM",w=v==="fuel"?"747998f1-650f-46a3-8964-894ccbd65645":"06282571-5b3c-4896-8cf7-53b1bce8c39a",C=await y.arrayBuffer(),S=btoa(String.fromCharCode(...new Uint8Array(C))),A=await fetch("/.netlify/functions/llamaProxy",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({action:"upload",data:{fileData:S,fileName:y.name}})});if(!A.ok)throw new Error(`Upload failed: ${A.statusText}`);const E=await A.json(),T=E.file_id??E.id??E.fileId;if(!T)throw console.error("No file_id returned:",E),new Error("Upload succeeded but no file_id was returned");const P=await fetch("/.netlify/functions/llamaProxy",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({action:"createJob",data:{extraction_agent_id:w,file_id:T}})});if(!P.ok)throw new Error(`Job creation failed: ${P.statusText}`);const I=await P.json(),N=I.job_id??I.id;if(!N)throw new Error("No job_id returned from extraction");let j,k=0;do{await new Promise(X=>setTimeout(X,2e3));const q=await fetch("/.netlify/functions/llamaProxy",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({action:"getJobStatus",data:{jobId:N}})});if(!q.ok)throw new Error(`Status check failed: ${q.statusText}`);if(j=(await q.json()).status,j==="FAILED")throw new Error("Extraction job failed");if(++k>30)throw new Error("Extraction job timed out")}while(j!=="SUCCESS");const B=await fetch("/.netlify/functions/llamaProxy",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({action:"getJobResult",data:{jobId:N}})});if(!B.ok)throw new Error(`Result fetch failed: ${B.statusText}`);const z=(await B.json()).data||{};let V=(i==null?void 0:i.displayName)||"";if(!V&&i){const q=Je(We,"users",i.uid),W=await nt(q);W.exists()&&W.data().name&&(V=W.data().name)}const M={id:(i==null?void 0:i.uid)||"unknown",name:V||"Unknown User"};let F,U;if(v==="fuel"){const q=z.fuel_co2||0;U=typeof q=="number"?q:0,F={id:Math.random().toString(36).substring(2,9),type:"fuel",fileName:y.name,co2:U,volume:z.volume||0,typeOfFuel:z.type_of_fuel||"",uploadedBy:M}}else{const q=Array.isArray(z.departure)?z.departure:typeof z.departure=="string"?[z.departure]:[],W=Array.isArray(z.arrival)?z.arrival:typeof z.arrival=="string"?[z.arrival]:[],X=Array.isArray(z.transport_type)?z.transport_type:typeof z.transport_type=="string"?[z.transport_type]:[];let ee=[];const fe=X.map(Oe=>(Oe||"").toLowerCase());for(let Oe=0;Oe<Math.max(1,fe.length);Oe++){const et=fe[Oe]||v.toLowerCase();let ne=0;et.includes("train")?Array.isArray(z.train_co2)&&z.train_co2[Oe]!==void 0?ne=z.train_co2[Oe]:typeof z.train_co2=="number"&&(ne=z.train_co2):Array.isArray(z.flight_co2)&&z.flight_co2[Oe]!==void 0?ne=z.flight_co2[Oe]:typeof z.flight_co2=="number"&&(ne=z.flight_co2),ee.push(ne)}ee.length===0&&ee.push(0),U=ee.reduce((Oe,et)=>Oe+et,0);const he={id:Math.random().toString(36).substring(2,9),type:v,fileName:y.name,departure:q,arrival:W,transport_type:X,co2:ee,uploadedBy:M};Array.isArray(z.distance)&&(he.distance=z.distance),F=he}return F}catch(g){return console.error("Invoice analysis error:",g),r("Failed to analyze invoice: "+(g instanceof Error?g.message:String(g))),null}finally{e(!1)}},[i]),u=D.useCallback(async(y,v)=>{var g,w;e(!0),r(null);try{if(!i)throw new Error("Not authenticated");const C=v.type==="fuel"?v.co2:Array.isArray(v.co2)?v.co2.reduce((E,T)=>E+(T||0),0):0,S=Je(We,"users",i.uid),A=await nt(S);if(A.exists()){const E=A.data();typeof E.totalCarbon>"u"?await Gt(S,{totalCarbon:C}):await Gt(S,{totalCarbon:E.totalCarbon+C});const T=((g=E.businessTrips)==null?void 0:g.trips)||[],P=T.findIndex(I=>I.id===y);if(P!==-1){const N=[...(T[P].invoices||{invoices:[]}).invoices,v];if(T[P].invoices={invoices:N},T[P].carbonFootprint=(T[P].carbonFootprint||0)+C,v.type!=="fuel"){const j=T[P].transportTypes||{};v.transport_type.forEach(B=>{const $=(B==null?void 0:B.toLowerCase())||v.type.toLowerCase();j[$]=(j[$]||0)+1}),T[P].transportTypes=j}return await Gt(S,{"businessTrips.trips":T}),!0}else{const N=(E.sharedTrips||[]).find(j=>j.id===y);if(N&&N.ownerId){const j=Je(We,"users",N.ownerId),k=await nt(j);if(k.exists()){const $=((w=k.data().businessTrips)==null?void 0:w.trips)||[],z=$.findIndex(V=>V.id===y);if(z!==-1){const M=[...($[z].invoices||{invoices:[]}).invoices,v];if($[z].invoices={invoices:M},$[z].carbonFootprint=($[z].carbonFootprint||0)+C,v.type!=="fuel"){const F=$[z].transportTypes||{};v.transport_type.forEach(q=>{const W=(q==null?void 0:q.toLowerCase())||v.type.toLowerCase();F[W]=(F[W]||0)+1}),$[z].transportTypes=F}return await Gt(j,{"businessTrips.trips":$}),!0}}}}}throw new Error("Trip not found")}catch(C){return console.error("Invoice save error:",C),r("Failed to save invoice: "+(C instanceof Error?C.message:String(C))),!1}finally{e(!1)}},[i]),f=D.useCallback(async(y,v,g)=>{try{const w=await c(v,g);return!w||!await u(y,w)?null:w}catch(w){return console.error("Invoice upload error:",w),r("Failed to process invoice: "+(w instanceof Error?w.message:String(w))),null}},[c,u]),h=D.useCallback(async y=>{e(!0),r(null);try{await new Promise(g=>setTimeout(g,1e3));let v=0;switch(y){case"fuel":v=Math.floor(Math.random()*1e3)+500;break;case"plane":v=Math.floor(Math.random()*3e3)+2e3;break;case"train":v=Math.floor(Math.random()*600)+200;break}return{carbonFootprint:v}}catch{return r("Failed to analyze invoice"),null}finally{e(!1)}},[]),m=D.useCallback(async(y,v)=>{var g,w,C,S;e(!0),r(null);try{if(!i)throw new Error("Not authenticated");const A=Je(We,"users",i.uid),E=await nt(A);if(!E.exists())throw new Error("User not found");const T=E.data(),P=((g=T.businessTrips)==null?void 0:g.trips)||[];let I=P.findIndex(k=>k.id===y);if(I===-1&&(I=P.findIndex(k=>{var B;return Array.isArray((B=k.invoices)==null?void 0:B.invoices)&&k.invoices.invoices.some($=>$.id===v)})),I!==-1){console.log("Deleting invoice",v,"from trip",P[I].id);const k=((w=P[I].invoices)==null?void 0:w.invoices)||[],B=k.find(M=>M.id===v);let $=0;B&&(B.type==="fuel"?$=B.co2||0:(B.type==="plane"||B.type==="train")&&Array.isArray(B.co2)&&($=B.co2.reduce((M,F)=>M+(F||0),0)),typeof T.totalCarbon=="number"&&$>0&&await Gt(A,{totalCarbon:Math.max(0,T.totalCarbon-$)}));const z=k.filter(M=>M.id!==v),V=z.reduce((M,F)=>{let U=0;return F.type==="fuel"?U=F.co2||0:(F.type==="plane"||F.type==="train")&&Array.isArray(F.co2)&&(U=F.co2.reduce((q,W)=>q+(W||0),0)),M+U},0);return P[I].invoices={invoices:z},P[I].carbonFootprint=V,await Gt(A,{"businessTrips.trips":P}),!0}const j=(T.sharedTrips||[]).find(k=>k.id===y);if(j&&j.ownerId){const k=Je(We,"users",j.ownerId),B=await nt(k);if(B.exists()){const z=((C=B.data().businessTrips)==null?void 0:C.trips)||[],V=z.findIndex(M=>M.id===y);if(V!==-1){const M=((S=z[V].invoices)==null?void 0:S.invoices)||[],F=M.find(X=>X.id===v);let U=0;F&&(F.type==="fuel"?U=F.co2||0:(F.type==="plane"||F.type==="train")&&Array.isArray(F.co2)&&(U=F.co2.reduce((X,ee)=>X+(ee||0),0)),F.uploadedBy&&F.uploadedBy.id===i.uid&&U>0&&typeof T.totalCarbon=="number"&&await Gt(A,{totalCarbon:Math.max(0,T.totalCarbon-U)}));const q=M.filter(X=>X.id!==v),W=q.reduce((X,ee)=>{let fe=0;return ee.type==="fuel"?fe=ee.co2||0:(ee.type==="plane"||ee.type==="train")&&Array.isArray(ee.co2)&&(fe=ee.co2.reduce((he,Oe)=>he+(Oe||0),0)),X+fe},0);return z[V].invoices={invoices:q},z[V].carbonFootprint=W,await Gt(k,{"businessTrips.trips":z}),!0}}}throw new Error(`Trip not found for tripId=${y} or invoiceId=${v}`)}catch(A){return console.error("Delete invoice error:",A),r(A instanceof Error?A.message:String(A)),!1}finally{e(!1)}},[i]),x=D.useCallback(async y=>{var v;e(!0),r(null);try{if(!i)throw new Error("Not authenticated");const g=Je(We,"users",i.uid),w=await nt(g);if(!w.exists())throw new Error("User not found");const A=(((v=w.data().businessTrips)==null?void 0:v.trips)||[]).filter(E=>E.id!==y);return await Gt(g,{"businessTrips.trips":A}),!0}catch(g){return console.error("Delete trip error:",g),r(g instanceof Error?g.message:String(g)),!1}finally{e(!1)}},[i]),b=D.useCallback(async y=>{e(!0),r(null);try{if(!i)throw new Error("Not authenticated");const v=Je(We,"users",i.uid),g=await nt(v);if(!g.exists())throw new Error("User not found");const w=g.data(),C=y.map(E=>({id:Math.random().toString(36).substring(2,9),...E,createdAt:new Date().toISOString()})),S=w.carbonEntries||[];await Gt(v,{carbonEntries:[...S,...C]});const A=y.reduce((E,T)=>E+T.co2,0);return typeof w.totalCarbon>"u"?await Gt(v,{totalCarbon:A}):await Gt(v,{totalCarbon:w.totalCarbon+A}),!0}catch(v){return console.error("Save carbon entries error:",v),r(v instanceof Error?v.message:String(v)),!1}finally{e(!1)}},[i]);return{loading:t,error:n,getTrips:a,getTrip:s,createTrip:l,uploadInvoice:f,analyzeInvoiceFile:c,saveInvoiceToDatabase:u,analyzeInvoice:h,deleteInvoice:m,deleteTrip:x,saveUserCarbonEntry:b}}const ho=({title:t,value:e,icon:n,description:r,trend:i,className:a=""})=>p.jsx("div",{className:`bg-white rounded-lg shadow-card overflow-hidden ${a}`,children:p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),p.jsx("div",{className:"text-secondary-500",children:n})]}),p.jsxs("div",{className:"flex items-baseline",children:[p.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e}),i&&p.jsxs("span",{className:`ml-2 text-sm font-medium ${i.isPositive?"text-error-600":"text-success-600"}`,children:[i.isPositive?"+":"-",Math.abs(i.value),"%"]})]}),r&&p.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})});function LR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=LR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=LR(t))&&(r&&(r+=" "),r+=e);return r}var g7=Array.isArray,Rn=g7,v7=typeof dd=="object"&&dd&&dd.Object===Object&&dd,FR=v7,y7=FR,x7=typeof self=="object"&&self&&self.Object===Object&&self,b7=y7||x7||Function("return this")(),Kr=b7,w7=Kr,_7=w7.Symbol,Bf=_7,SA=Bf,VR=Object.prototype,E7=VR.hasOwnProperty,T7=VR.toString,Tc=SA?SA.toStringTag:void 0;function S7(t){var e=E7.call(t,Tc),n=t[Tc];try{t[Tc]=void 0;var r=!0}catch{}var i=T7.call(t);return r&&(e?t[Tc]=n:delete t[Tc]),i}var A7=S7,P7=Object.prototype,I7=P7.toString;function O7(t){return I7.call(t)}var C7=O7,AA=Bf,k7=A7,N7=C7,j7="[object Null]",R7="[object Undefined]",PA=AA?AA.toStringTag:void 0;function D7(t){return t==null?t===void 0?R7:j7:PA&&PA in Object(t)?k7(t):N7(t)}var Ri=D7;function M7(t){return t!=null&&typeof t=="object"}var Di=M7,$7=Ri,L7=Di,F7="[object Symbol]";function V7(t){return typeof t=="symbol"||L7(t)&&$7(t)==F7}var zl=V7,U7=Rn,B7=zl,z7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W7=/^\w*$/;function q7(t,e){if(U7(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||B7(t)?!0:W7.test(t)||!z7.test(t)||e!=null&&t in Object(e)}var N_=q7;function H7(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Va=H7;const Wl=Ge(Va);var K7=Ri,G7=Va,Y7="[object AsyncFunction]",X7="[object Function]",Q7="[object GeneratorFunction]",J7="[object Proxy]";function Z7(t){if(!G7(t))return!1;var e=K7(t);return e==X7||e==Q7||e==Y7||e==J7}var j_=Z7;const Te=Ge(j_);var eW=Kr,tW=eW["__core-js_shared__"],nW=tW,Gv=nW,IA=function(){var t=/[^.]+$/.exec(Gv&&Gv.keys&&Gv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function rW(t){return!!IA&&IA in t}var iW=rW,aW=Function.prototype,oW=aW.toString;function sW(t){if(t!=null){try{return oW.call(t)}catch{}try{return t+""}catch{}}return""}var UR=sW,lW=j_,cW=iW,uW=Va,fW=UR,dW=/[\\^$.*+?()[\]{}|]/g,hW=/^\[object .+?Constructor\]$/,pW=Function.prototype,mW=Object.prototype,gW=pW.toString,vW=mW.hasOwnProperty,yW=RegExp("^"+gW.call(vW).replace(dW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xW(t){if(!uW(t)||cW(t))return!1;var e=lW(t)?yW:hW;return e.test(fW(t))}var bW=xW;function wW(t,e){return t==null?void 0:t[e]}var _W=wW,EW=bW,TW=_W;function SW(t,e){var n=TW(t,e);return EW(n)?n:void 0}var Go=SW,AW=Go,PW=AW(Object,"create"),Qm=PW,OA=Qm;function IW(){this.__data__=OA?OA(null):{},this.size=0}var OW=IW;function CW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kW=CW,NW=Qm,jW="__lodash_hash_undefined__",RW=Object.prototype,DW=RW.hasOwnProperty;function MW(t){var e=this.__data__;if(NW){var n=e[t];return n===jW?void 0:n}return DW.call(e,t)?e[t]:void 0}var $W=MW,LW=Qm,FW=Object.prototype,VW=FW.hasOwnProperty;function UW(t){var e=this.__data__;return LW?e[t]!==void 0:VW.call(e,t)}var BW=UW,zW=Qm,WW="__lodash_hash_undefined__";function qW(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zW&&e===void 0?WW:e,this}var HW=qW,KW=OW,GW=kW,YW=$W,XW=BW,QW=HW;function ql(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ql.prototype.clear=KW;ql.prototype.delete=GW;ql.prototype.get=YW;ql.prototype.has=XW;ql.prototype.set=QW;var JW=ql;function ZW(){this.__data__=[],this.size=0}var eq=ZW;function tq(t,e){return t===e||t!==t&&e!==e}var R_=tq,nq=R_;function rq(t,e){for(var n=t.length;n--;)if(nq(t[n][0],e))return n;return-1}var Jm=rq,iq=Jm,aq=Array.prototype,oq=aq.splice;function sq(t){var e=this.__data__,n=iq(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():oq.call(e,n,1),--this.size,!0}var lq=sq,cq=Jm;function uq(t){var e=this.__data__,n=cq(e,t);return n<0?void 0:e[n][1]}var fq=uq,dq=Jm;function hq(t){return dq(this.__data__,t)>-1}var pq=hq,mq=Jm;function gq(t,e){var n=this.__data__,r=mq(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var vq=gq,yq=eq,xq=lq,bq=fq,wq=pq,_q=vq;function Hl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hl.prototype.clear=yq;Hl.prototype.delete=xq;Hl.prototype.get=bq;Hl.prototype.has=wq;Hl.prototype.set=_q;var Zm=Hl,Eq=Go,Tq=Kr,Sq=Eq(Tq,"Map"),D_=Sq,CA=JW,Aq=Zm,Pq=D_;function Iq(){this.size=0,this.__data__={hash:new CA,map:new(Pq||Aq),string:new CA}}var Oq=Iq;function Cq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var kq=Cq,Nq=kq;function jq(t,e){var n=t.__data__;return Nq(e)?n[typeof e=="string"?"string":"hash"]:n.map}var eg=jq,Rq=eg;function Dq(t){var e=Rq(this,t).delete(t);return this.size-=e?1:0,e}var Mq=Dq,$q=eg;function Lq(t){return $q(this,t).get(t)}var Fq=Lq,Vq=eg;function Uq(t){return Vq(this,t).has(t)}var Bq=Uq,zq=eg;function Wq(t,e){var n=zq(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var qq=Wq,Hq=Oq,Kq=Mq,Gq=Fq,Yq=Bq,Xq=qq;function Kl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kl.prototype.clear=Hq;Kl.prototype.delete=Kq;Kl.prototype.get=Gq;Kl.prototype.has=Yq;Kl.prototype.set=Xq;var M_=Kl,BR=M_,Qq="Expected a function";function $_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Qq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new($_.Cache||BR),n}$_.Cache=BR;var zR=$_;const Jq=Ge(zR);var Zq=zR,eH=500;function tH(t){var e=Zq(t,function(r){return n.size===eH&&n.clear(),r}),n=e.cache;return e}var nH=tH,rH=nH,iH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aH=/\\(\\)?/g,oH=rH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(iH,function(n,r,i,a){e.push(i?a.replace(aH,"$1"):r||n)}),e}),sH=oH;function lH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var L_=lH,kA=Bf,cH=L_,uH=Rn,fH=zl,dH=1/0,NA=kA?kA.prototype:void 0,jA=NA?NA.toString:void 0;function WR(t){if(typeof t=="string")return t;if(uH(t))return cH(t,WR)+"";if(fH(t))return jA?jA.call(t):"";var e=t+"";return e=="0"&&1/t==-dH?"-0":e}var hH=WR,pH=hH;function mH(t){return t==null?"":pH(t)}var qR=mH,gH=Rn,vH=N_,yH=sH,xH=qR;function bH(t,e){return gH(t)?t:vH(t,e)?[t]:yH(xH(t))}var HR=bH,wH=zl,_H=1/0;function EH(t){if(typeof t=="string"||wH(t))return t;var e=t+"";return e=="0"&&1/t==-_H?"-0":e}var tg=EH,TH=HR,SH=tg;function AH(t,e){e=TH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[SH(e[n++])];return n&&n==r?t:void 0}var F_=AH,PH=F_;function IH(t,e,n){var r=t==null?void 0:PH(t,e);return r===void 0?n:r}var KR=IH;const zn=Ge(KR);function OH(t){return t==null}var CH=OH;const je=Ge(CH);var kH=Ri,NH=Rn,jH=Di,RH="[object String]";function DH(t){return typeof t=="string"||!NH(t)&&jH(t)&&kH(t)==RH}var MH=DH;const Ro=Ge(MH);var GR={exports:{}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=Symbol.for("react.element"),U_=Symbol.for("react.portal"),ng=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),ag=Symbol.for("react.provider"),og=Symbol.for("react.context"),$H=Symbol.for("react.server_context"),sg=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),cg=Symbol.for("react.suspense_list"),ug=Symbol.for("react.memo"),fg=Symbol.for("react.lazy"),LH=Symbol.for("react.offscreen"),YR;YR=Symbol.for("react.module.reference");function ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case V_:switch(t=t.type,t){case ng:case ig:case rg:case lg:case cg:return t;default:switch(t=t&&t.$$typeof,t){case $H:case og:case sg:case fg:case ug:case ag:return t;default:return e}}case U_:return e}}}Ye.ContextConsumer=og;Ye.ContextProvider=ag;Ye.Element=V_;Ye.ForwardRef=sg;Ye.Fragment=ng;Ye.Lazy=fg;Ye.Memo=ug;Ye.Portal=U_;Ye.Profiler=ig;Ye.StrictMode=rg;Ye.Suspense=lg;Ye.SuspenseList=cg;Ye.isAsyncMode=function(){return!1};Ye.isConcurrentMode=function(){return!1};Ye.isContextConsumer=function(t){return ur(t)===og};Ye.isContextProvider=function(t){return ur(t)===ag};Ye.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===V_};Ye.isForwardRef=function(t){return ur(t)===sg};Ye.isFragment=function(t){return ur(t)===ng};Ye.isLazy=function(t){return ur(t)===fg};Ye.isMemo=function(t){return ur(t)===ug};Ye.isPortal=function(t){return ur(t)===U_};Ye.isProfiler=function(t){return ur(t)===ig};Ye.isStrictMode=function(t){return ur(t)===rg};Ye.isSuspense=function(t){return ur(t)===lg};Ye.isSuspenseList=function(t){return ur(t)===cg};Ye.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ng||t===ig||t===rg||t===lg||t===cg||t===LH||typeof t=="object"&&t!==null&&(t.$$typeof===fg||t.$$typeof===ug||t.$$typeof===ag||t.$$typeof===og||t.$$typeof===sg||t.$$typeof===YR||t.getModuleId!==void 0)};Ye.typeOf=ur;GR.exports=Ye;var FH=GR.exports,VH=Ri,UH=Di,BH="[object Number]";function zH(t){return typeof t=="number"||UH(t)&&VH(t)==BH}var XR=zH;const WH=Ge(XR);var qH=XR;function HH(t){return qH(t)&&t!=+t}var KH=HH;const zf=Ge(KH);var xn=function(e){return e===0?0:e>0?1:-1},po=function(e){return Ro(e)&&e.indexOf("%")===e.length-1},te=function(e){return WH(e)&&!zf(e)},Dt=function(e){return te(e)||Ro(e)},GH=0,Wf=function(e){var n=++GH;return"".concat(e||"").concat(n)},bn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!Ro(e))return r;var a;if(po(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return zf(a)&&(a=r),i&&a>n&&(a=n),a},ea=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},YH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Hi=function(e,n){return te(e)&&te(n)?function(r){return e+r*(n-e)}:function(){return n}};function ex(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):zn(r,e))===n})}var XH=function(e,n){return te(e)&&te(n)?e-n:Ro(e)&&Ro(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Fs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}var QH=["viewBox","children"],JH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],RA=["points","pathLength"],Yv={svg:QH,polygon:RA,polyline:RA},B_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!Wl(r))return null;var i={};return Object.keys(r).forEach(function(a){B_.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},ZH=function(e,n,r){return function(i){return e(n,r,i),null}},Do=function(e,n,r){if(!Wl(e)||tx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];B_.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=ZH(o,n,r))}),i},eK=["children"],tK=["children"];function DA(t,e){if(t==null)return{};var n=nK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var MA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},hi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$A=null,Xv=null,z_=function t(e){if(e===$A&&Array.isArray(Xv))return Xv;var n=[];return D.Children.forEach(e,function(r){je(r)||(FH.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Xv=n,$A=e,n};function ar(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return hi(i)}):r=[hi(e)],z_(t).forEach(function(i){var a=zn(i,"type.displayName")||zn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ln(t,e){var n=ar(t,e);return n&&n[0]}var LA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!te(r)||r<=0||!te(i)||i<=0)},rK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],iK=function(e){return e&&e.type&&Ro(e.type)&&rK.indexOf(e.type)>=0},aK=function(e,n,r,i){var a,o=(a=Yv==null?void 0:Yv[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Te(e)&&(i&&o.includes(n)||JH.includes(n))||r&&B_.includes(n)},_e=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Wl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;aK((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},nx=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return FA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!FA(a,o))return!1}return!0},FA=function(e,n){if(je(e)&&je(n))return!0;if(!je(e)&&!je(n)){var r=e.props||{},i=r.children,a=DA(r,eK),o=n.props||{},s=o.children,l=DA(o,tK);return i&&s?Fs(a,l)&&nx(i,s):!i&&!s?Fs(a,l):!1}return!1},VA=function(e,n){var r=[],i={};return z_(e).forEach(function(a,o){if(iK(a))r.push(a);else if(a){var s=hi(a.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(a,s,o);r.push(f),i[s]=!0}}}),r},oK=function(e){var n=e&&e.type;return n&&MA[n]?MA[n]:null},sK=function(e,n){return z_(n).indexOf(e)},lK=["children","width","height","viewBox","className","style","title","desc"];function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function cK(t,e){if(t==null)return{};var n=uK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ix(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=cK(t,lK),u=i||{width:n,height:r,x:0,y:0},f=ke("recharts-surface",a);return L.createElement("svg",rx({},_e(c,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),L.createElement("title",null,s),L.createElement("desc",null,l),e)}var fK=["children","className"];function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(this,arguments)}function dK(t,e){if(t==null)return{};var n=hK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var He=L.forwardRef(function(t,e){var n=t.children,r=t.className,i=dK(t,fK),a=ke("recharts-layer",r);return L.createElement("g",ax({className:a},_e(i,!0),{ref:e}),n)}),Tr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function pK(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var mK=pK,gK=mK;function vK(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:gK(t,e,n)}var yK=vK,xK="\\ud800-\\udfff",bK="\\u0300-\\u036f",wK="\\ufe20-\\ufe2f",_K="\\u20d0-\\u20ff",EK=bK+wK+_K,TK="\\ufe0e\\ufe0f",SK="\\u200d",AK=RegExp("["+SK+xK+EK+TK+"]");function PK(t){return AK.test(t)}var QR=PK;function IK(t){return t.split("")}var OK=IK,JR="\\ud800-\\udfff",CK="\\u0300-\\u036f",kK="\\ufe20-\\ufe2f",NK="\\u20d0-\\u20ff",jK=CK+kK+NK,RK="\\ufe0e\\ufe0f",DK="["+JR+"]",ox="["+jK+"]",sx="\\ud83c[\\udffb-\\udfff]",MK="(?:"+ox+"|"+sx+")",ZR="[^"+JR+"]",eD="(?:\\ud83c[\\udde6-\\uddff]){2}",tD="[\\ud800-\\udbff][\\udc00-\\udfff]",$K="\\u200d",nD=MK+"?",rD="["+RK+"]?",LK="(?:"+$K+"(?:"+[ZR,eD,tD].join("|")+")"+rD+nD+")*",FK=rD+nD+LK,VK="(?:"+[ZR+ox+"?",ox,eD,tD,DK].join("|")+")",UK=RegExp(sx+"(?="+sx+")|"+VK+FK,"g");function BK(t){return t.match(UK)||[]}var zK=BK,WK=OK,qK=QR,HK=zK;function KK(t){return qK(t)?HK(t):WK(t)}var GK=KK,YK=yK,XK=QR,QK=GK,JK=qR;function ZK(t){return function(e){e=JK(e);var n=XK(e)?QK(e):void 0,r=n?n[0]:e.charAt(0),i=n?YK(n,1).join(""):e.slice(1);return r[t]()+i}}var eG=ZK,tG=eG,nG=tG("toUpperCase"),rG=nG;const dg=Ge(rG);function rt(t){return function(){return t}}const iD=Math.cos,hp=Math.sin,Ir=Math.sqrt,pp=Math.PI,hg=2*pp,lx=Math.PI,cx=2*lx,ro=1e-6,iG=cx-ro;function aD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function aG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return aD;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class oG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aD:aG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-n,u=o-e,f=s-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ro)if(!(Math.abs(f*l-c*u)>ro)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,x=i-s,b=l*l+c*c,y=m*m+x*x,v=Math.sqrt(b),g=Math.sqrt(h),w=a*Math.tan((lx-Math.acos((b+h-y)/(2*v*g)))/2),C=w/g,S=w/v;Math.abs(C-1)>ro&&this._append`L${e+C*u},${n+C*f}`,this._append`A${a},${a},0,0,${+(f*m>u*x)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ro||Math.abs(this._y1-u)>ro)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%cx+cx),h>iG?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>ro&&this._append`A${r},${r},0,${+(h>=lx)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function W_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new oG(e)}function q_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oD(t){this._context=t}oD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function pg(t){return new oD(t)}function sD(t){return t[0]}function lD(t){return t[1]}function cD(t,e){var n=rt(!0),r=null,i=pg,a=null,o=W_(s);t=typeof t=="function"?t:t===void 0?sD:rt(t),e=typeof e=="function"?e:e===void 0?lD:rt(e);function s(l){var c,u=(l=q_(l)).length,f,h=!1,m;for(r==null&&(a=i(m=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:rt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:rt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:rt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Md(t,e,n){var r=null,i=rt(!0),a=null,o=pg,s=null,l=W_(c);t=typeof t=="function"?t:t===void 0?sD:rt(+t),e=typeof e=="function"?e:rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lD:rt(+n);function c(f){var h,m,x,b=(f=q_(f)).length,y,v=!1,g,w=new Array(b),C=new Array(b);for(a==null&&(s=o(g=l())),h=0;h<=b;++h){if(!(h<b&&i(y=f[h],h,f))===v)if(v=!v)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=h-1;x>=m;--x)s.point(w[x],C[x]);s.lineEnd(),s.areaEnd()}v&&(w[h]=+t(y,h,f),C[h]=+e(y,h,f),s.point(r?+r(y,h,f):w[h],n?+n(y,h,f):C[h]))}if(g)return s=null,g+""||null}function u(){return cD().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rt(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rt(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:rt(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class uD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function sG(t){return new uD(t,!0)}function lG(t){return new uD(t,!1)}const H_={draw(t,e){const n=Ir(e/pp);t.moveTo(n,0),t.arc(0,0,n,0,hg)}},cG={draw(t,e){const n=Ir(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fD=Ir(1/3),uG=fD*2,fG={draw(t,e){const n=Ir(e/uG),r=n*fD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},dG={draw(t,e){const n=Ir(e),r=-n/2;t.rect(r,r,n,n)}},hG=.8908130915292852,dD=hp(pp/10)/hp(7*pp/10),pG=hp(hg/10)*dD,mG=-iD(hg/10)*dD,gG={draw(t,e){const n=Ir(e*hG),r=pG*n,i=mG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=hg*a/5,s=iD(o),l=hp(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Qv=Ir(3),vG={draw(t,e){const n=-Ir(e/(Qv*3));t.moveTo(0,n*2),t.lineTo(-Qv*n,-n),t.lineTo(Qv*n,-n),t.closePath()}},Yn=-.5,Xn=Ir(3)/2,ux=1/Ir(12),yG=(ux/2+1)*3,xG={draw(t,e){const n=Ir(e/yG),r=n/2,i=n*ux,a=r,o=n*ux+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Yn*r-Xn*i,Xn*r+Yn*i),t.lineTo(Yn*a-Xn*o,Xn*a+Yn*o),t.lineTo(Yn*s-Xn*l,Xn*s+Yn*l),t.lineTo(Yn*r+Xn*i,Yn*i-Xn*r),t.lineTo(Yn*a+Xn*o,Yn*o-Xn*a),t.lineTo(Yn*s+Xn*l,Yn*l-Xn*s),t.closePath()}};function bG(t,e){let n=null,r=W_(i);t=typeof t=="function"?t:rt(t||H_),e=typeof e=="function"?e:rt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:rt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:rt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function mp(){}function gp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function hD(t){this._context=t}hD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wG(t){return new hD(t)}function pD(t){this._context=t}pD.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _G(t){return new pD(t)}function mD(t){this._context=t}mD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EG(t){return new mD(t)}function gD(t){this._context=t}gD.prototype={areaStart:mp,areaEnd:mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function TG(t){return new gD(t)}function UA(t){return t<0?-1:1}function BA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(UA(a)+UA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function zA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Jv(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function vp(t){this._context=t}vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jv(this,this._t0,zA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Jv(this,zA(this,n=BA(this,t,e)),n);break;default:Jv(this,this._t0,n=BA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function vD(t){this._context=new yD(t)}(vD.prototype=Object.create(vp.prototype)).point=function(t,e){vp.prototype.point.call(this,e,t)};function yD(t){this._context=t}yD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function SG(t){return new vp(t)}function AG(t){return new vD(t)}function xD(t){this._context=t}xD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=WA(t),i=WA(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function WA(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function PG(t){return new xD(t)}function mg(t,e){this._context=t,this._t=e}mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function IG(t){return new mg(t,.5)}function OG(t){return new mg(t,0)}function CG(t){return new mg(t,1)}function ol(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function kG(t,e){return t[e]}function NG(t){const e=[];return e.key=t,e}function jG(){var t=rt([]),e=fx,n=ol,r=kG;function i(a){var o=Array.from(t.apply(this,arguments),NG),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,a)]).data=f;for(s=0,u=q_(e(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:rt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:rt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?fx:typeof a=="function"?a:rt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??ol,i):n},i}function RG(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}ol(t,e)}}function DG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}ol(t,e)}}function MG(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],f=u[r][1]||0,h=u[r-1][1]||0,m=(f-h)/2,x=0;x<s;++x){var b=t[e[x]],y=b[r][1]||0,v=b[r-1][1]||0;m+=y-v}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,ol(t,e)}}function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}var $G=["type","size","sizeType"];function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dx.apply(this,arguments)}function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){LG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LG(t,e,n){return e=FG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FG(t){var e=VG(t,"string");return Uu(e)=="symbol"?e:e+""}function VG(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UG(t,e){if(t==null)return{};var n=BG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bD={symbolCircle:H_,symbolCross:cG,symbolDiamond:fG,symbolSquare:dG,symbolStar:gG,symbolTriangle:vG,symbolWye:xG},zG=Math.PI/180,WG=function(e){var n="symbol".concat(dg(e));return bD[n]||H_},qG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*zG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},HG=function(e,n){bD["symbol".concat(dg(e))]=n},K_=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=UG(e,$G),c=HA(HA({},l),{},{type:r,size:a,sizeType:s}),u=function(){var y=WG(r),v=bG().type(y).size(qG(a,s,r));return v()},f=c.className,h=c.cx,m=c.cy,x=_e(c,!0);return h===+h&&m===+m&&a===+a?L.createElement("path",dx({},x,{className:ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};K_.registerSymbol=HG;function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hx.apply(this,arguments)}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(n),!0).forEach(function(r){Bu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_D(r.key),r)}}function XG(t,e,n){return e&&YG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QG(t,e,n){return e=yp(e),JG(t,wD()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function JG(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZG(t)}function ZG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function eY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&px(t,e)}function px(t,e){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},px(t,e)}function Bu(t,e,n){return e=_D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _D(t){var e=tY(t,"string");return sl(e)=="symbol"?e:e+""}function tY(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qn=32,G_=function(t){function e(){return GG(this,e),QG(this,e,arguments)}return eY(e,t),XG(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Qn/2,o=Qn/6,s=Qn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Qn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Qn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return L.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Qn/8,"h").concat(Qn,"v").concat(Qn*3/4,"h").concat(-Qn,"z"),className:"recharts-legend-icon"});if(L.isValidElement(r.legendIcon)){var c=KG({},r);return delete c.legendIcon,L.cloneElement(r.legendIcon,c)}return L.createElement(K_,{fill:l,cx:a,cy:a,size:Qn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Qn,height:Qn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,x){var b=m.formatter||l,y=ke(Bu(Bu({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=Te(m.value)?null:m.value;Tr(!Te(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=m.inactive?c:m.color;return L.createElement("li",hx({className:y,style:f,key:"legend-item-".concat(x)},Do(r.props,m,x)),L.createElement(ix,{width:o,height:o,viewBox:u,style:h},r.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},b?b(v,m,x):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);Bu(G_,"displayName","Legend");Bu(G_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var nY=Zm;function rY(){this.__data__=new nY,this.size=0}var iY=rY;function aY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var oY=aY;function sY(t){return this.__data__.get(t)}var lY=sY;function cY(t){return this.__data__.has(t)}var uY=cY,fY=Zm,dY=D_,hY=M_,pY=200;function mY(t,e){var n=this.__data__;if(n instanceof fY){var r=n.__data__;if(!dY||r.length<pY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hY(r)}return n.set(t,e),this.size=n.size,this}var gY=mY,vY=Zm,yY=iY,xY=oY,bY=lY,wY=uY,_Y=gY;function Gl(t){var e=this.__data__=new vY(t);this.size=e.size}Gl.prototype.clear=yY;Gl.prototype.delete=xY;Gl.prototype.get=bY;Gl.prototype.has=wY;Gl.prototype.set=_Y;var ED=Gl,EY="__lodash_hash_undefined__";function TY(t){return this.__data__.set(t,EY),this}var SY=TY;function AY(t){return this.__data__.has(t)}var PY=AY,IY=M_,OY=SY,CY=PY;function xp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new IY;++e<n;)this.add(t[e])}xp.prototype.add=xp.prototype.push=OY;xp.prototype.has=CY;var TD=xp;function kY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var SD=kY;function NY(t,e){return t.has(e)}var AD=NY,jY=TD,RY=SD,DY=AD,MY=1,$Y=2;function LY(t,e,n,r,i,a){var o=n&MY,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,m=n&$Y?new jY:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var x=t[f],b=e[f];if(r)var y=o?r(b,x,f,e,t,a):r(x,b,f,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!RY(e,function(v,g){if(!DY(m,g)&&(x===v||i(x,v,n,r,a)))return m.push(g)})){h=!1;break}}else if(!(x===b||i(x,b,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var PD=LY,FY=Kr,VY=FY.Uint8Array,UY=VY;function BY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var zY=BY;function WY(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Y_=WY,GA=Bf,YA=UY,qY=R_,HY=PD,KY=zY,GY=Y_,YY=1,XY=2,QY="[object Boolean]",JY="[object Date]",ZY="[object Error]",eX="[object Map]",tX="[object Number]",nX="[object RegExp]",rX="[object Set]",iX="[object String]",aX="[object Symbol]",oX="[object ArrayBuffer]",sX="[object DataView]",XA=GA?GA.prototype:void 0,Zv=XA?XA.valueOf:void 0;function lX(t,e,n,r,i,a,o){switch(n){case sX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oX:return!(t.byteLength!=e.byteLength||!a(new YA(t),new YA(e)));case QY:case JY:case tX:return qY(+t,+e);case ZY:return t.name==e.name&&t.message==e.message;case nX:case iX:return t==e+"";case eX:var s=KY;case rX:var l=r&YY;if(s||(s=GY),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=XY,o.set(t,e);var u=HY(s(t),s(e),r,i,a,o);return o.delete(t),u;case aX:if(Zv)return Zv.call(t)==Zv.call(e)}return!1}var cX=lX;function uX(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ID=uX,fX=ID,dX=Rn;function hX(t,e,n){var r=e(t);return dX(t)?r:fX(r,n(t))}var pX=hX;function mX(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var gX=mX;function vX(){return[]}var yX=vX,xX=gX,bX=yX,wX=Object.prototype,_X=wX.propertyIsEnumerable,QA=Object.getOwnPropertySymbols,EX=QA?function(t){return t==null?[]:(t=Object(t),xX(QA(t),function(e){return _X.call(t,e)}))}:bX,TX=EX;function SX(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var AX=SX,PX=Ri,IX=Di,OX="[object Arguments]";function CX(t){return IX(t)&&PX(t)==OX}var kX=CX,JA=kX,NX=Di,OD=Object.prototype,jX=OD.hasOwnProperty,RX=OD.propertyIsEnumerable,DX=JA(function(){return arguments}())?JA:function(t){return NX(t)&&jX.call(t,"callee")&&!RX.call(t,"callee")},X_=DX,bp={exports:{}};function MX(){return!1}var $X=MX;bp.exports;(function(t,e){var n=Kr,r=$X,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(bp,bp.exports);var CD=bp.exports,LX=9007199254740991,FX=/^(?:0|[1-9]\d*)$/;function VX(t,e){var n=typeof t;return e=e??LX,!!e&&(n=="number"||n!="symbol"&&FX.test(t))&&t>-1&&t%1==0&&t<e}var Q_=VX,UX=9007199254740991;function BX(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=UX}var J_=BX,zX=Ri,WX=J_,qX=Di,HX="[object Arguments]",KX="[object Array]",GX="[object Boolean]",YX="[object Date]",XX="[object Error]",QX="[object Function]",JX="[object Map]",ZX="[object Number]",eQ="[object Object]",tQ="[object RegExp]",nQ="[object Set]",rQ="[object String]",iQ="[object WeakMap]",aQ="[object ArrayBuffer]",oQ="[object DataView]",sQ="[object Float32Array]",lQ="[object Float64Array]",cQ="[object Int8Array]",uQ="[object Int16Array]",fQ="[object Int32Array]",dQ="[object Uint8Array]",hQ="[object Uint8ClampedArray]",pQ="[object Uint16Array]",mQ="[object Uint32Array]",lt={};lt[sQ]=lt[lQ]=lt[cQ]=lt[uQ]=lt[fQ]=lt[dQ]=lt[hQ]=lt[pQ]=lt[mQ]=!0;lt[HX]=lt[KX]=lt[aQ]=lt[GX]=lt[oQ]=lt[YX]=lt[XX]=lt[QX]=lt[JX]=lt[ZX]=lt[eQ]=lt[tQ]=lt[nQ]=lt[rQ]=lt[iQ]=!1;function gQ(t){return qX(t)&&WX(t.length)&&!!lt[zX(t)]}var vQ=gQ;function yQ(t){return function(e){return t(e)}}var kD=yQ,wp={exports:{}};wp.exports;(function(t,e){var n=FR,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(wp,wp.exports);var xQ=wp.exports,bQ=vQ,wQ=kD,ZA=xQ,eP=ZA&&ZA.isTypedArray,_Q=eP?wQ(eP):bQ,ND=_Q,EQ=AX,TQ=X_,SQ=Rn,AQ=CD,PQ=Q_,IQ=ND,OQ=Object.prototype,CQ=OQ.hasOwnProperty;function kQ(t,e){var n=SQ(t),r=!n&&TQ(t),i=!n&&!r&&AQ(t),a=!n&&!r&&!i&&IQ(t),o=n||r||i||a,s=o?EQ(t.length,String):[],l=s.length;for(var c in t)(e||CQ.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||PQ(c,l)))&&s.push(c);return s}var NQ=kQ,jQ=Object.prototype;function RQ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jQ;return t===n}var DQ=RQ;function MQ(t,e){return function(n){return t(e(n))}}var jD=MQ,$Q=jD,LQ=$Q(Object.keys,Object),FQ=LQ,VQ=DQ,UQ=FQ,BQ=Object.prototype,zQ=BQ.hasOwnProperty;function WQ(t){if(!VQ(t))return UQ(t);var e=[];for(var n in Object(t))zQ.call(t,n)&&n!="constructor"&&e.push(n);return e}var qQ=WQ,HQ=j_,KQ=J_;function GQ(t){return t!=null&&KQ(t.length)&&!HQ(t)}var qf=GQ,YQ=NQ,XQ=qQ,QQ=qf;function JQ(t){return QQ(t)?YQ(t):XQ(t)}var gg=JQ,ZQ=pX,eJ=TX,tJ=gg;function nJ(t){return ZQ(t,tJ,eJ)}var rJ=nJ,tP=rJ,iJ=1,aJ=Object.prototype,oJ=aJ.hasOwnProperty;function sJ(t,e,n,r,i,a){var o=n&iJ,s=tP(t),l=s.length,c=tP(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:oJ.call(e,h)))return!1}var m=a.get(t),x=a.get(e);if(m&&x)return m==e&&x==t;var b=!0;a.set(t,e),a.set(e,t);for(var y=o;++f<l;){h=s[f];var v=t[h],g=e[h];if(r)var w=o?r(g,v,h,e,t,a):r(v,g,h,t,e,a);if(!(w===void 0?v===g||i(v,g,n,r,a):w)){b=!1;break}y||(y=h=="constructor")}if(b&&!y){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(b=!1)}return a.delete(t),a.delete(e),b}var lJ=sJ,cJ=Go,uJ=Kr,fJ=cJ(uJ,"DataView"),dJ=fJ,hJ=Go,pJ=Kr,mJ=hJ(pJ,"Promise"),gJ=mJ,vJ=Go,yJ=Kr,xJ=vJ(yJ,"Set"),RD=xJ,bJ=Go,wJ=Kr,_J=bJ(wJ,"WeakMap"),EJ=_J,mx=dJ,gx=D_,vx=gJ,yx=RD,xx=EJ,DD=Ri,Yl=UR,nP="[object Map]",TJ="[object Object]",rP="[object Promise]",iP="[object Set]",aP="[object WeakMap]",oP="[object DataView]",SJ=Yl(mx),AJ=Yl(gx),PJ=Yl(vx),IJ=Yl(yx),OJ=Yl(xx),io=DD;(mx&&io(new mx(new ArrayBuffer(1)))!=oP||gx&&io(new gx)!=nP||vx&&io(vx.resolve())!=rP||yx&&io(new yx)!=iP||xx&&io(new xx)!=aP)&&(io=function(t){var e=DD(t),n=e==TJ?t.constructor:void 0,r=n?Yl(n):"";if(r)switch(r){case SJ:return oP;case AJ:return nP;case PJ:return rP;case IJ:return iP;case OJ:return aP}return e});var CJ=io,ey=ED,kJ=PD,NJ=cX,jJ=lJ,sP=CJ,lP=Rn,cP=CD,RJ=ND,DJ=1,uP="[object Arguments]",fP="[object Array]",$d="[object Object]",MJ=Object.prototype,dP=MJ.hasOwnProperty;function $J(t,e,n,r,i,a){var o=lP(t),s=lP(e),l=o?fP:sP(t),c=s?fP:sP(e);l=l==uP?$d:l,c=c==uP?$d:c;var u=l==$d,f=c==$d,h=l==c;if(h&&cP(t)){if(!cP(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new ey),o||RJ(t)?kJ(t,e,n,r,i,a):NJ(t,e,l,n,r,i,a);if(!(n&DJ)){var m=u&&dP.call(t,"__wrapped__"),x=f&&dP.call(e,"__wrapped__");if(m||x){var b=m?t.value():t,y=x?e.value():e;return a||(a=new ey),i(b,y,n,r,a)}}return h?(a||(a=new ey),jJ(t,e,n,r,i,a)):!1}var LJ=$J,FJ=LJ,hP=Di;function MD(t,e,n,r,i){return t===e?!0:t==null||e==null||!hP(t)&&!hP(e)?t!==t&&e!==e:FJ(t,e,n,r,MD,i)}var Z_=MD,VJ=ED,UJ=Z_,BJ=1,zJ=2;function WJ(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new VJ;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?UJ(u,c,BJ|zJ,r,f):h))return!1}}return!0}var qJ=WJ,HJ=Va;function KJ(t){return t===t&&!HJ(t)}var $D=KJ,GJ=$D,YJ=gg;function XJ(t){for(var e=YJ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,GJ(i)]}return e}var QJ=XJ;function JJ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var LD=JJ,ZJ=qJ,eZ=QJ,tZ=LD;function nZ(t){var e=eZ(t);return e.length==1&&e[0][2]?tZ(e[0][0],e[0][1]):function(n){return n===t||ZJ(n,t,e)}}var rZ=nZ;function iZ(t,e){return t!=null&&e in Object(t)}var aZ=iZ,oZ=HR,sZ=X_,lZ=Rn,cZ=Q_,uZ=J_,fZ=tg;function dZ(t,e,n){e=oZ(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=fZ(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&uZ(i)&&cZ(o,i)&&(lZ(t)||sZ(t)))}var hZ=dZ,pZ=aZ,mZ=hZ;function gZ(t,e){return t!=null&&mZ(t,e,pZ)}var vZ=gZ,yZ=Z_,xZ=KR,bZ=vZ,wZ=N_,_Z=$D,EZ=LD,TZ=tg,SZ=1,AZ=2;function PZ(t,e){return wZ(t)&&_Z(e)?EZ(TZ(t),e):function(n){var r=xZ(n,t);return r===void 0&&r===e?bZ(n,t):yZ(e,r,SZ|AZ)}}var IZ=PZ;function OZ(t){return t}var Xl=OZ;function CZ(t){return function(e){return e==null?void 0:e[t]}}var kZ=CZ,NZ=F_;function jZ(t){return function(e){return NZ(e,t)}}var RZ=jZ,DZ=kZ,MZ=RZ,$Z=N_,LZ=tg;function FZ(t){return $Z(t)?DZ(LZ(t)):MZ(t)}var VZ=FZ,UZ=rZ,BZ=IZ,zZ=Xl,WZ=Rn,qZ=VZ;function HZ(t){return typeof t=="function"?t:t==null?zZ:typeof t=="object"?WZ(t)?BZ(t[0],t[1]):UZ(t):qZ(t)}var Gr=HZ;function KZ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var FD=KZ;function GZ(t){return t!==t}var YZ=GZ;function XZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var QZ=XZ,JZ=FD,ZZ=YZ,eee=QZ;function tee(t,e,n){return e===e?eee(t,e,n):JZ(t,ZZ,n)}var nee=tee,ree=nee;function iee(t,e){var n=t==null?0:t.length;return!!n&&ree(t,e,0)>-1}var aee=iee;function oee(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var see=oee;function lee(){}var cee=lee,ty=RD,uee=cee,fee=Y_,dee=1/0,hee=ty&&1/fee(new ty([,-0]))[1]==dee?function(t){return new ty(t)}:uee,pee=hee,mee=TD,gee=aee,vee=see,yee=AD,xee=pee,bee=Y_,wee=200;function _ee(t,e,n){var r=-1,i=gee,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=vee;else if(a>=wee){var c=e?null:xee(t);if(c)return bee(c);o=!1,i=yee,l=new mee}else l=e?[]:s;e:for(;++r<a;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,n)||(l!==s&&l.push(f),s.push(u))}return s}var Eee=_ee,Tee=Gr,See=Eee;function Aee(t,e){return t&&t.length?See(t,Tee(e)):[]}var Pee=Aee;const pP=Ge(Pee);function VD(t,e,n){return e===!0?pP(t,n):Te(e)?pP(t,e):t}function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}var Iee=["ref"];function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){vg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BD(r.key),r)}}function Cee(t,e,n){return e&&gP(t.prototype,e),n&&gP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kee(t,e,n){return e=_p(e),Nee(t,UD()?Reflect.construct(e,n||[],_p(t).constructor):e.apply(t,n))}function Nee(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jee(t)}function jee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_p(t)}function Ree(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bx(t,e)}function vg(t,e,n){return e=BD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BD(t){var e=Dee(t,"string");return ll(e)=="symbol"?e:e+""}function Dee(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mee(t,e){if(t==null)return{};var n=$ee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lee(t){return t.value}function Fee(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var n=Mee(e,Iee);return L.createElement(G_,n)}var vP=1,ba=function(t){function e(){var n;Oee(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=kee(this,e,[].concat(i)),vg(n,"lastBoundingBox",{width:-1,height:-1}),n}return Ree(e,t),Cee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>vP||Math.abs(i.height-this.lastBoundingBox.height)>vP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((c||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var x=this.getBBoxSnapshot();h={top:((u||0)-x.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Zr(Zr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Zr(Zr({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Fee(a,Zr(Zr({},this.props),{},{payload:VD(u,c,Lee)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Zr(Zr({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&te(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);vg(ba,"displayName","Legend");vg(ba,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var yP=Bf,Vee=X_,Uee=Rn,xP=yP?yP.isConcatSpreadable:void 0;function Bee(t){return Uee(t)||Vee(t)||!!(xP&&t&&t[xP])}var zee=Bee,Wee=ID,qee=zee;function zD(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=qee),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?zD(s,e-1,n,r,i):Wee(i,s):r||(i[i.length]=s)}return i}var WD=zD;function Hee(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Kee=Hee,Gee=Kee,Yee=Gee(),Xee=Yee,Qee=Xee,Jee=gg;function Zee(t,e){return t&&Qee(t,e,Jee)}var qD=Zee,ete=qf;function tte(t,e){return function(n,r){if(n==null)return n;if(!ete(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var nte=tte,rte=qD,ite=nte,ate=ite(rte),e1=ate,ote=e1,ste=qf;function lte(t,e){var n=-1,r=ste(t)?Array(t.length):[];return ote(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var HD=lte;function cte(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ute=cte,bP=zl;function fte(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=bP(t),o=e!==void 0,s=e===null,l=e===e,c=bP(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var dte=fte,hte=dte;function pte(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=hte(i[r],a[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var mte=pte,ny=L_,gte=F_,vte=Gr,yte=HD,xte=ute,bte=kD,wte=mte,_te=Xl,Ete=Rn;function Tte(t,e,n){e.length?e=ny(e,function(a){return Ete(a)?function(o){return gte(o,a.length===1?a[0]:a)}:a}):e=[_te];var r=-1;e=ny(e,bte(vte));var i=yte(t,function(a,o,s){var l=ny(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return xte(i,function(a,o){return wte(a,o,n)})}var Ste=Tte;function Ate(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Pte=Ate,Ite=Pte,wP=Math.max;function Ote(t,e,n){return e=wP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=wP(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Ite(t,this,s)}}var Cte=Ote;function kte(t){return function(){return t}}var Nte=kte,jte=Go,Rte=function(){try{var t=jte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),KD=Rte,Dte=Nte,_P=KD,Mte=Xl,$te=_P?function(t,e){return _P(t,"toString",{configurable:!0,enumerable:!1,value:Dte(e),writable:!0})}:Mte,Lte=$te,Fte=800,Vte=16,Ute=Date.now;function Bte(t){var e=0,n=0;return function(){var r=Ute(),i=Vte-(r-n);if(n=r,i>0){if(++e>=Fte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zte=Bte,Wte=Lte,qte=zte,Hte=qte(Wte),Kte=Hte,Gte=Xl,Yte=Cte,Xte=Kte;function Qte(t,e){return Xte(Yte(t,e,Gte),t+"")}var Jte=Qte,Zte=R_,ene=qf,tne=Q_,nne=Va;function rne(t,e,n){if(!nne(n))return!1;var r=typeof e;return(r=="number"?ene(n)&&tne(e,n.length):r=="string"&&e in n)?Zte(n[e],t):!1}var yg=rne,ine=WD,ane=Ste,one=Jte,EP=yg,sne=one(function(t,e){if(t==null)return[];var n=e.length;return n>1&&EP(t,e[0],e[1])?e=[]:n>2&&EP(e[0],e[1],e[2])&&(e=[e[0]]),ane(t,ine(e,1),[])}),lne=sne;const t1=Ge(lne);function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(this,arguments)}function cne(t,e){return hne(t)||dne(t,e)||fne(t,e)||une()}function une(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t,e){if(t){if(typeof t=="string")return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hne(t){if(Array.isArray(t))return t}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pne(t,e,n){return e=mne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mne(t){var e=gne(t,"string");return zu(e)=="symbol"?e:e+""}function gne(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vne(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var yne=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,x=e.labelClassName,b=e.label,y=e.labelFormatter,v=e.accessibilityLayer,g=v===void 0?!1:v,w=function(){if(u&&u.length){var j={padding:0,margin:0},k=(h?t1(u,h):u).map(function(B,$){if(B.type==="none")return null;var z=ry({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},s),V=B.formatter||f||vne,M=B.value,F=B.name,U=M,q=F;if(V&&U!=null&&q!=null){var W=V(M,F,B,$,u);if(Array.isArray(W)){var X=cne(W,2);U=X[0],q=X[1]}else U=W}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:z},Dt(q)?L.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Dt(q)?L.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,L.createElement("span",{className:"recharts-tooltip-item-value"},U),L.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},C=ry({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=ry({margin:0},c),A=!je(b),E=A?b:"",T=ke("recharts-default-tooltip",m),P=ke("recharts-tooltip-label",x);A&&y&&u!==void 0&&u!==null&&(E=y(b,u));var I=g?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",wx({className:T,style:C},I),L.createElement("p",{className:P,style:S},L.isValidElement(E)?E:"".concat(E)),w())};function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function Ld(t,e,n){return e=xne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xne(t){var e=bne(t,"string");return Wu(e)=="symbol"?e:e+""}function bne(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sc="recharts-tooltip-wrapper",wne={visibility:"hidden"};function _ne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ke(Sc,Ld(Ld(Ld(Ld({},"".concat(Sc,"-right"),te(n)&&e&&te(e.x)&&n>=e.x),"".concat(Sc,"-left"),te(n)&&e&&te(e.x)&&n<e.x),"".concat(Sc,"-bottom"),te(r)&&e&&te(e.y)&&r>=e.y),"".concat(Sc,"-top"),te(r)&&e&&te(e.y)&&r<e.y))}function AP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&te(a[r]))return a[r];var u=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?u:f;if(o[r]){var h=u,m=l[r];return h<m?Math.max(f,l[r]):Math.max(u,l[r])}var x=f+s,b=l[r]+c;return x>b?Math.max(u,l[r]):Math.max(f,l[r])}function Ene(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Tne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return o.height>0&&o.width>0&&n?(u=AP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=AP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Ene({translateX:u,translateY:f,useTranslate3d:s})):c=wne,{cssProperties:c,cssClasses:_ne({translateX:u,translateY:f,coordinate:n})}}function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ane(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YD(r.key),r)}}function Pne(t,e,n){return e&&Ane(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ine(t,e,n){return e=Ep(e),One(t,GD()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function One(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cne(t)}function Cne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GD=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function kne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_x(t,e)}function _x(t,e){return _x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_x(t,e)}function Ex(t,e,n){return e=YD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YD(t){var e=Nne(t,"string");return cl(e)=="symbol"?e:e+""}function Nne(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OP=1,jne=function(t){function e(){var n;Sne(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ine(this,e,[].concat(i)),Ex(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ex(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return kne(e,t),Pne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>OP||Math.abs(r.height-this.state.lastBoundingBox.height)>OP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,x=i.position,b=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,g=i.wrapperStyle,w=Tne({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:x,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),C=w.cssClasses,S=w.cssProperties,A=IP(IP({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return L.createElement("div",{tabIndex:-1,className:C,style:A,ref:function(T){r.wrapperNode=T}},c)}}])}(D.PureComponent),Rne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pi={isSsr:Rne(),get:function(e){return pi[e]},set:function(e,n){if(typeof e=="string")pi[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){pi[i]=e[i]})}}};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){n1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QD(r.key),r)}}function $ne(t,e,n){return e&&Mne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lne(t,e,n){return e=Tp(e),Fne(t,XD()?Reflect.construct(e,n||[],Tp(t).constructor):e.apply(t,n))}function Fne(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vne(t)}function Vne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XD=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(t)}function Une(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tx(t,e)}function Tx(t,e){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tx(t,e)}function n1(t,e,n){return e=QD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QD(t){var e=Bne(t,"string");return ul(e)=="symbol"?e:e+""}function Bne(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zne(t){return t.dataKey}function Wne(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(yne,e)}var vr=function(t){function e(){return Dne(this,e),Lne(this,e,arguments)}return Une(e,t),$ne(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,x=i.payload,b=i.payloadUniqBy,y=i.position,v=i.reverseDirection,g=i.useTranslate3d,w=i.viewBox,C=i.wrapperStyle,S=x??[];f&&S.length&&(S=VD(x.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),b,zne));var A=S.length>0;return L.createElement(jne,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:A,offset:m,position:y,reverseDirection:v,useTranslate3d:g,viewBox:w,wrapperStyle:C},Wne(c,kP(kP({},this.props),{},{payload:S})))}}])}(D.PureComponent);n1(vr,"displayName","Tooltip");n1(vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qne=Kr,Hne=function(){return qne.Date.now()},Kne=Hne,Gne=/\s/;function Yne(t){for(var e=t.length;e--&&Gne.test(t.charAt(e)););return e}var Xne=Yne,Qne=Xne,Jne=/^\s+/;function Zne(t){return t&&t.slice(0,Qne(t)+1).replace(Jne,"")}var ere=Zne,tre=ere,NP=Va,nre=zl,jP=NaN,rre=/^[-+]0x[0-9a-f]+$/i,ire=/^0b[01]+$/i,are=/^0o[0-7]+$/i,ore=parseInt;function sre(t){if(typeof t=="number")return t;if(nre(t))return jP;if(NP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=NP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=tre(t);var n=ire.test(t);return n||are.test(t)?ore(t.slice(2),n?2:8):rre.test(t)?jP:+t}var JD=sre,lre=Va,iy=Kne,RP=JD,cre="Expected a function",ure=Math.max,fre=Math.min;function dre(t,e,n){var r,i,a,o,s,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(cre);e=RP(e)||0,lre(n)&&(u=!!n.leading,f="maxWait"in n,a=f?ure(RP(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function m(A){var E=r,T=i;return r=i=void 0,c=A,o=t.apply(T,E),o}function x(A){return c=A,s=setTimeout(v,e),u?m(A):o}function b(A){var E=A-l,T=A-c,P=e-E;return f?fre(P,a-T):P}function y(A){var E=A-l,T=A-c;return l===void 0||E>=e||E<0||f&&T>=a}function v(){var A=iy();if(y(A))return g(A);s=setTimeout(v,b(A))}function g(A){return s=void 0,h&&r?m(A):(r=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function C(){return s===void 0?o:g(iy())}function S(){var A=iy(),E=y(A);if(r=arguments,i=this,l=A,E){if(s===void 0)return x(l);if(f)return clearTimeout(s),s=setTimeout(v,e),m(l)}return s===void 0&&(s=setTimeout(v,e)),o}return S.cancel=w,S.flush=C,S}var hre=dre,pre=hre,mre=Va,gre="Expected a function";function vre(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(gre);return mre(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pre(t,e,{leading:r,maxWait:e,trailing:i})}var yre=vre;const ZD=Ge(yre);function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return e=bre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bre(t){var e=wre(t,"string");return qu(e)=="symbol"?e:e+""}function wre(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _re(t,e){return Are(t)||Sre(t,e)||Tre(t,e)||Ere()}function Ere(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(t,e){if(t){if(typeof t=="string")return MP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(t,e)}}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Are(t){if(Array.isArray(t))return t}var eM=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,m=t.children,x=t.debounce,b=x===void 0?0:x,y=t.id,v=t.className,g=t.onResize,w=t.style,C=w===void 0?{}:w,S=D.useRef(null),A=D.useRef();A.current=g,D.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=D.useState({containerWidth:i.width,containerHeight:i.height}),T=_re(E,2),P=T[0],I=T[1],N=D.useCallback(function(k,B){I(function($){var z=Math.round(k),V=Math.round(B);return $.containerWidth===z&&$.containerHeight===V?$:{containerWidth:z,containerHeight:V}})},[]);D.useEffect(function(){var k=function(F){var U,q=F[0].contentRect,W=q.width,X=q.height;N(W,X),(U=A.current)===null||U===void 0||U.call(A,W,X)};b>0&&(k=ZD(k,b,{trailing:!0,leading:!1}));var B=new ResizeObserver(k),$=S.current.getBoundingClientRect(),z=$.width,V=$.height;return N(z,V),B.observe(S.current),function(){B.disconnect()}},[N,b]);var j=D.useMemo(function(){var k=P.containerWidth,B=P.containerHeight;if(k<0||B<0)return null;Tr(po(o)||po(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Tr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=po(o)?k:o,z=po(l)?B:l;n&&n>0&&($?z=$/n:z&&($=z*n),h&&z>h&&(z=h)),Tr($>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,z,o,l,u,f,n);var V=!Array.isArray(m)&&hi(m.type).endsWith("Chart");return L.Children.map(m,function(M){return L.isValidElement(M)?D.cloneElement(M,Fd({width:$,height:z},V?{style:Fd({height:"100%",width:"100%",maxHeight:z,maxWidth:$},M.props.style)}:{})):M})},[n,m,l,h,f,u,P,o]);return L.createElement("div",{id:y?"".concat(y):void 0,className:ke("recharts-responsive-container",v),style:Fd(Fd({},C),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:S},j)}),xg=function(e){return null};xg.displayName="Cell";function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Ore(t,"string");return Hu(e)=="symbol"?e:e+""}function Ore(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var is={widthCache:{},cacheCount:0},Cre=2e3,kre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LP="recharts_measurement_span";function Nre(t){var e=Sx({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var lu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pi.isSsr)return{width:0,height:0};var r=Nre(n),i=JSON.stringify({text:e,copyStyle:r});if(is.widthCache[i])return is.widthCache[i];try{var a=document.getElementById(LP);a||(a=document.createElement("span"),a.setAttribute("id",LP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Sx(Sx({},kre),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return is.widthCache[i]=l,++is.cacheCount>Cre&&(is.cacheCount=0,is.widthCache={}),l}catch{return{width:0,height:0}}},jre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Sp(t,e){return $re(t)||Mre(t,e)||Dre(t,e)||Rre()}function Rre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dre(t,e){if(t){if(typeof t=="string")return FP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FP(t,e)}}function FP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function $re(t){if(Array.isArray(t))return t}function Lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vre(r.key),r)}}function Fre(t,e,n){return e&&VP(t.prototype,e),n&&VP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vre(t){var e=Ure(t,"string");return Ku(e)=="symbol"?e:e+""}function Ure(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wre=Object.keys(tM),Ts="NaN";function qre(t,e){return t*tM[e]}var Vd=function(){function t(e,n){Lre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Bre.test(n)&&(this.num=NaN,this.unit=""),Wre.includes(n)&&(this.num=qre(e,n),this.unit="px")}return Fre(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=zre.exec(n))!==null&&r!==void 0?r:[],a=Sp(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function nM(t){if(t.includes(Ts))return Ts;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=UP.exec(e))!==null&&n!==void 0?n:[],i=Sp(r,4),a=i[1],o=i[2],s=i[3],l=Vd.parse(a??""),c=Vd.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Ts;e=e.replace(UP,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=BP.exec(e))!==null&&f!==void 0?f:[],m=Sp(h,4),x=m[1],b=m[2],y=m[3],v=Vd.parse(x??""),g=Vd.parse(y??""),w=b==="+"?v.add(g):v.subtract(g);if(w.isNaN())return Ts;e=e.replace(BP,w.toString())}return e}var zP=/\(([^()]*)\)/;function Hre(t){for(var e=t;e.includes("(");){var n=zP.exec(e),r=Sp(n,2),i=r[1];e=e.replace(zP,nM(i))}return e}function Kre(t){var e=t.replace(/\s+/g,"");return e=Hre(e),e=nM(e),e}function Gre(t){try{return Kre(t)}catch{return Ts}}function ay(t){var e=Gre(t.slice(5,-1));return e===Ts?"":e}var Yre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xre=["dx","dy","angle","className","breakAll"];function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(this,arguments)}function WP(t,e){if(t==null)return{};var n=Qre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qP(t,e){return tie(t)||eie(t,e)||Zre(t,e)||Jre()}function Jre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zre(t,e){if(t){if(typeof t=="string")return HP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(t,e)}}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function tie(t){if(Array.isArray(t))return t}var rM=/[ \f\n\r\t\v\u2028\u2029]+/,iM=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];je(n)||(r?a=n.toString().split(""):a=n.toString().split(rM));var o=a.map(function(l){return{word:l,width:lu(l,i).width}}),s=r?0:lu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},nie=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=te(o),f=s,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(z,V){var M=V.word,F=V.width,U=z[z.length-1];if(U&&(i==null||a||U.width+F+r<Number(i)))U.words.push(M),U.width+=F+r;else{var q={words:[M],width:F};z.push(q)}return z},[])},m=h(n),x=function($){return $.reduce(function(z,V){return z.width>V.width?z:V})};if(!u)return m;for(var b="",y=function($){var z=f.slice(0,$),V=iM({breakAll:c,style:l,children:z+b}).wordsWithComputedWidth,M=h(V),F=M.length>o||x(M).width>Number(i);return[F,M]},v=0,g=f.length-1,w=0,C;v<=g&&w<=f.length-1;){var S=Math.floor((v+g)/2),A=S-1,E=y(A),T=qP(E,2),P=T[0],I=T[1],N=y(S),j=qP(N,1),k=j[0];if(!P&&!k&&(v=S+1),P&&k&&(g=S-1),!P&&k){C=I;break}w++}return C||m},KP=function(e){var n=je(e)?[]:e.toString().split(rM);return[{words:n}]},rie=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!pi.isSsr){var l,c,u=iM({breakAll:o,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return KP(i);return nie({breakAll:o,children:i,maxLines:s,style:a},l,c,n,r)}return KP(i)},GP="#808080",Mo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,m=h===void 0?"start":h,x=e.verticalAnchor,b=x===void 0?"end":x,y=e.fill,v=y===void 0?GP:y,g=WP(e,Yre),w=D.useMemo(function(){return rie({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),C=g.dx,S=g.dy,A=g.angle,E=g.className,T=g.breakAll,P=WP(g,Xre);if(!Dt(r)||!Dt(a))return null;var I=r+(te(C)?C:0),N=a+(te(S)?S:0),j;switch(b){case"start":j=ay("calc(".concat(c,")"));break;case"middle":j=ay("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:j=ay("calc(".concat(w.length-1," * -").concat(s,")"));break}var k=[];if(f){var B=w[0].width,$=g.width;k.push("scale(".concat((te($)?$/B:1)/B,")"))}return A&&k.push("rotate(".concat(A,", ").concat(I,", ").concat(N,")")),k.length&&(P.transform=k.join(" ")),L.createElement("text",Ax({},_e(P,!0),{x:I,y:N,className:ke("recharts-text",E),textAnchor:m,fill:v.includes("url")?GP:v}),w.map(function(z,V){var M=z.words.join(T?"":" ");return L.createElement("tspan",{x:I,dy:V===0?j:s,key:"".concat(M,"-").concat(V)},M)}))};function wa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function r1(t){let e,n,r;t.length!==2?(e=wa,n=(s,l)=>wa(t(s),l),r=(s,l)=>t(s)-l):(e=t===wa||t===iie?t:aie,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function aie(){return 0}function aM(t){return t===null?NaN:+t}function*oie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const sie=r1(wa),Hf=sie.right;r1(aM).center;class YP extends Map{constructor(e,n=uie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(XP(this,e))}has(e){return super.has(XP(this,e))}set(e,n){return super.set(lie(this,e),n)}delete(e){return super.delete(cie(this,e))}}function XP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function lie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function uie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fie(t=wa){if(t===wa)return oM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function oM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const die=Math.sqrt(50),hie=Math.sqrt(10),pie=Math.sqrt(2);function Ap(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=die?10:a>=hie?5:a>=pie?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Ap(t,e,n*2):[s,l,c]}function Px(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Ap(e,t,n):Ap(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Ix(t,e,n){return e=+e,t=+t,n=+n,Ap(t,e,n)[2]}function Ox(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ix(e,t,n):Ix(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function QP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function sM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?oM:fie(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*f/l+h)),x=Math.min(r,Math.floor(e+(l-c)*f/l+h));sM(t,e,m,x,i)}const a=t[e];let o=n,s=r;for(Ac(t,n,e),i(t[r],a)>0&&Ac(t,n,r);o<s;){for(Ac(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Ac(t,n,s):(++s,Ac(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Ac(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function mie(t,e,n){if(t=Float64Array.from(oie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JP(t);if(e>=1)return QP(t);var r,i=(r-1)*e,a=Math.floor(i),o=QP(sM(t,a).subarray(0,a+1)),s=JP(t.subarray(a+1));return o+(s-o)*(i-a)}}function gie(t,e,n=aM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function vie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function fr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Mi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Cx=Symbol("implicit");function i1(){var t=new YP,e=[],n=[],r=Cx;function i(a){let o=t.get(a);if(o===void 0){if(r!==Cx)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new YP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return i1(e,n).unknown(r)},fr.apply(i,arguments),i}function Gu(){var t=i1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,m=i<r,x=m?i:r,b=m?r:i;a=(b-x)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),x+=(b-x-a*(h-l))*u,o=a*(1-l),s&&(x=Math.round(x),o=Math.round(o));var y=vie(h).map(function(v){return x+a*v});return n(m?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Gu(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},fr.apply(f(),arguments)}function lM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lM(e())},t}function cu(){return lM(Gu.apply(null,arguments).paddingInner(1))}function a1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Kf(){}var Yu=.7,Pp=1/Yu,Vs="\\s*([+-]?\\d+)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yie=/^#([0-9a-f]{3,8})$/,xie=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),bie=new RegExp(`^rgb\\(${zr},${zr},${zr}\\)$`),wie=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${Xu}\\)$`),_ie=new RegExp(`^rgba\\(${zr},${zr},${zr},${Xu}\\)$`),Eie=new RegExp(`^hsl\\(${Xu},${zr},${zr}\\)$`),Tie=new RegExp(`^hsla\\(${Xu},${zr},${zr},${Xu}\\)$`),ZP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a1(Kf,Qu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eI,formatHex:eI,formatHex8:Sie,formatHsl:Aie,formatRgb:tI,toString:tI});function eI(){return this.rgb().formatHex()}function Sie(){return this.rgb().formatHex8()}function Aie(){return uM(this).formatHsl()}function tI(){return this.rgb().formatRgb()}function Qu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nI(e):n===3?new Cn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ud(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ud(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xie.exec(t))?new Cn(e[1],e[2],e[3],1):(e=bie.exec(t))?new Cn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wie.exec(t))?Ud(e[1],e[2],e[3],e[4]):(e=_ie.exec(t))?Ud(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Eie.exec(t))?aI(e[1],e[2]/100,e[3]/100,1):(e=Tie.exec(t))?aI(e[1],e[2]/100,e[3]/100,e[4]):ZP.hasOwnProperty(t)?nI(ZP[t]):t==="transparent"?new Cn(NaN,NaN,NaN,0):null}function nI(t){return new Cn(t>>16&255,t>>8&255,t&255,1)}function Ud(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cn(t,e,n,r)}function Pie(t){return t instanceof Kf||(t=Qu(t)),t?(t=t.rgb(),new Cn(t.r,t.g,t.b,t.opacity)):new Cn}function kx(t,e,n,r){return arguments.length===1?Pie(t):new Cn(t,e,n,r??1)}function Cn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}a1(Cn,kx,cM(Kf,{brighter(t){return t=t==null?Pp:Math.pow(Pp,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yu:Math.pow(Yu,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cn(wo(this.r),wo(this.g),wo(this.b),Ip(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rI,formatHex:rI,formatHex8:Iie,formatRgb:iI,toString:iI}));function rI(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}`}function Iie(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}${mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function iI(){const t=Ip(this.opacity);return`${t===1?"rgb(":"rgba("}${wo(this.r)}, ${wo(this.g)}, ${wo(this.b)}${t===1?")":`, ${t})`}`}function Ip(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mo(t){return t=wo(t),(t<16?"0":"")+t.toString(16)}function aI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new br(t,e,n,r)}function uM(t){if(t instanceof br)return new br(t.h,t.s,t.l,t.opacity);if(t instanceof Kf||(t=Qu(t)),!t)return new br;if(t instanceof br)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new br(o,s,l,t.opacity)}function Oie(t,e,n,r){return arguments.length===1?uM(t):new br(t,e,n,r??1)}function br(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}a1(br,Oie,cM(Kf,{brighter(t){return t=t==null?Pp:Math.pow(Pp,t),new br(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yu:Math.pow(Yu,t),new br(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cn(oy(t>=240?t-240:t+120,i,r),oy(t,i,r),oy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new br(oI(this.h),Bd(this.s),Bd(this.l),Ip(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ip(this.opacity);return`${t===1?"hsl(":"hsla("}${oI(this.h)}, ${Bd(this.s)*100}%, ${Bd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oI(t){return t=(t||0)%360,t<0?t+360:t}function Bd(t){return Math.max(0,Math.min(1,t||0))}function oy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const o1=t=>()=>t;function Cie(t,e){return function(n){return t+n*e}}function kie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Nie(t){return(t=+t)==1?fM:function(e,n){return n-e?kie(e,n,t):o1(isNaN(e)?n:e)}}function fM(t,e){var n=e-t;return n?Cie(t,n):o1(isNaN(t)?e:t)}const sI=function t(e){var n=Nie(e);function r(i,a){var o=n((i=kx(i)).r,(a=kx(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=fM(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function jie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Rie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Die(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ql(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Mie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Op(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $ie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ql(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Nx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sy=new RegExp(Nx.source,"g");function Lie(t){return function(){return t}}function Fie(t){return function(e){return t(e)+""}}function Vie(t,e){var n=Nx.lastIndex=sy.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Nx.exec(t))&&(i=sy.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Op(r,i)})),n=sy.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Fie(l[0].x):Lie(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Ql(t,e){var n=typeof e,r;return e==null||n==="boolean"?o1(e):(n==="number"?Op:n==="string"?(r=Qu(e))?(e=r,sI):Vie:e instanceof Qu?sI:e instanceof Date?Mie:Rie(e)?jie:Array.isArray(e)?Die:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$ie:Op)(t,e)}function s1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Uie(t,e){e===void 0&&(e=t,t=Ql);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Bie(t){return function(){return t}}function Cp(t){return+t}var lI=[0,1];function wn(t){return t}function jx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Bie(isNaN(e)?NaN:.5)}function zie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Wie(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=jx(i,r),a=n(o,a)):(r=jx(r,i),a=n(a,o)),function(s){return a(r(s))}}function qie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=jx(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Hf(t,s,1,r)-1;return a[l](i[l](s))}}function Gf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bg(){var t=lI,e=lI,n=Ql,r,i,a,o=wn,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==wn&&(o=zie(t[0],t[h-1])),s=h>2?qie:Wie,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(r),Op)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Cp),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=s1,u()},f.clamp=function(h){return arguments.length?(o=h?!0:wn,u()):o!==wn},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,u()}}function l1(){return bg()(wn,wn)}function Hie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fl(t){return t=kp(Math.abs(t)),t?t[1]:NaN}function Kie(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Gie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Yie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ju(t){if(!(e=Yie.exec(t)))throw new Error("invalid format: "+t);var e;return new c1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ju.prototype=c1.prototype;function c1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}c1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var dM;function Qie(t,e){var n=kp(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(dM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+kp(t,Math.max(0,e+a-1))[0]}function cI(t,e){var n=kp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cI(t*100,e),r:cI,s:Qie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fI(t){return t}var dI=Array.prototype.map,hI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jie(t){var e=t.grouping===void 0||t.thousands===void 0?fI:Kie(dI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?fI:Gie(dI.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Ju(f);var h=f.fill,m=f.align,x=f.sign,b=f.symbol,y=f.zero,v=f.width,g=f.comma,w=f.precision,C=f.trim,S=f.type;S==="n"?(g=!0,S="g"):uI[S]||(w===void 0&&(w=12),C=!0,S="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var A=b==="$"?n:b==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=b==="$"?r:/[%p]/.test(S)?o:"",T=uI[S],P=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(N){var j=A,k=E,B,$,z;if(S==="c")k=T(N)+k,N="";else{N=+N;var V=N<0||1/N<0;if(N=isNaN(N)?l:T(Math.abs(N),w),C&&(N=Xie(N)),V&&+N==0&&x!=="+"&&(V=!1),j=(V?x==="("?x:s:x==="-"||x==="("?"":x)+j,k=(S==="s"?hI[8+dM/3]:"")+k+(V&&x==="("?")":""),P){for(B=-1,$=N.length;++B<$;)if(z=N.charCodeAt(B),48>z||z>57){k=(z===46?i+N.slice(B+1):N.slice(B))+k,N=N.slice(0,B);break}}}g&&!y&&(N=e(N,1/0));var M=j.length+N.length+k.length,F=M<v?new Array(v-M+1).join(h):"";switch(g&&y&&(N=e(F+N,F.length?v-k.length:1/0),F=""),m){case"<":N=j+N+k+F;break;case"=":N=j+F+N+k;break;case"^":N=F.slice(0,M=F.length>>1)+j+N+k+F.slice(M);break;default:N=F+j+N+k;break}return a(N)}return I.toString=function(){return f+""},I}function u(f,h){var m=c((f=Ju(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(fl(h)/3)))*3,b=Math.pow(10,-x),y=hI[8+x/3];return function(v){return m(b*v)+y}}return{format:c,formatPrefix:u}}var zd,u1,hM;Zie({thousands:",",grouping:[3],currency:["$",""]});function Zie(t){return zd=Jie(t),u1=zd.format,hM=zd.formatPrefix,zd}function eae(t){return Math.max(0,-fl(Math.abs(t)))}function tae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fl(e)/3)))*3-fl(Math.abs(t)))}function nae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fl(e)-fl(t))+1}function pM(t,e,n,r){var i=Ox(t,e,n),a;switch(r=Ju(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=tae(i,o))&&(r.precision=a),hM(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=nae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=eae(i))&&(r.precision=a-(r.type==="%")*2);break}}return u1(r)}function Ua(t){var e=t.domain;return t.ticks=function(n){var r=e();return Px(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=Ix(o,s,n),c===l)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Np(){var t=l1();return t.copy=function(){return Gf(t,Np())},fr.apply(t,arguments),Ua(t)}function mM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Cp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return mM(t).unknown(e)},t=arguments.length?Array.from(t,Cp):[0,1],Ua(n)}function gM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function pI(t){return Math.log(t)}function mI(t){return Math.exp(t)}function rae(t){return-Math.log(-t)}function iae(t){return-Math.exp(-t)}function aae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oae(t){return t===10?aae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function sae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gI(t){return(e,n)=>-t(-e,n)}function f1(t){const e=t(pI,mI),n=e.domain;let r=10,i,a;function o(){return i=sae(r),a=oae(r),n()[0]<0?(i=gI(i),a=gI(a),t(rae,iae)):t(pI,mI),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),m=i(u),x,b;const y=s==null?10:+s;let v=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(x=1;x<r;++x)if(b=h<0?x/a(-h):x*a(h),!(b<c)){if(b>u)break;v.push(b)}}else for(;h<=m;++h)for(x=r-1;x>=1;--x)if(b=h>0?x/a(-h):x*a(h),!(b<c)){if(b>u)break;v.push(b)}v.length*2<y&&(v=Px(c,u,y))}else v=Px(h,m,Math.min(m-h,y)).map(a);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ju(l)).precision==null&&(l.trim=!0),l=u1(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(gM(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function vM(){const t=f1(bg()).domain([1,10]);return t.copy=()=>Gf(t,vM()).base(t.base()),fr.apply(t,arguments),t}function vI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function d1(t){var e=1,n=t(vI(e),yI(e));return n.constant=function(r){return arguments.length?t(vI(e=+r),yI(e)):e},Ua(n)}function yM(){var t=d1(bg());return t.copy=function(){return Gf(t,yM()).constant(t.constant())},fr.apply(t,arguments)}function xI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function lae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cae(t){return t<0?-t*t:t*t}function h1(t){var e=t(wn,wn),n=1;function r(){return n===1?t(wn,wn):n===.5?t(lae,cae):t(xI(n),xI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ua(e)}function p1(){var t=h1(bg());return t.copy=function(){return Gf(t,p1()).exponent(t.exponent())},fr.apply(t,arguments),t}function uae(){return p1.apply(null,arguments).exponent(.5)}function bI(t){return Math.sign(t)*t*t}function fae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function xM(){var t=l1(),e=[0,1],n=!1,r;function i(a){var o=fae(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(bI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Cp)).map(bI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return xM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},fr.apply(i,arguments),Ua(i)}function bM(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=gie(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Hf(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(wa),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return bM().domain(t).range(e).unknown(r)},fr.apply(a,arguments)}function wM(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Hf(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return wM().domain([t,e]).range(i).unknown(a)},fr.apply(Ua(o),arguments)}function _M(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Hf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _M().domain(t).range(e).unknown(n)},fr.apply(i,arguments)}const ly=new Date,cy=new Date;function Lt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>Lt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(ly.setTime(+a),cy.setTime(+o),t(ly),t(cy),Math.floor(n(ly,cy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const jp=Lt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Lt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jp);jp.range;const si=1e3,rr=si*60,li=rr*60,Ai=li*24,m1=Ai*7,wI=Ai*30,uy=Ai*365,go=Lt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*si)},(t,e)=>(e-t)/si,t=>t.getUTCSeconds());go.range;const g1=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*si)},(t,e)=>{t.setTime(+t+e*rr)},(t,e)=>(e-t)/rr,t=>t.getMinutes());g1.range;const v1=Lt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*rr)},(t,e)=>(e-t)/rr,t=>t.getUTCMinutes());v1.range;const y1=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*si-t.getMinutes()*rr)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getHours());y1.range;const x1=Lt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getUTCHours());x1.range;const Yf=Lt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rr)/Ai,t=>t.getDate()-1);Yf.range;const wg=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ai,t=>t.getUTCDate()-1);wg.range;const EM=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ai,t=>Math.floor(t/Ai));EM.range;function Yo(t){return Lt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*rr)/m1)}const _g=Yo(0),Rp=Yo(1),dae=Yo(2),hae=Yo(3),dl=Yo(4),pae=Yo(5),mae=Yo(6);_g.range;Rp.range;dae.range;hae.range;dl.range;pae.range;mae.range;function Xo(t){return Lt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/m1)}const Eg=Xo(0),Dp=Xo(1),gae=Xo(2),vae=Xo(3),hl=Xo(4),yae=Xo(5),xae=Xo(6);Eg.range;Dp.range;gae.range;vae.range;hl.range;yae.range;xae.range;const b1=Lt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());b1.range;const w1=Lt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());w1.range;const Pi=Lt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Pi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Pi.range;const Ii=Lt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ii.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ii.range;function TM(t,e,n,r,i,a){const o=[[go,1,si],[go,5,5*si],[go,15,15*si],[go,30,30*si],[a,1,rr],[a,5,5*rr],[a,15,15*rr],[a,30,30*rr],[i,1,li],[i,3,3*li],[i,6,6*li],[i,12,12*li],[r,1,Ai],[r,2,2*Ai],[n,1,m1],[e,1,wI],[e,3,3*wI],[t,1,uy]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const m=f&&typeof f.range=="function"?f:l(c,u,f),x=m?m.range(c,+u+1):[];return h?x.reverse():x}function l(c,u,f){const h=Math.abs(u-c)/f,m=r1(([,,y])=>y).right(o,h);if(m===o.length)return t.every(Ox(c/uy,u/uy,f));if(m===0)return jp.every(Math.max(Ox(c,u,f),1));const[x,b]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return x.every(b)}return[s,l]}const[bae,wae]=TM(Ii,w1,Eg,EM,x1,v1),[_ae,Eae]=TM(Pi,b1,_g,Yf,y1,g1);function fy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Tae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Ic(i),u=Oc(i),f=Ic(a),h=Oc(a),m=Ic(o),x=Oc(o),b=Ic(s),y=Oc(s),v=Ic(l),g=Oc(l),w={a:V,A:M,b:F,B:U,c:null,d:PI,e:PI,f:Kae,g:roe,G:aoe,H:Wae,I:qae,j:Hae,L:SM,m:Gae,M:Yae,p:q,q:W,Q:CI,s:kI,S:Xae,u:Qae,U:Jae,V:Zae,w:eoe,W:toe,x:null,X:null,y:noe,Y:ioe,Z:ooe,"%":OI},C={a:X,A:ee,b:fe,B:he,c:null,d:II,e:II,f:uoe,g:boe,G:_oe,H:soe,I:loe,j:coe,L:PM,m:foe,M:doe,p:Oe,q:et,Q:CI,s:kI,S:hoe,u:poe,U:moe,V:goe,w:voe,W:yoe,x:null,X:null,y:xoe,Y:woe,Z:Eoe,"%":OI},S={a:I,A:N,b:j,B:k,c:B,d:SI,e:SI,f:Vae,g:TI,G:EI,H:AI,I:AI,j:Mae,L:Fae,m:Dae,M:$ae,p:P,q:Rae,Q:Bae,s:zae,S:Lae,u:Oae,U:Cae,V:kae,w:Iae,W:Nae,x:$,X:z,y:TI,Y:EI,Z:jae,"%":Uae};w.x=A(n,w),w.X=A(r,w),w.c=A(e,w),C.x=A(n,C),C.X=A(r,C),C.c=A(e,C);function A(ne,se){return function(re){var G=[],Pe=-1,de=0,Ee=ne.length,Ue,we,$e;for(re instanceof Date||(re=new Date(+re));++Pe<Ee;)ne.charCodeAt(Pe)===37&&(G.push(ne.slice(de,Pe)),(we=_I[Ue=ne.charAt(++Pe)])!=null?Ue=ne.charAt(++Pe):we=Ue==="e"?" ":"0",($e=se[Ue])&&(Ue=$e(re,we)),G.push(Ue),de=Pe+1);return G.push(ne.slice(de,Pe)),G.join("")}}function E(ne,se){return function(re){var G=Pc(1900,void 0,1),Pe=T(G,ne,re+="",0),de,Ee;if(Pe!=re.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(se&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(de=dy(Pc(G.y,0,1)),Ee=de.getUTCDay(),de=Ee>4||Ee===0?Dp.ceil(de):Dp(de),de=wg.offset(de,(G.V-1)*7),G.y=de.getUTCFullYear(),G.m=de.getUTCMonth(),G.d=de.getUTCDate()+(G.w+6)%7):(de=fy(Pc(G.y,0,1)),Ee=de.getDay(),de=Ee>4||Ee===0?Rp.ceil(de):Rp(de),de=Yf.offset(de,(G.V-1)*7),G.y=de.getFullYear(),G.m=de.getMonth(),G.d=de.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Ee="Z"in G?dy(Pc(G.y,0,1)).getUTCDay():fy(Pc(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Ee+5)%7:G.w+G.U*7-(Ee+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,dy(G)):fy(G)}}function T(ne,se,re,G){for(var Pe=0,de=se.length,Ee=re.length,Ue,we;Pe<de;){if(G>=Ee)return-1;if(Ue=se.charCodeAt(Pe++),Ue===37){if(Ue=se.charAt(Pe++),we=S[Ue in _I?se.charAt(Pe++):Ue],!we||(G=we(ne,re,G))<0)return-1}else if(Ue!=re.charCodeAt(G++))return-1}return G}function P(ne,se,re){var G=c.exec(se.slice(re));return G?(ne.p=u.get(G[0].toLowerCase()),re+G[0].length):-1}function I(ne,se,re){var G=m.exec(se.slice(re));return G?(ne.w=x.get(G[0].toLowerCase()),re+G[0].length):-1}function N(ne,se,re){var G=f.exec(se.slice(re));return G?(ne.w=h.get(G[0].toLowerCase()),re+G[0].length):-1}function j(ne,se,re){var G=v.exec(se.slice(re));return G?(ne.m=g.get(G[0].toLowerCase()),re+G[0].length):-1}function k(ne,se,re){var G=b.exec(se.slice(re));return G?(ne.m=y.get(G[0].toLowerCase()),re+G[0].length):-1}function B(ne,se,re){return T(ne,e,se,re)}function $(ne,se,re){return T(ne,n,se,re)}function z(ne,se,re){return T(ne,r,se,re)}function V(ne){return o[ne.getDay()]}function M(ne){return a[ne.getDay()]}function F(ne){return l[ne.getMonth()]}function U(ne){return s[ne.getMonth()]}function q(ne){return i[+(ne.getHours()>=12)]}function W(ne){return 1+~~(ne.getMonth()/3)}function X(ne){return o[ne.getUTCDay()]}function ee(ne){return a[ne.getUTCDay()]}function fe(ne){return l[ne.getUTCMonth()]}function he(ne){return s[ne.getUTCMonth()]}function Oe(ne){return i[+(ne.getUTCHours()>=12)]}function et(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var se=A(ne+="",w);return se.toString=function(){return ne},se},parse:function(ne){var se=E(ne+="",!1);return se.toString=function(){return ne},se},utcFormat:function(ne){var se=A(ne+="",C);return se.toString=function(){return ne},se},utcParse:function(ne){var se=E(ne+="",!0);return se.toString=function(){return ne},se}}}var _I={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,Sae=/^%/,Aae=/[\\^$*+?|[\]().{}]/g;function ze(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Pae(t){return t.replace(Aae,"\\$&")}function Ic(t){return new RegExp("^(?:"+t.map(Pae).join("|")+")","i")}function Oc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Iae(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Oae(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Cae(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function kae(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Nae(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function EI(t,e,n){var r=qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TI(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Rae(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Dae(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function SI(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Mae(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function AI(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $ae(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Lae(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Fae(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Vae(t,e,n){var r=qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Uae(t,e,n){var r=Sae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Bae(t,e,n){var r=qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function zae(t,e,n){var r=qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function PI(t,e){return ze(t.getDate(),e,2)}function Wae(t,e){return ze(t.getHours(),e,2)}function qae(t,e){return ze(t.getHours()%12||12,e,2)}function Hae(t,e){return ze(1+Yf.count(Pi(t),t),e,3)}function SM(t,e){return ze(t.getMilliseconds(),e,3)}function Kae(t,e){return SM(t,e)+"000"}function Gae(t,e){return ze(t.getMonth()+1,e,2)}function Yae(t,e){return ze(t.getMinutes(),e,2)}function Xae(t,e){return ze(t.getSeconds(),e,2)}function Qae(t){var e=t.getDay();return e===0?7:e}function Jae(t,e){return ze(_g.count(Pi(t)-1,t),e,2)}function AM(t){var e=t.getDay();return e>=4||e===0?dl(t):dl.ceil(t)}function Zae(t,e){return t=AM(t),ze(dl.count(Pi(t),t)+(Pi(t).getDay()===4),e,2)}function eoe(t){return t.getDay()}function toe(t,e){return ze(Rp.count(Pi(t)-1,t),e,2)}function noe(t,e){return ze(t.getFullYear()%100,e,2)}function roe(t,e){return t=AM(t),ze(t.getFullYear()%100,e,2)}function ioe(t,e){return ze(t.getFullYear()%1e4,e,4)}function aoe(t,e){var n=t.getDay();return t=n>=4||n===0?dl(t):dl.ceil(t),ze(t.getFullYear()%1e4,e,4)}function ooe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function II(t,e){return ze(t.getUTCDate(),e,2)}function soe(t,e){return ze(t.getUTCHours(),e,2)}function loe(t,e){return ze(t.getUTCHours()%12||12,e,2)}function coe(t,e){return ze(1+wg.count(Ii(t),t),e,3)}function PM(t,e){return ze(t.getUTCMilliseconds(),e,3)}function uoe(t,e){return PM(t,e)+"000"}function foe(t,e){return ze(t.getUTCMonth()+1,e,2)}function doe(t,e){return ze(t.getUTCMinutes(),e,2)}function hoe(t,e){return ze(t.getUTCSeconds(),e,2)}function poe(t){var e=t.getUTCDay();return e===0?7:e}function moe(t,e){return ze(Eg.count(Ii(t)-1,t),e,2)}function IM(t){var e=t.getUTCDay();return e>=4||e===0?hl(t):hl.ceil(t)}function goe(t,e){return t=IM(t),ze(hl.count(Ii(t),t)+(Ii(t).getUTCDay()===4),e,2)}function voe(t){return t.getUTCDay()}function yoe(t,e){return ze(Dp.count(Ii(t)-1,t),e,2)}function xoe(t,e){return ze(t.getUTCFullYear()%100,e,2)}function boe(t,e){return t=IM(t),ze(t.getUTCFullYear()%100,e,2)}function woe(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function _oe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hl(t):hl.ceil(t),ze(t.getUTCFullYear()%1e4,e,4)}function Eoe(){return"+0000"}function OI(){return"%"}function CI(t){return+t}function kI(t){return Math.floor(+t/1e3)}var as,OM,CM;Toe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Toe(t){return as=Tae(t),OM=as.format,as.parse,CM=as.utcFormat,as.utcParse,as}function Soe(t){return new Date(t)}function Aoe(t){return t instanceof Date?+t:+new Date(+t)}function _1(t,e,n,r,i,a,o,s,l,c){var u=l1(),f=u.invert,h=u.domain,m=c(".%L"),x=c(":%S"),b=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),g=c("%b %d"),w=c("%B"),C=c("%Y");function S(A){return(l(A)<A?m:s(A)<A?x:o(A)<A?b:a(A)<A?y:r(A)<A?i(A)<A?v:g:n(A)<A?w:C)(A)}return u.invert=function(A){return new Date(f(A))},u.domain=function(A){return arguments.length?h(Array.from(A,Aoe)):h().map(Soe)},u.ticks=function(A){var E=h();return t(E[0],E[E.length-1],A??10)},u.tickFormat=function(A,E){return E==null?S:c(E)},u.nice=function(A){var E=h();return(!A||typeof A.range!="function")&&(A=e(E[0],E[E.length-1],A??10)),A?h(gM(E,A)):u},u.copy=function(){return Gf(u,_1(t,e,n,r,i,a,o,s,l,c))},u}function Poe(){return fr.apply(_1(_ae,Eae,Pi,b1,_g,Yf,y1,g1,go,OM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ioe(){return fr.apply(_1(bae,wae,Ii,w1,Eg,wg,x1,v1,go,CM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tg(){var t=0,e=1,n,r,i,a,o=wn,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var m,x;return arguments.length?([m,x]=h,o=f(m,x),c):[o(0),o(1)]}}return c.range=u(Ql),c.rangeRound=u(s1),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Ba(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kM(){var t=Ua(Tg()(wn));return t.copy=function(){return Ba(t,kM())},Mi.apply(t,arguments)}function NM(){var t=f1(Tg()).domain([1,10]);return t.copy=function(){return Ba(t,NM()).base(t.base())},Mi.apply(t,arguments)}function jM(){var t=d1(Tg());return t.copy=function(){return Ba(t,jM()).constant(t.constant())},Mi.apply(t,arguments)}function E1(){var t=h1(Tg());return t.copy=function(){return Ba(t,E1()).exponent(t.exponent())},Mi.apply(t,arguments)}function Ooe(){return E1.apply(null,arguments).exponent(.5)}function RM(){var t=[],e=wn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(wa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>mie(t,a/r))},n.copy=function(){return RM(e).domain(t)},Mi.apply(n,arguments)}function Sg(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,c=wn,u,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+u(b))-a)*(r*b<r*a?s:l),c(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([t,e,n]=b,i=u(t=+t),a=u(e=+e),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(c=b,m):c};function x(b){return function(y){var v,g,w;return arguments.length?([v,g,w]=y,c=Uie(b,[v,g,w]),m):[c(0),c(.5),c(1)]}}return m.range=x(Ql),m.rangeRound=x(s1),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return u=b,i=b(t),a=b(e),o=b(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function DM(){var t=Ua(Sg()(wn));return t.copy=function(){return Ba(t,DM())},Mi.apply(t,arguments)}function MM(){var t=f1(Sg()).domain([.1,1,10]);return t.copy=function(){return Ba(t,MM()).base(t.base())},Mi.apply(t,arguments)}function $M(){var t=d1(Sg());return t.copy=function(){return Ba(t,$M()).constant(t.constant())},Mi.apply(t,arguments)}function T1(){var t=h1(Sg());return t.copy=function(){return Ba(t,T1()).exponent(t.exponent())},Mi.apply(t,arguments)}function Coe(){return T1.apply(null,arguments).exponent(.5)}const NI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gu,scaleDiverging:DM,scaleDivergingLog:MM,scaleDivergingPow:T1,scaleDivergingSqrt:Coe,scaleDivergingSymlog:$M,scaleIdentity:mM,scaleImplicit:Cx,scaleLinear:Np,scaleLog:vM,scaleOrdinal:i1,scalePoint:cu,scalePow:p1,scaleQuantile:bM,scaleQuantize:wM,scaleRadial:xM,scaleSequential:kM,scaleSequentialLog:NM,scaleSequentialPow:E1,scaleSequentialQuantile:RM,scaleSequentialSqrt:Ooe,scaleSequentialSymlog:jM,scaleSqrt:uae,scaleSymlog:yM,scaleThreshold:_M,scaleTime:Poe,scaleUtc:Ioe,tickFormat:pM},Symbol.toStringTag,{value:"Module"}));var koe=zl;function Noe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!koe(o):n(o,s)))var s=o,l=a}return l}var Ag=Noe;function joe(t,e){return t>e}var LM=joe,Roe=Ag,Doe=LM,Moe=Xl;function $oe(t){return t&&t.length?Roe(t,Moe,Doe):void 0}var Loe=$oe;const Pg=Ge(Loe);function Foe(t,e){return t<e}var FM=Foe,Voe=Ag,Uoe=FM,Boe=Xl;function zoe(t){return t&&t.length?Voe(t,Boe,Uoe):void 0}var Woe=zoe;const Ig=Ge(Woe);var qoe=L_,Hoe=Gr,Koe=HD,Goe=Rn;function Yoe(t,e){var n=Goe(t)?qoe:Koe;return n(t,Hoe(e))}var Xoe=Yoe,Qoe=WD,Joe=Xoe;function Zoe(t,e){return Qoe(Joe(t,e),1)}var ese=Zoe;const tse=Ge(ese);var nse=Z_;function rse(t,e){return nse(t,e)}var ise=rse;const Og=Ge(ise);var Jl=1e9,ase={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},A1,ht=!0,lr="[DecimalError] ",_o=lr+"Invalid argument: ",S1=lr+"Exponent out of range: ",Zl=Math.floor,ao=Math.pow,ose=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,Ut=1e7,ct=7,VM=9007199254740991,Mp=Zl(VM/ct),ue={};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ue.comparedTo=ue.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ct;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ue.dividedBy=ue.div=function(t){return mi(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.idiv=function(t){var e=this,n=e.constructor;return Ze(mi(e,new n(t),0,1),n.precision)};ue.equals=ue.eq=function(t){return!this.cmp(t)};ue.exponent=function(){return Ct(this)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){return this.cmp(t)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fn))throw Error(lr+"NaN");if(n.s<1)throw Error(lr+(n.s?"NaN":"-Infinity"));return n.eq(Fn)?new r(0):(ht=!1,e=mi(Zu(n,a),Zu(t,a),a),ht=!0,Ze(e,i))};ue.minus=ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zM(e,t):UM(e,(t.s=-t.s,t))};ue.modulo=ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(lr+"NaN");return n.s?(ht=!1,e=mi(n,t,0,1).times(t),ht=!0,n.minus(e)):Ze(new r(n),i)};ue.naturalExponential=ue.exp=function(){return BM(this)};ue.naturalLogarithm=ue.ln=function(){return Zu(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ue.plus=ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UM(e,t):zM(e,(t.s=-t.s,t))};ue.precision=ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(_o+t);if(e=Ct(i)+1,r=i.d.length-1,n=r*ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ue.squareRoot=ue.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(lr+"NaN")}for(t=Ct(s),ht=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Dr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(mi(s,a,o+2)).times(.5),Dr(a.d).slice(0,o)===(e=Dr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ze(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return ht=!0,Ze(r,n)};ue.times=ue.mul=function(t){var e,n,r,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,m=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*h[i-r-1]+e,a[i--]=s%Ut|0,e=s/Ut|0;a[i]=(a[i]+e)%Ut|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ht?Ze(t,f.precision):t};ue.toDecimalPlaces=ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Hr(t,0,Jl),e===void 0?e=r.rounding:Hr(e,0,8),Ze(n,t+Ct(n)+1,e))};ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=$o(r,!0):(Hr(t,0,Jl),e===void 0?e=i.rounding:Hr(e,0,8),r=Ze(new i(r),t+1,e),n=$o(r,!0,t+1)),n};ue.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?$o(i):(Hr(t,0,Jl),e===void 0?e=a.rounding:Hr(e,0,8),r=Ze(new a(i),t+Ct(i)+1,e),n=$o(r.abs(),!1,t+Ct(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ue.toInteger=ue.toint=function(){var t=this,e=t.constructor;return Ze(new e(t),Ct(t)+1,e.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Fn);if(s=new l(s),!s.s){if(t.s<1)throw Error(lr+"Infinity");return s}if(s.eq(Fn))return s;if(r=l.precision,t.eq(Fn))return Ze(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=u<0?-u:u)<=VM){for(i=new l(Fn),e=Math.ceil(r/ct+4),ht=!1;n%2&&(i=i.times(s),RI(i.d,e)),n=Zl(n/2),n!==0;)s=s.times(s),RI(s.d,e);return ht=!0,t.s<0?new l(Fn).div(i):Ze(i,r)}}else if(a<0)throw Error(lr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ht=!1,i=t.times(Zu(s,r+c)),ht=!0,i=BM(i),i.s=a,i};ue.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Ct(i),r=$o(i,n<=a.toExpNeg||n>=a.toExpPos)):(Hr(t,1,Jl),e===void 0?e=a.rounding:Hr(e,0,8),i=Ze(new a(i),t,e),n=Ct(i),r=$o(i,t<=n||n<=a.toExpNeg,t)),r};ue.toSignificantDigits=ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Hr(t,1,Jl),e===void 0?e=r.rounding:Hr(e,0,8)),Ze(new r(n),t,e)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ct(t),n=t.constructor;return $o(t,e<=n.toExpNeg||e>=n.toExpPos)};function UM(t,e){var n,r,i,a,o,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),ht?Ze(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(f/ct),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Ut|0,l[a]%=Ut;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ht?Ze(e,f):e}function Hr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(_o+t)}function Dr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=ct-r.length,n&&(a+=Ki(n)),a+=r;o=t[e],r=o+"",n=ct-r.length,n&&(a+=Ki(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var mi=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Ut|0,o=a/Ut|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ut+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,u,f,h,m,x,b,y,v,g,w,C,S,A,E,T,P=r.constructor,I=r.s==i.s?1:-1,N=r.d,j=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(lr+"Division by zero");for(l=r.e-i.e,E=j.length,S=N.length,m=new P(I),x=m.d=[],c=0;j[c]==(N[c]||0);)++c;if(j[c]>(N[c]||0)&&--l,a==null?g=a=P.precision:o?g=a+(Ct(r)-Ct(i))+1:g=a,g<0)return new P(0);if(g=g/ct+2|0,c=0,E==1)for(u=0,j=j[0],g++;(c<S||u)&&g--;c++)w=u*Ut+(N[c]||0),x[c]=w/j|0,u=w%j|0;else{for(u=Ut/(j[0]+1)|0,u>1&&(j=t(j,u),N=t(N,u),E=j.length,S=N.length),C=E,b=N.slice(0,E),y=b.length;y<E;)b[y++]=0;T=j.slice(),T.unshift(0),A=j[0],j[1]>=Ut/2&&++A;do u=0,s=e(j,b,E,y),s<0?(v=b[0],E!=y&&(v=v*Ut+(b[1]||0)),u=v/A|0,u>1?(u>=Ut&&(u=Ut-1),f=t(j,u),h=f.length,y=b.length,s=e(f,b,h,y),s==1&&(u--,n(f,E<h?T:j,h))):(u==0&&(s=u=1),f=j.slice()),h=f.length,h<y&&f.unshift(0),n(b,f,y),s==-1&&(y=b.length,s=e(j,b,E,y),s<1&&(u++,n(b,E<y?T:j,y))),y=b.length):s===0&&(u++,b=[0]),x[c++]=u,s&&b[0]?b[y++]=N[C]||0:(b=[N[C]],y=1);while((C++<S||b[0]!==void 0)&&g--)}return x[0]||x.shift(),m.e=l,Ze(m,o?a+Ct(m)+1:a)}}();function BM(t,e){var n,r,i,a,o,s,l=0,c=0,u=t.constructor,f=u.precision;if(Ct(t)>16)throw Error(S1+Ct(t));if(!t.s)return new u(Fn);for(e==null?(ht=!1,s=f):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(ao(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new u(Fn),u.precision=s;;){if(i=Ze(i.times(t),s),n=n.times(++l),o=a.plus(mi(i,n,s)),Dr(o.d).slice(0,s)===Dr(a.d).slice(0,s)){for(;c--;)a=Ze(a.times(a),s);return u.precision=f,e==null?(ht=!0,Ze(a,f)):a}a=o}}function Ct(t){for(var e=t.e*ct,n=t.d[0];n>=10;n/=10)e++;return e}function hy(t,e,n){if(e>t.LN10.sd())throw ht=!0,n&&(t.precision=n),Error(lr+"LN10 precision limit exceeded");return Ze(new t(t.LN10),e)}function Ki(t){for(var e="";t--;)e+="0";return e}function Zu(t,e){var n,r,i,a,o,s,l,c,u,f=1,h=10,m=t,x=m.d,b=m.constructor,y=b.precision;if(m.s<1)throw Error(lr+(m.s?"NaN":"-Infinity"));if(m.eq(Fn))return new b(0);if(e==null?(ht=!1,c=y):c=e,m.eq(10))return e==null&&(ht=!0),hy(b,c);if(c+=h,b.precision=c,n=Dr(x),r=n.charAt(0),a=Ct(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Dr(m.d),r=n.charAt(0),f++;a=Ct(m),r>1?(m=new b("0."+n),a++):m=new b(r+"."+n.slice(1))}else return l=hy(b,c+2,y).times(a+""),m=Zu(new b(r+"."+n.slice(1)),c-h).plus(l),b.precision=y,e==null?(ht=!0,Ze(m,y)):m;for(s=o=m=mi(m.minus(Fn),m.plus(Fn),c),u=Ze(m.times(m),c),i=3;;){if(o=Ze(o.times(u),c),l=s.plus(mi(o,new b(i),c)),Dr(l.d).slice(0,c)===Dr(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(hy(b,c+2,y).times(a+""))),s=mi(s,new b(f),c),b.precision=y,e==null?(ht=!0,Ze(s,y)):s;s=l,i+=2}}function jI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Zl(n/ct),t.d=[],r=(n+1)%ct,n<0&&(r+=ct),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ct;r<i;)t.d.push(+e.slice(r,r+=ct));e=e.slice(r),r=ct-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ht&&(t.e>Mp||t.e<-Mp))throw Error(S1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ze(t,e,n){var r,i,a,o,s,l,c,u,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=ct,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/ct),a=f.length,u>=a)return t;for(c=a=f[u],o=1;a>=10;a/=10)o++;r%=ct,i=r-ct+o}if(n!==void 0&&(a=ao(10,o-i-1),s=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/ao(10,o-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=Ct(t),f.length=1,e=e-a-1,f[0]=ao(10,(ct-e%ct)%ct),t.e=Zl(-e/ct)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=ao(10,ct-r),f[u]=i>0?(c/ao(10,o-i)%ao(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Ut&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Ut)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(ht&&(t.e>Mp||t.e<-Mp))throw Error(S1+Ct(t));return t}function zM(t,e){var n,r,i,a,o,s,l,c,u,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ht?Ze(e,m):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(m/ct),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ut-1;--l[a],l[i]+=Ut}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ht?Ze(e,m):e):new h(0)}function $o(t,e,n){var r,i=Ct(t),a=Dr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ki(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ki(-i-1)+a,n&&(r=n-o)>0&&(a+=Ki(r))):i>=o?(a+=Ki(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ki(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ki(r))),t.s<0?"-"+a:a}function RI(t,e){if(t.length>e)return t.length=e,!0}function WM(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(_o+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return jI(o,a.toString())}else if(typeof a!="string")throw Error(_o+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ose.test(a))jI(o,a);else throw Error(_o+a)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=WM,i.config=i.set=sse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function sse(t){if(!t||typeof t!="object")throw Error(lr+"Object expected");var e,n,r,i=["precision",1,Jl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Zl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(_o+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_o+n+": "+r);return this}var A1=WM(ase);Fn=new A1(1);const Xe=A1;function lse(t){return dse(t)||fse(t)||use(t)||cse()}function cse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function use(t,e){if(t){if(typeof t=="string")return Rx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rx(t,e)}}function fse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dse(t){if(Array.isArray(t))return Rx(t)}function Rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hse=function(e){return e},qM={"@@functional/placeholder":!0},HM=function(e){return e===qM},DI=function(e){return function n(){return arguments.length===0||arguments.length===1&&HM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},pse=function t(e,n){return e===1?n:DI(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==qM}).length;return o>=e?n.apply(void 0,i):t(e-o,DI(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return HM(f)?l.shift():f});return n.apply(void 0,lse(u).concat(l))}))})},Cg=function(e){return pse(e.length,e)},Dx=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},mse=Cg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),gse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return hse;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Mx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},KM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function vse(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function yse(t,e,n){for(var r=new Xe(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var xse=Cg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),bse=Cg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),wse=Cg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const kg={rangeStep:yse,getDigitCount:vse,interpolateNumber:xse,uninterpolateNumber:bse,uninterpolateTruncation:wse};function $x(t){return Tse(t)||Ese(t)||GM(t)||_se()}function _se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ese(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Tse(t){if(Array.isArray(t))return Lx(t)}function ef(t,e){return Pse(t)||Ase(t,e)||GM(t,e)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GM(t,e){if(t){if(typeof t=="string")return Lx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lx(t,e)}}function Lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ase(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Pse(t){if(Array.isArray(t))return t}function YM(t){var e=ef(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function XM(t,e,n){if(t.lte(0))return new Xe(0);var r=kg.getDigitCount(t.toNumber()),i=new Xe(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Xe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new Xe(Math.ceil(l))}function Ise(t,e,n){var r=1,i=new Xe(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Xe(10).pow(kg.getDigitCount(t)-1),i=new Xe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):n||(i=new Xe(Math.floor(t)));var o=Math.floor((e-1)/2),s=gse(mse(function(l){return i.add(new Xe(l-o).mul(r)).toNumber()}),Dx);return s(0,e)}function QM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=XM(new Xe(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Xe(0):(o=new Xe(t).add(e).div(2),o=o.sub(new Xe(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Xe(e).sub(o).div(a).toNumber()),c=s+l+1;return c>n?QM(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:a,tickMin:o.sub(new Xe(s).mul(a)),tickMax:o.add(new Xe(l).mul(a))})}function Ose(t){var e=ef(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=YM([n,r]),l=ef(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat($x(Dx(0,i-1).map(function(){return 1/0}))):[].concat($x(Dx(0,i-1).map(function(){return-1/0})),[u]);return n>r?Mx(f):f}if(c===u)return Ise(c,i,a);var h=QM(c,u,o,a),m=h.step,x=h.tickMin,b=h.tickMax,y=kg.rangeStep(x,b.add(new Xe(.1).mul(m)),m);return n>r?Mx(y):y}function Cse(t,e){var n=ef(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=YM([r,i]),s=ef(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=XM(new Xe(c).sub(l).div(u-1),a,0),h=[].concat($x(kg.rangeStep(new Xe(l),new Xe(c).sub(new Xe(.99).mul(f)),f)),[c]);return r>i?Mx(h):h}var kse=KM(Ose),Nse=KM(Cse),jse="Invariant failed";function Lo(t,e){throw new Error(jse)}var Rse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}function Dse(t,e){return Fse(t)||Lse(t,e)||$se(t,e)||Mse()}function Mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(t,e){if(t){if(typeof t=="string")return MI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MI(t,e)}}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Fse(t){if(Array.isArray(t))return t}function Vse(t,e){if(t==null)return{};var n=Use(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Use(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e$(r.key),r)}}function Wse(t,e,n){return e&&zse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qse(t,e,n){return e=Lp(e),Hse(t,JM()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function Hse(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kse(t)}function Kse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function Gse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fx(t,e)}function Fx(t,e){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fx(t,e)}function ZM(t,e,n){return e=e$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e$(t){var e=Yse(t,"string");return pl(e)=="symbol"?e:e+""}function Yse(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ng=function(t){function e(){return Bse(this,e),qse(this,e,arguments)}return Gse(e,t),Wse(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,h=Vse(r,Rse),m=_e(h,!1);this.props.direction==="x"&&u.type!=="number"&&Lo();var x=l.map(function(b){var y=c(b,s),v=y.x,g=y.y,w=y.value,C=y.errorVal;if(!C)return null;var S=[],A,E;if(Array.isArray(C)){var T=Dse(C,2);A=T[0],E=T[1]}else A=E=C;if(a==="vertical"){var P=u.scale,I=g+i,N=I+o,j=I-o,k=P(w-A),B=P(w+E);S.push({x1:B,y1:N,x2:B,y2:j}),S.push({x1:k,y1:I,x2:B,y2:I}),S.push({x1:k,y1:N,x2:k,y2:j})}else if(a==="horizontal"){var $=f.scale,z=v+i,V=z-o,M=z+o,F=$(w-A),U=$(w+E);S.push({x1:V,y1:U,x2:M,y2:U}),S.push({x1:z,y1:F,x2:z,y2:U}),S.push({x1:V,y1:F,x2:M,y2:F})}return L.createElement(He,$p({className:"recharts-errorBar",key:"bar-".concat(S.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},m),S.map(function(q){return L.createElement("line",$p({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return L.createElement(He,{className:"recharts-errorBars"},x)}}])}(L.Component);ZM(Ng,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZM(Ng,"displayName","ErrorBar");function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return e=Qse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=Jse(t,"string");return tf(e)=="symbol"?e:e+""}function Jse(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ln(n,ba);if(!o)return null;var s=ba.defaultProps,l=s!==void 0?Qa(Qa({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(u,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return u.concat(x.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):c=(r||[]).map(function(u){var f=u.item,h=f.type.defaultProps,m=h!==void 0?Qa(Qa({},h),f.props):{},x=m.dataKey,b=m.name,y=m.legendType,v=m.hide;return{inactive:v,dataKey:x,type:l.iconType||y||"square",color:P1(f),value:b||x,payload:m}}),Qa(Qa(Qa({},l),ba.getWithHeight(o,i)),{},{payload:c,item:o})};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function LI(t){return nle(t)||tle(t)||ele(t)||Zse()}function Zse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ele(t,e){if(t){if(typeof t=="string")return Vx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vx(t,e)}}function tle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nle(t){if(Array.isArray(t))return Vx(t)}function Vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){Us(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Us(t,e,n){return e=rle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rle(t){var e=ile(t,"string");return nf(e)=="symbol"?e:e+""}function ile(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hn(t,e,n){return je(t)||je(e)?n:Dt(e)?zn(t,e,n):Te(e)?e(t):n}function uu(t,e,n,r){var i=tse(t,function(s){return hn(s,e)});if(n==="number"){var a=i.filter(function(s){return te(s)||parseFloat(s)});return a.length?[Ig(a),Pg(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!je(s)}):i;return o.map(function(s){return Dt(s)||s instanceof Date?s:""})}var ale=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(xn(f-u)!==xn(h-f)){var x=[];if(xn(h-f)===xn(l[1]-l[0])){m=h;var b=f+l[1]-l[0];x[0]=Math.min(b,(b+u)/2),x[1]=Math.max(b,(b+u)/2)}else{m=u;var y=h+l[1]-l[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>v[0]&&e<=v[1]||e>=x[0]&&e<=x[1]){o=i[c].index;break}}else{var g=Math.min(u,h),w=Math.max(u,h);if(e>(g+f)/2&&e<=(w+f)/2){o=i[c].index;break}}}else for(var C=0;C<s;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<s-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===s-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},P1=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},ole=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,f=Object.keys(u),h=0,m=f.length;h<m;h++){var x=u[f[h]],b=x.items,y=x.cateAxisId,v=b.filter(function(E){return hi(E.type).indexOf("Bar")>=0});if(v&&v.length){var g=v[0].type.defaultProps,w=g!==void 0?_t(_t({},g),v[0].props):v[0].props,C=w.barSize,S=w[y];o[S]||(o[S]=[]);var A=je(C)?n:C;o[S].push({item:v[0],stackList:v.slice(1),barSize:je(A)?void 0:bn(A,r,0)})}}return o},sle=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=bn(n,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/l,x=o.reduce(function(C,S){return C+S.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&m>0&&(h=!0,m*=.9,x=l*m);var b=(i-x)/2>>0,y={offset:b-c,size:0};u=o.reduce(function(C,S){var A={item:S.item,position:{offset:y.offset+y.size+c,size:h?m:S.barSize}},E=[].concat(LI(C),[A]);return y=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){E.push({item:T,position:y})}),E},f)}else{var v=bn(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var g=(i-2*v-(l-1)*c)/l;g>1&&(g>>=0);var w=s===+s?Math.min(g,s):g;u=o.reduce(function(C,S,A){var E=[].concat(LI(C),[{item:S.item,position:{offset:v+(g+c)*A+(g-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},f)}return u},lle=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=t$({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,m=c.align,x=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&x==="middle")&&m!=="center"&&te(e[m]))return _t(_t({},e),{},Us({},m,e[m]+(f||0)));if((b==="horizontal"||b==="vertical"&&m==="center")&&x!=="middle"&&te(e[x]))return _t(_t({},e),{},Us({},x,e[x]+(h||0)))}return e},cle=function(e,n,r){return je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},n$=function(e,n,r,i,a){var o=n.props.children,s=ar(o,Ng).filter(function(c){return cle(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=hn(u,r);if(je(f))return c;var h=Array.isArray(f)?[Ig(f),Pg(f)]:[f,f],m=l.reduce(function(x,b){var y=hn(u,b,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),g=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,x[0]),Math.max(g,x[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},ule=function(e,n,r,i,a){var o=n.map(function(s){return n$(e,s,r,a,i)}).filter(function(s){return!je(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},r$=function(e,n,r,i,a){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&n$(e,l,c,i)||uu(e,c,r,a)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},i$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},a$=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},ci=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?xn(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!zf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},py=new WeakMap,Wd=function(e,n){if(typeof n!="function")return e;py.has(e)||py.set(e,new WeakMap);var r=py.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},o$=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Gu(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Np(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:cu(),realScaleType:"point"}:a==="category"?{scale:Gu(),realScaleType:"band"}:{scale:Np(),realScaleType:"linear"};if(Ro(i)){var l="scale".concat(dg(i));return{scale:(NI[l]||cu)(),realScaleType:NI[l]?l:"point"}}return Te(i)?{scale:i}:{scale:cu(),realScaleType:"point"}},VI=1e-4,s$=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-VI,o=Math.max(i[0],i[1])+VI,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},fle=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},dle=function(e,n){if(!n||n.length!==2||!te(n[0])||!te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(a[0]=r),(!te(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},hle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=zf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},ple=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=zf(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},mle={sign:hle,expand:RG,none:ol,silhouette:DG,wiggle:MG,positive:ple},gle=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=mle[r],o=jG().keys(i).value(function(s,l){return+hn(s,l,0)}).order(fx).offset(a);return o(e)},vle=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},c=s.reduce(function(f,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?_t(_t({},h.type.defaultProps),h.props):h.props,b=x.stackId,y=x.hide;if(y)return f;var v=x[r],g=f[v]||{hasStack:!1,stackGroups:{}};if(Dt(b)){var w=g.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),g.hasStack=!0,g.stackGroups[b]=w}else g.stackGroups[Wf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return _t(_t({},f),{},Us({},v,g))},l),u={};return Object.keys(c).reduce(function(f,h){var m=c[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(b,y){var v=m.stackGroups[y];return _t(_t({},b),{},Us({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:gle(e,v.items,a)}))},x)}return _t(_t({},f),{},Us({},h,m))},u)},l$=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=kse(c,a,s);return e.domain([Ig(u),Pg(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=Nse(f,a,s);return{niceTicks:h}}return null},UI=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=hn(o,n.dataKey,n.domain[s]);return je(l)?null:n.scale(l)-a/2+i},yle=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},xle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Dt(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},ble=function(e){return e.reduce(function(n,r){return[Ig(r.concat([n[0]]).filter(te)),Pg(r.concat([n[1]]).filter(te))]},[1/0,-1/0])},c$=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var f=ble(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ux=function(e,n,r){if(Te(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(BI.test(e[0])){var a=+BI.exec(e[0])[1];i[0]=n[0]-a}else Te(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(zI.test(e[1])){var o=+zI.exec(e[1])[1];i[1]=n[1]+o}else Te(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Fp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=t1(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},WI=function(e,n,r){return!e||!e.length||Og(e,zn(r,"type.defaultProps.domain"))?n:e},u$=function(e,n){var r=e.type.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return _t(_t({},_e(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:P1(e),value:hn(n,i),type:l,payload:n,chartType:c,hide:u})};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){f$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f$(t,e,n){return e=wle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=_le(t,"string");return rf(e)=="symbol"?e:e+""}function _le(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ele(t,e){return Ple(t)||Ale(t,e)||Sle(t,e)||Tle()}function Tle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sle(t,e){if(t){if(typeof t=="string")return HI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HI(t,e)}}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ale(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ple(t){if(Array.isArray(t))return t}var Vp=Math.PI/180,Ile=function(e){return e*180/Math.PI},at=function(e,n,r,i){return{x:e+Math.cos(-Vp*i)*r,y:n+Math.sin(-Vp*i)*r}},d$=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ole=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=bn(e.cx,o,o/2),f=bn(e.cy,s,s/2),h=d$(o,s,r),m=bn(e.innerRadius,h,0),x=bn(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(y,v){var g=n[v],w=g.domain,C=g.reversed,S;if(je(g.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[m,x]),C&&(S=[S[1],S[0]]);else{S=g.range;var A=S,E=Ele(A,2);l=E[0],c=E[1]}var T=o$(g,a),P=T.realScaleType,I=T.scale;I.domain(w).range(S),s$(I);var N=l$(I,ti(ti({},g),{},{realScaleType:P})),j=ti(ti(ti({},g),N),{},{range:S,radius:x,realScaleType:P,scale:I,cx:u,cy:f,innerRadius:m,outerRadius:x,startAngle:l,endAngle:c});return ti(ti({},y),{},f$({},v,j))},{})},Cle=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},kle=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Cle({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:Ile(c),angleInRadian:c}},Nle=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},jle=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},KI=function(e,n){var r=e.x,i=e.y,a=kle({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=Nle(n),f=u.startAngle,h=u.endAngle,m=s,x;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}return x?ti(ti({},n),{},{radius:o,angle:jle(m,n)}):null},h$=function(e){return!D.isValidElement(e)&&!Te(e)&&typeof e!="boolean"?e.className:""};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}var Rle=["offset"];function Dle(t){return Fle(t)||Lle(t)||$le(t)||Mle()}function Mle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(t,e){if(t){if(typeof t=="string")return Bx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bx(t,e)}}function Lle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fle(t){if(Array.isArray(t))return Bx(t)}function Bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vle(t,e){if(t==null)return{};var n=Ule(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ule(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){Ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ble(t,e,n){return e=zle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=Wle(t,"string");return af(e)=="symbol"?e:e+""}function Wle(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}var qle=function(e){var n=e.value,r=e.formatter,i=je(e.children)?n:e.children;return Te(r)?r(i):i},Hle=function(e,n){var r=xn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Kle=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,x=l.endAngle,b=l.clockWise,y=(f+h)/2,v=Hle(m,x),g=v>=0?1:-1,w,C;i==="insideStart"?(w=m+g*o,C=b):i==="insideEnd"?(w=x-g*o,C=!b):i==="end"&&(w=x+g*o,C=b),C=v<=0?C:!C;var S=at(c,u,y,w),A=at(c,u,y,w+(C?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),T=je(e.id)?Wf("recharts-radial-line-"):e.id;return L.createElement("text",of({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",s)}),L.createElement("defs",null,L.createElement("path",{id:T,d:E})),L.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Gle=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var m=at(o,s,c+r,h),x=m.x,b=m.y;return{x,y:b,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=at(o,s,y,h),g=v.x,w=v.y;return{x:g,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Yle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,h=f*i,m=f>0?"end":"start",x=f>0?"start":"end",b=c>=0?1:-1,y=b*i,v=b>0?"end":"start",g=b>0?"start":"end";if(a==="top"){var w={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Nt(Nt({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var C={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:x};return Nt(Nt({},C),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:s-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Nt(Nt({},S),r?{width:Math.max(S.x-r.x,0),height:u}:{})}if(a==="right"){var A={x:s+c+y,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return Nt(Nt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:u}:{})}var E=r?{width:c,height:u}:{};return a==="insideLeft"?Nt({x:s+y,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},E):a==="insideRight"?Nt({x:s+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideTop"?Nt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:x},E):a==="insideBottom"?Nt({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:m},E):a==="insideTopLeft"?Nt({x:s+y,y:l+h,textAnchor:g,verticalAnchor:x},E):a==="insideTopRight"?Nt({x:s+c-y,y:l+h,textAnchor:v,verticalAnchor:x},E):a==="insideBottomLeft"?Nt({x:s+y,y:l+u-h,textAnchor:g,verticalAnchor:m},E):a==="insideBottomRight"?Nt({x:s+c-y,y:l+u-h,textAnchor:v,verticalAnchor:m},E):Wl(a)&&(te(a.x)||po(a.x))&&(te(a.y)||po(a.y))?Nt({x:s+bn(a.x,c),y:l+bn(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):Nt({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Xle=function(e){return"cx"in e&&te(e.cx)};function zt(t){var e=t.offset,n=e===void 0?5:e,r=Vle(t,Rle),i=Nt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||je(s)&&je(l)&&!D.isValidElement(c)&&!Te(c))return null;if(D.isValidElement(c))return D.cloneElement(c,i);var m;if(Te(c)){if(m=D.createElement(c,i),D.isValidElement(m))return m}else m=qle(i);var x=Xle(a),b=_e(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Kle(i,m,b);var y=x?Gle(i):Yle(i);return L.createElement(Mo,of({className:ke("recharts-label",f)},b,y,{breakAll:h}),m)}zt.displayName="Label";var p$=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,m=e.top,x=e.left,b=e.width,y=e.height,v=e.clockWise,g=e.labelViewBox;if(g)return g;if(te(b)&&te(y)){if(te(f)&&te(h))return{x:f,y:h,width:b,height:y};if(te(m)&&te(x))return{x:m,y:x,width:b,height:y}}return te(f)&&te(h)?{x:f,y:h,width:0,height:0}:te(n)&&te(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},Qle=function(e,n){return e?e===!0?L.createElement(zt,{key:"label-implicit",viewBox:n}):Dt(e)?L.createElement(zt,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===zt?D.cloneElement(e,{key:"label-implicit",viewBox:n}):L.createElement(zt,{key:"label-implicit",content:e,viewBox:n}):Te(e)?L.createElement(zt,{key:"label-implicit",content:e,viewBox:n}):Wl(e)?L.createElement(zt,of({viewBox:n},e,{key:"label-implicit"})):null:null},Jle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=p$(e),o=ar(i,zt).map(function(l,c){return D.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return o;var s=Qle(e.label,n||a);return[s].concat(Dle(o))};zt.parseViewBox=p$;zt.renderCallByParent=Jle;function Zle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ece=Zle;const tce=Ge(ece);function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}var nce=["valueAccessor"],rce=["data","dataKey","clockWise","id","textBreakAll"];function ice(t){return lce(t)||sce(t)||oce(t)||ace()}function ace(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oce(t,e){if(t){if(typeof t=="string")return zx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zx(t,e)}}function sce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lce(t){if(Array.isArray(t))return zx(t)}function zx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Up.apply(this,arguments)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cce(t,e,n){return e=uce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=fce(t,"string");return sf(e)=="symbol"?e:e+""}function fce(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QI(t,e){if(t==null)return{};var n=dce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hce=function(e){return Array.isArray(e.value)?tce(e.value):e.value};function _a(t){var e=t.valueAccessor,n=e===void 0?hce:e,r=QI(t,nce),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=QI(r,rce);return!i||!i.length?null:L.createElement(He,{className:"recharts-label-list"},i.map(function(u,f){var h=je(a)?n(u,f):hn(u&&u.payload,a),m=je(s)?{}:{id:"".concat(s,"-").concat(f)};return L.createElement(zt,Up({},_e(u,!0),c,m,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:zt.parseViewBox(je(o)?u:XI(XI({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}_a.displayName="LabelList";function pce(t,e){return t?t===!0?L.createElement(_a,{key:"labelList-implicit",data:e}):L.isValidElement(t)||Te(t)?L.createElement(_a,{key:"labelList-implicit",data:e,content:t}):Wl(t)?L.createElement(_a,Up({data:e},t,{key:"labelList-implicit"})):null:null}function mce(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ar(r,_a).map(function(o,s){return D.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=pce(t.label,e);return[a].concat(ice(i))}_a.renderCallByParent=mce;function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return e=vce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=yce(t,"string");return lf(e)=="symbol"?e:e+""}function yce(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xce=function(e,n){var r=xn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},qd=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/Vp,h=c?a:a+o*f,m=at(n,r,u,h),x=at(n,r,i,h),b=c?a-o*f:a,y=at(n,r,u*Math.cos(f*Vp),b);return{center:m,circleTangency:x,lineTangency:y,theta:f}},m$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=xce(o,s),c=o+l,u=at(n,r,a,o),f=at(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=at(n,r,i,o),x=at(n,r,i,c);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},bce=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=xn(u-c),h=qd({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),m=h.circleTangency,x=h.lineTangency,b=h.theta,y=qd({cx:n,cy:r,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=y.circleTangency,g=y.lineTangency,w=y.theta,C=l?Math.abs(c-u):Math.abs(c-u)-b-w;if(C<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):m$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(i>0){var A=qd({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=A.circleTangency,T=A.lineTangency,P=A.theta,I=qd({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=I.circleTangency,j=I.lineTangency,k=I.theta,B=l?Math.abs(c-u):Math.abs(c-u)-P-k;if(B<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},wce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},g$=function(e){var n=ZI(ZI({},wce),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,h=n.className;if(o<a||u===f)return null;var m=ke("recharts-sector",h),x=o-a,b=bn(s,x,0,!0),y;return b>0&&Math.abs(u-f)<360?y=bce({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):y=m$({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),L.createElement("path",Wx({},_e(n,!0),{className:m,d:y,role:"img"}))};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(this,arguments)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return e=Ece(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=Tce(t,"string");return cf(e)=="symbol"?e:e+""}function Tce(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nO={curveBasisClosed:_G,curveBasisOpen:EG,curveBasis:wG,curveBumpX:sG,curveBumpY:lG,curveLinearClosed:TG,curveLinear:pg,curveMonotoneX:SG,curveMonotoneY:AG,curveNatural:PG,curveStep:IG,curveStepAfter:CG,curveStepBefore:OG},Hd=function(e){return e.x===+e.x&&e.y===+e.y},Cc=function(e){return e.x},kc=function(e){return e.y},Sce=function(e,n){if(Te(e))return e;var r="curve".concat(dg(e));return(r==="curveMonotone"||r==="curveBump")&&n?nO["".concat(r).concat(n==="vertical"?"Y":"X")]:nO[r]||pg},Ace=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Sce(r,s),f=c?a.filter(function(b){return Hd(b)}):a,h;if(Array.isArray(o)){var m=c?o.filter(function(b){return Hd(b)}):o,x=f.map(function(b,y){return tO(tO({},b),{},{base:m[y]})});return s==="vertical"?h=Md().y(kc).x1(Cc).x0(function(b){return b.base.x}):h=Md().x(Cc).y1(kc).y0(function(b){return b.base.y}),h.defined(Hd).curve(u),h(x)}return s==="vertical"&&te(o)?h=Md().y(kc).x1(Cc).x0(o):te(o)?h=Md().x(Cc).y1(kc).y0(o):h=cD().x(Cc).y(kc),h.defined(Hd).curve(u),h(f)},Hx=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Ace(e):i;return L.createElement("path",qx({},_e(e,!1),dp(e),{className:ke("recharts-curve",n),d:o,ref:a}))},v$={exports:{}},Pce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ice=Pce,Oce=Ice;function y$(){}function x$(){}x$.resetWarningCache=y$;var Cce=function(){function t(r,i,a,o,s,l){if(l!==Oce){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:x$,resetWarningCache:y$};return n.PropTypes=n,n};v$.exports=Cce();var kce=v$.exports;const pe=Ge(kce);var Nce=Object.getOwnPropertyNames,jce=Object.getOwnPropertySymbols,Rce=Object.prototype.hasOwnProperty;function rO(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Kd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function iO(t){return Nce(t).concat(jce(t))}var Dce=Object.hasOwn||function(t,e){return Rce.call(t,e)};function Qo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Mce="__v",$ce="__o",Lce="_owner",aO=Object.getOwnPropertyDescriptor,oO=Object.keys;function Fce(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Vce(t,e){return Qo(t.getTime(),e.getTime())}function Uce(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Bce(t,e){return t===e}function sO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=e.entries(),u=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,m=s.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var zce=Qo;function Wce(t,e,n){var r=oO(t),i=r.length;if(oO(e).length!==i)return!1;for(;i-- >0;)if(!b$(t,e,n,r[i]))return!1;return!0}function Nc(t,e,n){var r=iO(t),i=r.length;if(iO(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!b$(t,e,n,a)||(o=aO(t,a),s=aO(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function qce(t,e){return Qo(t.valueOf(),e.valueOf())}function Hce(t,e){return t.source===e.source&&t.flags===e.flags}function lO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Kce(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Gce(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function b$(t,e,n,r){return(r===Lce||r===$ce||r===Mce)&&(t.$$typeof||e.$$typeof)?!0:Dce(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Yce="[object Arguments]",Xce="[object Boolean]",Qce="[object Date]",Jce="[object Error]",Zce="[object Map]",eue="[object Number]",tue="[object Object]",nue="[object RegExp]",rue="[object Set]",iue="[object String]",aue="[object URL]",oue=Array.isArray,cO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,uO=Object.assign,sue=Object.prototype.toString.call.bind(Object.prototype.toString);function lue(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(x,b,y){if(x===b)return!0;if(x==null||b==null)return!1;var v=typeof x;if(v!==typeof b)return!1;if(v!=="object")return v==="number"?o(x,b,y):v==="function"?i(x,b,y):!1;var g=x.constructor;if(g!==b.constructor)return!1;if(g===Object)return s(x,b,y);if(oue(x))return e(x,b,y);if(cO!=null&&cO(x))return f(x,b,y);if(g===Date)return n(x,b,y);if(g===RegExp)return c(x,b,y);if(g===Map)return a(x,b,y);if(g===Set)return u(x,b,y);var w=sue(x);return w===Qce?n(x,b,y):w===nue?c(x,b,y):w===Zce?a(x,b,y):w===rue?u(x,b,y):w===tue?typeof x.then!="function"&&typeof b.then!="function"&&s(x,b,y):w===aue?h(x,b,y):w===Jce?r(x,b,y):w===Yce?s(x,b,y):w===Xce||w===eue||w===iue?l(x,b,y):!1}}function cue(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Nc:Fce,areDatesEqual:Vce,areErrorsEqual:Uce,areFunctionsEqual:Bce,areMapsEqual:r?rO(sO,Nc):sO,areNumbersEqual:zce,areObjectsEqual:r?Nc:Wce,arePrimitiveWrappersEqual:qce,areRegExpsEqual:Hce,areSetsEqual:r?rO(lO,Nc):lO,areTypedArraysEqual:r?Nc:Kce,areUrlsEqual:Gce};if(n&&(i=uO({},i,n(i))),e){var a=Kd(i.areArraysEqual),o=Kd(i.areMapsEqual),s=Kd(i.areObjectsEqual),l=Kd(i.areSetsEqual);i=uO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function uue(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function fue(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,c){var u=r(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,m=u.meta;return n(l,c,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,o)}}var due=za();za({strict:!0});za({circular:!0});za({circular:!0,strict:!0});za({createInternalComparator:function(){return Qo}});za({strict:!0,createInternalComparator:function(){return Qo}});za({circular:!0,createInternalComparator:function(){return Qo}});za({circular:!0,createInternalComparator:function(){return Qo},strict:!0});function za(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=cue(t),l=lue(s),c=r?r(l):uue(l);return fue({circular:n,comparator:l,createState:i,equals:c,strict:o})}function hue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function fO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):hue(i)};requestAnimationFrame(r)}function Kx(t){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kx(t)}function pue(t){return yue(t)||vue(t)||gue(t)||mue()}function mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gue(t,e){if(t){if(typeof t=="string")return dO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dO(t,e)}}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yue(t){if(Array.isArray(t))return t}function xue(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=pue(o),l=s[0],c=s.slice(1);if(typeof l=="number"){fO(i.bind(null,c),l);return}i(l),fO(i.bind(null,c));return}Kx(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){w$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w$(t,e,n){return e=bue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bue(t){var e=wue(t,"string");return uf(e)==="symbol"?e:String(e)}function wue(t,e){if(uf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Eue=function(e){return e},Tue=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},fu=function(e,n){return Object.keys(n).reduce(function(r,i){return pO(pO({},r),{},w$({},i,e(i,n[i])))},{})},mO=function(e,n,r){return e.map(function(i){return"".concat(Tue(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Sue(t,e){return Iue(t)||Pue(t,e)||_$(t,e)||Aue()}function Aue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Iue(t){if(Array.isArray(t))return t}function Oue(t){return Nue(t)||kue(t)||_$(t)||Cue()}function Cue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _$(t,e){if(t){if(typeof t=="string")return Gx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gx(t,e)}}function kue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nue(t){if(Array.isArray(t))return Gx(t)}function Gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bp=1e-4,E$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},T$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},gO=function(e,n){return function(r){var i=E$(e,n);return T$(i,r)}},jue=function(e,n){return function(r){var i=E$(e,n),a=[].concat(Oue(i.map(function(o,s){return o*s}).slice(1)),[0]);return T$(a,r)}},vO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Sue(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var f=gO(i,o),h=gO(a,s),m=jue(i,o),x=function(v){return v>1?1:v<0?0:v},b=function(v){for(var g=v>1?1:v,w=g,C=0;C<8;++C){var S=f(w)-g,A=m(w);if(Math.abs(S-g)<Bp||A<Bp)return h(w);w=x(w-S/A)}return h(w)};return b.isStepper=!1,b},Rue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,f,h){var m=-(u-f)*r,x=h*a,b=h+(m-x)*s/1e3,y=h*s/1e3+u;return Math.abs(y-f)<Bp&&Math.abs(b)<Bp?[f,0]:[y,b]};return l.isStepper=!0,l.dt=s,l},Due=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vO(i);case"spring":return Rue();default:if(i.split("(")[0]==="cubic-bezier")return vO(i)}return typeof i=="function"?i:null};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function yO(t){return Lue(t)||$ue(t)||S$(t)||Mue()}function Mue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lue(t){if(Array.isArray(t))return Xx(t)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){Yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yx(t,e,n){return e=Fue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fue(t){var e=Vue(t,"string");return ff(e)==="symbol"?e:String(e)}function Vue(t,e){if(ff(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uue(t,e){return Wue(t)||zue(t,e)||S$(t,e)||Bue()}function Bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S$(t,e){if(t){if(typeof t=="string")return Xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xx(t,e)}}function Xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Wue(t){if(Array.isArray(t))return t}var zp=function(e,n,r){return e+(n-e)*r},Qx=function(e){var n=e.from,r=e.to;return n!==r},que=function t(e,n,r){var i=fu(function(a,o){if(Qx(o)){var s=e(o.from,o.to,o.velocity),l=Uue(s,2),c=l[0],u=l[1];return Yt(Yt({},o),{},{from:c,velocity:u})}return o},n);return r<1?fu(function(a,o){return Qx(o)?Yt(Yt({},o),{},{velocity:zp(o.velocity,i[a].velocity,r),from:zp(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Hue=function(t,e,n,r,i){var a=_ue(t,e),o=a.reduce(function(y,v){return Yt(Yt({},y),{},Yx({},v,[t[v],e[v]]))},{}),s=a.reduce(function(y,v){return Yt(Yt({},y),{},Yx({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return fu(function(v,g){return g.from},s)},m=function(){return!Object.values(s).filter(Qx).length},x=function(v){c||(c=v);var g=v-c,w=g/n.dt;s=que(n,s,w),i(Yt(Yt(Yt({},t),e),h())),c=v,m()||(l=requestAnimationFrame(f))},b=function(v){u||(u=v);var g=(v-u)/r,w=fu(function(S,A){return zp.apply(void 0,yO(A).concat([n(g)]))},o);if(i(Yt(Yt(Yt({},t),e),w)),g<1)l=requestAnimationFrame(f);else{var C=fu(function(S,A){return zp.apply(void 0,yO(A).concat([n(1)]))},o);i(Yt(Yt(Yt({},t),e),C))}};return f=n.isStepper?x:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}var Kue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Gue(t,e){if(t==null)return{};var n=Yue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function my(t){return Zue(t)||Jue(t)||Que(t)||Xue()}function Xue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Que(t,e){if(t){if(typeof t=="string")return Jx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jx(t,e)}}function Jue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zue(t){if(Array.isArray(t))return Jx(t)}function Jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){qc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qc(t,e,n){return e=A$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A$(r.key),r)}}function nfe(t,e,n){return e&&tfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A$(t){var e=rfe(t,"string");return ml(e)==="symbol"?e:String(e)}function rfe(t,e){if(ml(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ml(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ife(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zx(t,e)}function Zx(t,e){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zx(t,e)}function afe(t){var e=ofe();return function(){var r=Wp(t),i;if(e){var a=Wp(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return eb(this,i)}}function eb(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tb(t)}function tb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ofe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wp(t)}var Oi=function(t){ife(n,t);var e=afe(n);function n(r,i){var a;efe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(tb(a)),a.changeStyle=a.changeStyle.bind(tb(a)),!s||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),eb(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},eb(a);a.state={style:l?qc({},l,c):c}}else a.state={style:{}};return a}return nfe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(s){if(!o){var m={style:l?qc({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(m);return}if(!(due(i.to,u)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=x||c?f:i.to;if(this.state&&h){var y={style:l?qc({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(y)}this.runAnimation(pr(pr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=Hue(o,s,Due(c),l,this.changeStyle),x=function(){a.stopJSAnimation=m()};this.manager.start([h,u,x,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,h=f===void 0?0:f,m=function(b,y,v){if(v===0)return b;var g=y.duration,w=y.easing,C=w===void 0?"ease":w,S=y.style,A=y.properties,E=y.onAnimationEnd,T=v>0?o[v-1]:y,P=A||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(my(b),[a.runJSAnimation.bind(a,{from:T.style,to:S,duration:g,easing:C}),g]);var I=mO(P,g,C),N=pr(pr(pr({},T.style),S),{},{transition:I});return[].concat(my(b),[N,g,E]).filter(Eue)};return this.manager.start([l].concat(my(o.reduce(m,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=xue());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=s?qc({},s,l):l,y=mO(Object.keys(b),o,c);x.start([u,a,pr(pr({},b),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Gue(i,Kue),c=D.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var f=function(m){var x=m.props,b=x.style,y=b===void 0?{}:b,v=x.className,g=D.cloneElement(m,pr(pr({},l),{},{style:pr(pr({},y),u),className:v}));return g};return c===1?f(D.Children.only(a)):L.createElement("div",null,D.Children.map(a,function(h){return f(h)}))}}]),n}(D.PureComponent);Oi.displayName="Animate";Oi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oi.propTypes={from:pe.oneOfType([pe.object,pe.string]),to:pe.oneOfType([pe.object,pe.string]),attributeName:pe.string,duration:pe.number,begin:pe.number,easing:pe.oneOfType([pe.string,pe.func]),steps:pe.arrayOf(pe.shape({duration:pe.number.isRequired,style:pe.object.isRequired,easing:pe.oneOfType([pe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pe.func]),properties:pe.arrayOf("string"),onAnimationEnd:pe.func})),children:pe.oneOfType([pe.node,pe.func]),isActive:pe.bool,canBegin:pe.bool,onAnimationEnd:pe.func,shouldReAnimate:pe.bool,onAnimationStart:pe.func,onAnimationReStart:pe.func};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qp.apply(this,arguments)}function sfe(t,e){return ffe(t)||ufe(t,e)||cfe(t,e)||lfe()}function lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cfe(t,e){if(t){if(typeof t=="string")return wO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wO(t,e)}}function wO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ufe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ffe(t){if(Array.isArray(t))return t}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dfe(t,e,n){return e=hfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hfe(t){var e=pfe(t,"string");return df(e)=="symbol"?e:e+""}function pfe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TO=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*f[1])),u+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);u="M ".concat(e,",").concat(n+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*x,`
            L `).concat(e+r,",").concat(n+i-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*x," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},mfe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=c&&r<=u&&i>=f&&i<=h}return!1},gfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I1=function(e){var n=EO(EO({},gfe),e),r=D.useRef(),i=D.useState(-1),a=sfe(i,2),o=a[0],s=a[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&s(C)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,h=n.radius,m=n.className,x=n.animationEasing,b=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,g=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=ke("recharts-rectangle",m);return g?L.createElement(Oi,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:b,animationEasing:x,isActive:g},function(C){var S=C.width,A=C.height,E=C.x,T=C.y;return L.createElement(Oi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:v,easing:x},L.createElement("path",qp({},_e(n,!0),{className:w,d:TO(E,T,S,A,h),ref:r})))}):L.createElement("path",qp({},_e(n,!0),{className:w,d:TO(l,c,u,f,h)}))},vfe=["points","className","baseLinePoints","connectNulls"];function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ss.apply(this,arguments)}function yfe(t,e){if(t==null)return{};var n=xfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SO(t){return Efe(t)||_fe(t)||wfe(t)||bfe()}function bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wfe(t,e){if(t){if(typeof t=="string")return nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nb(t,e)}}function _fe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Efe(t){if(Array.isArray(t))return nb(t)}function nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var AO=function(e){return e&&e.x===+e.x&&e.y===+e.y},Tfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){AO(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),AO(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},du=function(e,n){var r=Tfe(e);n&&(r=[r.reduce(function(a,o){return[].concat(SO(a),SO(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Sfe=function(e,n,r){var i=du(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(du(n.reverse(),r).slice(1))},Afe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=yfe(e,vfe);if(!n||!n.length)return null;var s=ke("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=Sfe(n,i,a);return L.createElement("g",{className:s},L.createElement("path",Ss({},_e(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?L.createElement("path",Ss({},_e(o,!0),{fill:"none",d:du(n,a)})):null,l?L.createElement("path",Ss({},_e(o,!0),{fill:"none",d:du(i,a)})):null)}var u=du(n,a);return L.createElement("path",Ss({},_e(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(this,arguments)}var O1=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=ke("recharts-dot",a);return n===+n&&r===+r&&i===+i?L.createElement("circle",rb({},_e(e,!1),dp(e),{className:o,cx:n,cy:r,r:i})):null};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}var Pfe=["x","y","top","left","width","height","className"];function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ife(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return e=Cfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cfe(t){var e=kfe(t,"string");return hf(e)=="symbol"?e:e+""}function kfe(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nfe(t,e){if(t==null)return{};var n=jfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rfe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Dfe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,m=h===void 0?0:h,x=e.className,b=Nfe(e,Pfe),y=Ife({x:r,y:a,top:s,left:c,width:f,height:m},b);return!te(r)||!te(a)||!te(f)||!te(m)||!te(s)||!te(c)?null:L.createElement("path",ib({},_e(y,!0),{className:ke("recharts-cross",x),d:Rfe(r,a,f,m,s,c)}))},Mfe=Ag,$fe=LM,Lfe=Gr;function Ffe(t,e){return t&&t.length?Mfe(t,Lfe(e),$fe):void 0}var Vfe=Ffe;const Ufe=Ge(Vfe);var Bfe=Ag,zfe=Gr,Wfe=FM;function qfe(t,e){return t&&t.length?Bfe(t,zfe(e),Wfe):void 0}var Hfe=qfe;const Kfe=Ge(Hfe);var Gfe=["cx","cy","angle","ticks","axisLine"],Yfe=["ticks","tick","angle","tickFormatter","stroke"];function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OO(t,e){if(t==null)return{};var n=Xfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I$(r.key),r)}}function Jfe(t,e,n){return e&&CO(t.prototype,e),n&&CO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zfe(t,e,n){return e=Hp(e),ede(t,P$()?Reflect.construct(e,n||[],Hp(t).constructor):e.apply(t,n))}function ede(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tde(t)}function tde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P$=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hp(t)}function nde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ab(t,e)}function jg(t,e,n){return e=I$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I$(t){var e=rde(t,"string");return gl(e)=="symbol"?e:e+""}function rde(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rg=function(t){function e(){return Qfe(this,e),Zfe(this,e,arguments)}return nde(e,t),Jfe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return at(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=Ufe(s,function(u){return u.coordinate||0}),c=Kfe(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,c=OO(r,Gfe),u=s.reduce(function(x,b){return[Math.min(x[0],b.coordinate),Math.max(x[1],b.coordinate)]},[1/0,-1/0]),f=at(i,a,u[0],o),h=at(i,a,u[1],o),m=Ja(Ja(Ja({},_e(c,!1)),{},{fill:"none"},_e(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",hu({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=OO(i,Yfe),f=this.getTickTextAnchor(),h=_e(u,!1),m=_e(o,!1),x=a.map(function(b,y){var v=r.getTickValueCoord(b),g=Ja(Ja(Ja(Ja({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:c},m),{},{index:y},v),{},{payload:b});return L.createElement(He,hu({className:ke("recharts-polar-radius-axis-tick",h$(o)),key:"tick-".concat(b.coordinate)},Do(r.props,b,y)),e.renderTickItem(o,g,l?l(b.value,y):b.value))});return L.createElement(He,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:L.createElement(He,{className:ke("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),zt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return L.isValidElement(r)?o=L.cloneElement(r,i):Te(r)?o=r(i):o=L.createElement(Mo,hu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(D.PureComponent);jg(Rg,"displayName","PolarRadiusAxis");jg(Rg,"axisType","radiusAxis");jg(Rg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oo.apply(this,arguments)}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ide(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C$(r.key),r)}}function ade(t,e,n){return e&&NO(t.prototype,e),n&&NO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ode(t,e,n){return e=Kp(e),sde(t,O$()?Reflect.construct(e,n||[],Kp(t).constructor):e.apply(t,n))}function sde(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lde(t)}function lde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O$=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(t)}function cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ob(t,e)}function Dg(t,e,n){return e=C$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=ude(t,"string");return vl(e)=="symbol"?e:e+""}function ude(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fde=Math.PI/180,jO=1e-5,Mg=function(t){function e(){return ide(this,e),ode(this,e,arguments)}return cde(e,t),ade(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=at(a,o,s,r.coordinate),h=at(a,o,s+(l==="inner"?-1:1)*u,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*fde),o;return a>jO?o=i==="outer"?"start":"end":a<-jO?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,c=Za(Za({},_e(this.props,!1)),{},{fill:"none"},_e(s,!1));if(l==="circle")return L.createElement(O1,oo({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(h){return at(i,a,o,h.coordinate)});return L.createElement(Afe,oo({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=_e(this.props,!1),f=_e(o,!1),h=Za(Za({},u),{},{fill:"none"},_e(s,!1)),m=a.map(function(x,b){var y=r.getTickLineCoord(x),v=r.getTickTextAnchor(x),g=Za(Za(Za({textAnchor:v},u),{},{stroke:"none",fill:c},f),{},{index:b,payload:x,x:y.x2,y:y.y2});return L.createElement(He,oo({className:ke("recharts-polar-angle-axis-tick",h$(o)),key:"tick-".concat(x.coordinate)},Do(r.props,x,b)),s&&L.createElement("line",oo({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&e.renderTickItem(o,g,l?l(x.value,b):x.value))});return L.createElement(He,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:L.createElement(He,{className:ke("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return L.isValidElement(r)?o=L.cloneElement(r,i):Te(r)?o=r(i):o=L.createElement(Mo,oo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(D.PureComponent);Dg(Mg,"displayName","PolarAngleAxis");Dg(Mg,"axisType","angleAxis");Dg(Mg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var dde=jD,hde=dde(Object.getPrototypeOf,Object),pde=hde,mde=Ri,gde=pde,vde=Di,yde="[object Object]",xde=Function.prototype,bde=Object.prototype,k$=xde.toString,wde=bde.hasOwnProperty,_de=k$.call(Object);function Ede(t){if(!vde(t)||mde(t)!=yde)return!1;var e=gde(t);if(e===null)return!0;var n=wde.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&k$.call(n)==_de}var Tde=Ede;const Sde=Ge(Tde);var Ade=Ri,Pde=Di,Ide="[object Boolean]";function Ode(t){return t===!0||t===!1||Pde(t)&&Ade(t)==Ide}var Cde=Ode;const kde=Ge(Cde);function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gp.apply(this,arguments)}function Nde(t,e){return Mde(t)||Dde(t,e)||Rde(t,e)||jde()}function jde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(t,e){if(t){if(typeof t=="string")return RO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Mde(t){if(Array.isArray(t))return t}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){$de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $de(t,e,n){return e=Lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lde(t){var e=Fde(t,"string");return pf(e)=="symbol"?e:e+""}function Fde(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $O=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Vde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ude=function(e){var n=MO(MO({},Vde),e),r=D.useRef(),i=D.useState(-1),a=Nde(i,2),o=a[0],s=a[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,x=n.animationEasing,b=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var g=ke("recharts-trapezoid",m);return v?L.createElement(Oi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:b,animationEasing:x,isActive:v},function(w){var C=w.upperWidth,S=w.lowerWidth,A=w.height,E=w.x,T=w.y;return L.createElement(Oi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:x},L.createElement("path",Gp({},_e(n,!0),{className:g,d:$O(E,T,C,S,A),ref:r})))}):L.createElement("g",null,L.createElement("path",Gp({},_e(n,!0),{className:g,d:$O(l,c,u,f,h)})))},Bde=["option","shapeType","propTransformer","activeClassName","isActive"];function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function zde(t,e){if(t==null)return{};var n=Wde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qde(t,e,n){return e=Hde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hde(t){var e=Kde(t,"string");return mf(e)=="symbol"?e:e+""}function Kde(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gde(t,e){return Yp(Yp({},e),t)}function Yde(t,e){return t==="symbols"}function FO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return L.createElement(I1,n);case"trapezoid":return L.createElement(Ude,n);case"sector":return L.createElement(g$,n);case"symbols":if(Yde(e))return L.createElement(K_,n);break;default:return null}}function Xde(t){return D.isValidElement(t)?t.props:t}function N$(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Gde:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=zde(t,Bde),c;if(D.isValidElement(e))c=D.cloneElement(e,Yp(Yp({},l),Xde(e)));else if(Te(e))c=e(l);else if(Sde(e)&&!kde(e)){var u=i(e,l);c=L.createElement(FO,{shapeType:n,elementProps:u})}else{var f=l;c=L.createElement(FO,{shapeType:n,elementProps:f})}return s?L.createElement(He,{className:o},c):c}function $g(t,e){return e!=null&&"trapezoids"in t.props}function Lg(t,e){return e!=null&&"sectors"in t.props}function gf(t,e){return e!=null&&"points"in t.props}function Qde(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Jde(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Zde(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function ehe(t,e){var n;return $g(t,e)?n=Qde:Lg(t,e)?n=Jde:gf(t,e)&&(n=Zde),n}function the(t,e){var n;return $g(t,e)?n="trapezoids":Lg(t,e)?n="sectors":gf(t,e)&&(n="points"),n}function nhe(t,e){if($g(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Lg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gf(t,e)?e.payload:{}}function rhe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=the(n,e),a=nhe(n,e),o=r.filter(function(l,c){var u=Og(a,l),f=n.props[i].filter(function(x){var b=ehe(n,e);return b(x,e)}),h=n.props[i].indexOf(f[f.length-1]),m=c===h;return u&&m}),s=r.indexOf(o[o.length-1]);return s}var xh;function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},As.apply(this,arguments)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){tr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ihe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R$(r.key),r)}}function ahe(t,e,n){return e&&UO(t.prototype,e),n&&UO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ohe(t,e,n){return e=Xp(e),she(t,j$()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function she(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lhe(t)}function lhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function che(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sb(t,e)}function tr(t,e,n){return e=R$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R$(t){var e=uhe(t,"string");return yl(e)=="symbol"?e:e+""}function uhe(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $i=function(t){function e(n){var r;return ihe(this,e),r=ohe(this,e,[n]),tr(r,"pieRef",null),tr(r,"sectorRefs",[]),tr(r,"id",Wf("recharts-pie-")),tr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Te(i)&&i()}),tr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Te(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return che(e,t),ahe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=_e(this.props,!1),f=_e(o,!1),h=_e(s,!1),m=o&&o.offsetRadius||20,x=r.map(function(b,y){var v=(b.startAngle+b.endAngle)/2,g=at(b.cx,b.cy,b.outerRadius+m,v),w=tt(tt(tt(tt({},u),b),{},{stroke:"none"},f),{},{index:y,textAnchor:e.getTextAnchor(g.x,b.cx)},g),C=tt(tt(tt(tt({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:y,points:[at(b.cx,b.cy,b.outerRadius,v),g]}),S=l;return je(l)&&je(c)?S="value":je(l)&&(S=c),L.createElement(He,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},s&&e.renderLabelLineItem(s,C,"line"),e.renderLabelItem(o,w,hn(b,S)))});return L.createElement(He,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,m=f?o:h,x=tt(tt({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return L.createElement(He,As({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Do(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),L.createElement(N$,As({option:m,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return L.createElement(Oi,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var b=x.t,y=[],v=a&&a[0],g=v.startAngle;return a.forEach(function(w,C){var S=h&&h[C],A=C>0?zn(w,"paddingAngle",0):0;if(S){var E=Hi(S.endAngle-S.startAngle,w.endAngle-w.startAngle),T=tt(tt({},w),{},{startAngle:g+A,endAngle:g+E(b)+A});y.push(T),g=T.endAngle}else{var P=w.endAngle,I=w.startAngle,N=Hi(0,P-I),j=N(b),k=tt(tt({},w),{},{startAngle:g+A,endAngle:g+j+A});y.push(k),g=k.endAngle}}),L.createElement(He,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Og(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!te(c)||!te(u)||!te(f)||!te(h))return null;var b=ke("recharts-pie",s);return L.createElement(He,{tabIndex:this.props.rootTabIndex,className:b,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),zt.renderCallByParent(this.props,null,!1),(!m||x)&&_a.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(L.isValidElement(r))return L.cloneElement(r,i);if(Te(r))return r(i);var o=ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return L.createElement(Hx,As({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(L.isValidElement(r))return L.cloneElement(r,i);var o=a;if(Te(r)&&(o=r(i),L.isValidElement(o)))return o;var s=ke("recharts-pie-label-text",typeof r!="boolean"&&!Te(r)?r.className:"");return L.createElement(Mo,As({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(D.PureComponent);xh=$i;tr($i,"displayName","Pie");tr($i,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});tr($i,"parseDeltaAngle",function(t,e){var n=xn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});tr($i,"getRealPieData",function(t){var e=t.data,n=t.children,r=_e(t,!1),i=ar(n,xg);return e&&e.length?e.map(function(a,o){return tt(tt(tt({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return tt(tt({},r),a.props)}):[]});tr($i,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=d$(i,a),s=r+bn(t.cx,i,i/2),l=n+bn(t.cy,a,a/2),c=bn(t.innerRadius,o,0),u=bn(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});tr($i,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?tt(tt({},e.type.defaultProps),e.props):e.props,i=xh.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,f=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),x=xh.parseCoordinateOfPie(r,n),b=xh.parseDeltaAngle(o,s),y=Math.abs(b),v=c;je(c)&&je(f)?(Tr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):je(c)&&(Tr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var g=i.filter(function(T){return hn(T,v,0)!==0}).length,w=(y>=360?g:g-1)*l,C=y-g*m-w,S=i.reduce(function(T,P){var I=hn(P,v,0);return T+(te(I)?I:0)},0),A;if(S>0){var E;A=i.map(function(T,P){var I=hn(T,v,0),N=hn(T,u,P),j=(te(I)?I:0)/S,k;P?k=E.endAngle+xn(b)*l*(I!==0?1:0):k=o;var B=k+xn(b)*((I!==0?m:0)+j*C),$=(k+B)/2,z=(x.innerRadius+x.outerRadius)/2,V=[{name:N,value:I,payload:T,dataKey:v,type:h}],M=at(x.cx,x.cy,z,$);return E=tt(tt(tt({percent:j,cornerRadius:a,name:N,tooltipPayload:V,midAngle:$,middleRadius:z,tooltipPosition:M},T),x),{},{value:hn(T,v),startAngle:k,endAngle:B,payload:T,paddingAngle:xn(b)*l}),E})}return tt(tt({},x),{},{sectors:A,data:i})});var fhe=Math.ceil,dhe=Math.max;function hhe(t,e,n,r){for(var i=-1,a=dhe(fhe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var phe=hhe,mhe=JD,BO=1/0,ghe=17976931348623157e292;function vhe(t){if(!t)return t===0?t:0;if(t=mhe(t),t===BO||t===-BO){var e=t<0?-1:1;return e*ghe}return t===t?t:0}var D$=vhe,yhe=phe,xhe=yg,gy=D$;function bhe(t){return function(e,n,r){return r&&typeof r!="number"&&xhe(e,n,r)&&(n=r=void 0),e=gy(e),n===void 0?(n=e,e=0):n=gy(n),r=r===void 0?e<n?1:-1:gy(r),yhe(e,n,r,t)}}var whe=bhe,_he=whe,Ehe=_he(),The=Ehe;const Qp=Ge(The);function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){M$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M$(t,e,n){return e=She(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=Ahe(t,"string");return vf(e)=="symbol"?e:e+""}function Ahe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Phe=["Webkit","Moz","O","ms"],Ihe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Phe.reduce(function(a,o){return WO(WO({},a),{},M$({},o+r,n))},{});return i[e]=n,i};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jp.apply(this,arguments)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){Mn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ohe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L$(r.key),r)}}function Che(t,e,n){return e&&HO(t.prototype,e),n&&HO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function khe(t,e,n){return e=Zp(e),Nhe(t,$$()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function Nhe(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jhe(t)}function jhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($$=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function Rhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lb(t,e)}function Mn(t,e,n){return e=L$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=Dhe(t,"string");return xl(e)=="symbol"?e:e+""}function Dhe(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mhe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=cu().domain(Qp(0,l)).range([a,a+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},KO=function(e){return e.changedTouches&&!!e.changedTouches.length},bl=function(t){function e(n){var r;return Ohe(this,e),r=khe(this,e,[n]),Mn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Mn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Mn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Mn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Mn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Mn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Mn(r,"handleSlideDragStart",function(i){var a=KO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Rhe(e,t),Che(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(o,f),x=e.getIndexInRange(o,h);return{startIndex:m-m%l,endIndex:x===u?u:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=hn(a[r],s,r);return Te(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,x=l.onChange,b=r.pageX-a;b>0?b=Math.min(b,c+u-f-s,c+u-f-o):b<0&&(b=Math.max(b,c-o,c-s));var y=this.getIndex({startX:o+b,endX:s+b});(y.startIndex!==h||y.endIndex!==m)&&x&&x(y),this.setState({startX:o+b,endX:s+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=KO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,h=u.width,m=u.travellerWidth,x=u.onChange,b=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},g=r.pageX-a;g>0?g=Math.min(g,f+h-m-c):g<0&&(g=Math.max(g,f-c)),v[o]=c+g;var w=this.getIndex(v),C=w.startIndex,S=w.endIndex,A=function(){var T=y.length-1;return o==="startX"&&(s>l?C%b===0:S%b===0)||s<l&&S===T||o==="endX"&&(s>l?S%b===0:C%b===0)||s>l&&S===T};this.setState(Mn(Mn({},o,c+g),"brushMoveStartX",r.pageX),function(){x&&A()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(Mn({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return L.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,f=D.Children.only(c);return f?L.cloneElement(f,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,x=l.data,b=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),g=vy(vy({},_e(this.props,!1)),{},{x:v,y:c,width:u,height:f}),w=m||"Min value: ".concat((a=x[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return L.createElement(He,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,g))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,h=u.endX,m=5,x={pointerEvents:"none",fill:c};return L.createElement(He,{className:"recharts-brush-texts"},L.createElement(Mo,Jp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+s/2},x),this.getTextOfTick(i)),L.createElement(Mo,Jp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:o+s/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,x=h.endX,b=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,g=h.isTravellerFocused;if(!i||!i.length||!te(s)||!te(l)||!te(c)||!te(u)||c<=0||u<=0)return null;var w=ke("recharts-brush",a),C=L.Children.count(o)===1,S=Ihe("userSelect","none");return L.createElement(He,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(b||y||v||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(a+s/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),L.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return L.isValidElement(r)?a=L.cloneElement(r,i):Te(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return vy({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Mhe({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(D.PureComponent);Mn(bl,"displayName","Brush");Mn(bl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $he=e1;function Lhe(t,e){var n;return $he(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Fhe=Lhe,Vhe=SD,Uhe=Gr,Bhe=Fhe,zhe=Rn,Whe=yg;function qhe(t,e,n){var r=zhe(t)?Vhe:Bhe;return n&&Whe(t,e,n)&&(e=void 0),r(t,Uhe(e))}var Hhe=qhe;const Khe=Ge(Hhe);var Wr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},GO=KD;function Ghe(t,e,n){e=="__proto__"&&GO?GO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Yhe=Ghe,Xhe=Yhe,Qhe=qD,Jhe=Gr;function Zhe(t,e){var n={};return e=Jhe(e),Qhe(t,function(r,i,a){Xhe(n,i,e(r,i,a))}),n}var epe=Zhe;const tpe=Ge(epe);function npe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var rpe=npe,ipe=e1;function ape(t,e){var n=!0;return ipe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var ope=ape,spe=rpe,lpe=ope,cpe=Gr,upe=Rn,fpe=yg;function dpe(t,e,n){var r=upe(t)?spe:lpe;return n&&fpe(t,e,n)&&(e=void 0),r(t,cpe(e))}var hpe=dpe;const F$=Ge(hpe);var ppe=["x","y"];function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(this,arguments)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){mpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mpe(t,e,n){return e=gpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gpe(t){var e=vpe(t,"string");return yf(e)=="symbol"?e:e+""}function vpe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ype(t,e){if(t==null)return{};var n=xpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bpe(t,e){var n=t.x,r=t.y,i=ype(t,ppe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return jc(jc(jc(jc(jc({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function XO(t){return L.createElement(N$,cb({shapeType:"rectangle",propTransformer:bpe,activeClassName:"recharts-active-bar"},t))}var wpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Lo(),n)}},_pe=["value","background"],V$;function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Epe(t,e){if(t==null)return{};var n=Tpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){aa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Spe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B$(r.key),r)}}function Ape(t,e,n){return e&&JO(t.prototype,e),n&&JO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ppe(t,e,n){return e=tm(e),Ipe(t,U$()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function Ipe(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ope(t)}function Ope(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U$=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function Cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function aa(t,e,n){return e=B$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B$(t){var e=kpe(t,"string");return wl(e)=="symbol"?e:e+""}function kpe(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gi=function(t){function e(){var n;Spe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ppe(this,e,[].concat(i)),aa(n,"state",{isAnimationFinished:!1}),aa(n,"id",Wf("recharts-bar-")),aa(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),aa(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Cpe(e,t),Ape(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=_e(this.props,!1);return r&&r.map(function(f,h){var m=h===l,x=m?c:o,b=Pt(Pt(Pt({},u),f),{},{isActive:m,option:x,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(He,em({className:"recharts-bar-rectangle"},Do(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(XO,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(Oi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,b=a.map(function(y,v){var g=h&&h[v];if(g){var w=Hi(g.x,y.x),C=Hi(g.y,y.y),S=Hi(g.width,y.width),A=Hi(g.height,y.height);return Pt(Pt({},y),{},{x:w(x),y:C(x),width:S(x),height:A(x)})}if(o==="horizontal"){var E=Hi(0,y.height),T=E(x);return Pt(Pt({},y),{},{y:y.y+y.height-T,height:T})}var P=Hi(0,y.width),I=P(x);return Pt(Pt({},y),{},{width:I})});return L.createElement(He,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Og(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=_e(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=Epe(c,_pe);if(!f)return null;var m=Pt(Pt(Pt(Pt(Pt({},h),{},{fill:"#eee"},f),l),Do(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return L.createElement(XO,em({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=ar(u,Ng);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,m=function(y,v){var g=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:g,errorVal:hn(y,v)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return L.createElement(He,x,f.map(function(b){return L.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,h=r.height,m=r.isAnimationActive,x=r.background,b=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=ke("recharts-bar",o),g=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,C=g||w,S=je(b)?this.id:b;return L.createElement(He,{className:v},g||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(S)},L.createElement("rect",{x:g?c:c-f/2,y:w?u:u-h/2,width:g?f:f*2,height:w?h:h*2}))):null,L.createElement(He,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!m||y)&&_a.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);V$=gi;aa(gi,"displayName","Bar");aa(gi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});aa(gi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,m=fle(r,n);if(!m)return null;var x=e.layout,b=n.type.defaultProps,y=b!==void 0?Pt(Pt({},b),n.props):n.props,v=y.dataKey,g=y.children,w=y.minPointSize,C=x==="horizontal"?o:a,S=c?C.scale.domain():null,A=yle({numericAxis:C}),E=ar(g,xg),T=f.map(function(P,I){var N,j,k,B,$,z;c?N=dle(c[u+I],S):(N=hn(P,v),Array.isArray(N)||(N=[A,N]));var V=wpe(w,V$.defaultProps.minPointSize)(N[1],I);if(x==="horizontal"){var M,F=[o.scale(N[0]),o.scale(N[1])],U=F[0],q=F[1];j=UI({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:P,index:I}),k=(M=q??U)!==null&&M!==void 0?M:void 0,B=m.size;var W=U-q;if($=Number.isNaN(W)?0:W,z={x:j,y:o.y,width:B,height:o.height},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var X=xn($||V)*(Math.abs(V)-Math.abs($));k-=X,$+=X}}else{var ee=[a.scale(N[0]),a.scale(N[1])],fe=ee[0],he=ee[1];if(j=fe,k=UI({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:P,index:I}),B=he-fe,$=m.size,z={x:a.x,y:k,width:a.width,height:$},Math.abs(V)>0&&Math.abs(B)<Math.abs(V)){var Oe=xn(B||V)*(Math.abs(V)-Math.abs(B));B+=Oe}}return Pt(Pt(Pt({},P),{},{x:j,y:k,width:B,height:$,value:c?N:N[1],payload:P,background:z},E&&E[I]&&E[I].props),{},{tooltipPayload:[u$(n,P)],tooltipPosition:{x:j+B/2,y:k+$/2}})});return Pt({data:T,layout:x},h)});function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Npe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z$(r.key),r)}}function jpe(t,e,n){return e&&ZO(t.prototype,e),n&&ZO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){Fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fg(t,e,n){return e=z$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t){var e=Rpe(t,"string");return xf(e)=="symbol"?e:e+""}function Rpe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dpe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ln(c,gi);return u.reduce(function(m,x){var b=n[x],y=b.orientation,v=b.domain,g=b.padding,w=g===void 0?{}:g,C=b.mirror,S=b.reversed,A="".concat(y).concat(C?"Mirror":""),E,T,P,I,N;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var j=v[1]-v[0],k=1/0,B=b.categoricalDomain.sort(XH);if(B.forEach(function(ee,fe){fe>0&&(k=Math.min((ee||0)-(B[fe-1]||0),k))}),Number.isFinite(k)){var $=k/j,z=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(E=$*z/2),b.padding==="no-gap"){var V=bn(e.barCategoryGap,$*z),M=$*z/2;E=M-V-(M-V)/z*V}}}i==="xAxis"?T=[r.left+(w.left||0)+(E||0),r.left+r.width-(w.right||0)-(E||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(E||0),r.top+r.height-(w.bottom||0)-(E||0)]:T=b.range,S&&(T=[T[1],T[0]]);var F=o$(b,a,h),U=F.scale,q=F.realScaleType;U.domain(v).range(T),s$(U);var W=l$(U,yr(yr({},b),{},{realScaleType:q}));i==="xAxis"?(N=y==="top"&&!C||y==="bottom"&&C,P=r.left,I=f[A]-N*b.height):i==="yAxis"&&(N=y==="left"&&!C||y==="right"&&C,P=f[A]-N*b.width,I=r.top);var X=yr(yr(yr({},b),W),{},{realScaleType:q,x:P,y:I,scale:U,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return X.bandSize=Fp(X,W),!b.hide&&i==="xAxis"?f[A]+=(N?-1:1)*X.height:b.hide||(f[A]+=(N?-1:1)*X.width),yr(yr({},m),{},Fg({},x,X))},{})},W$=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Mpe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return W$({x:n,y:r},{x:i,y:a})},q$=function(){function t(e){Npe(this,t),this.scale=e}return jpe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Fg(q$,"EPS",1e-4);var C1=function(e){var n=Object.keys(e).reduce(function(r,i){return yr(yr({},r),{},Fg({},i,q$.create(e[i])))},{});return yr(yr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return tpe(i,function(l,c){return n[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return F$(i,function(a,o){return n[o].isInRange(a)})}})};function $pe(t){return(t%180+180)%180}var Lpe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$pe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Fpe=Gr,Vpe=qf,Upe=gg;function Bpe(t){return function(e,n,r){var i=Object(e);if(!Vpe(e)){var a=Fpe(n);e=Upe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var zpe=Bpe,Wpe=D$;function qpe(t){var e=Wpe(t),n=e%1;return e===e?n?e-n:e:0}var Hpe=qpe,Kpe=FD,Gpe=Gr,Ype=Hpe,Xpe=Math.max;function Qpe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Ype(n);return i<0&&(i=Xpe(r+i,0)),Kpe(t,Gpe(e),i)}var Jpe=Qpe,Zpe=zpe,eme=Jpe,tme=Zpe(eme),nme=tme;const rme=Ge(nme);var ime=Jq(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),k1=D.createContext(void 0),N1=D.createContext(void 0),H$=D.createContext(void 0),K$=D.createContext({}),G$=D.createContext(void 0),Y$=D.createContext(0),X$=D.createContext(0),tC=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=ime(a);return L.createElement(k1.Provider,{value:r},L.createElement(N1.Provider,{value:i},L.createElement(K$.Provider,{value:a},L.createElement(H$.Provider,{value:u},L.createElement(G$.Provider,{value:o},L.createElement(Y$.Provider,{value:c},L.createElement(X$.Provider,{value:l},s)))))))},ame=function(){return D.useContext(G$)},Q$=function(e){var n=D.useContext(k1);n==null&&Lo();var r=n[e];return r==null&&Lo(),r},ome=function(){var e=D.useContext(k1);return ea(e)},sme=function(){var e=D.useContext(N1),n=rme(e,function(r){return F$(r.domain,Number.isFinite)});return n||ea(e)},J$=function(e){var n=D.useContext(N1);n==null&&Lo();var r=n[e];return r==null&&Lo(),r},lme=function(){var e=D.useContext(H$);return e},cme=function(){return D.useContext(K$)},j1=function(){return D.useContext(X$)},R1=function(){return D.useContext(Y$)};function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eL(r.key),r)}}function dme(t,e,n){return e&&fme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hme(t,e,n){return e=nm(e),pme(t,Z$()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function pme(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mme(t)}function mme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z$=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fb(t,e)}function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(n),!0).forEach(function(r){D1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D1(t,e,n){return e=eL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eL(t){var e=vme(t,"string");return _l(e)=="symbol"?e:e+""}function vme(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yme(t,e){return _me(t)||wme(t,e)||bme(t,e)||xme()}function xme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(t,e){if(t){if(typeof t=="string")return iC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iC(t,e)}}function iC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _me(t){if(Array.isArray(t))return t}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(this,arguments)}var Eme=function(e,n){var r;return L.isValidElement(e)?r=L.cloneElement(e,n):Te(e)?r=e(n):r=L.createElement("line",db({},n,{className:"recharts-reference-line-line"})),r},Tme=function(e,n,r,i,a,o,s,l,c){var u=a.x,f=a.y,h=a.width,m=a.height;if(r){var x=c.y,b=e.y.apply(x,{position:o});if(Wr(c,"discard")&&!e.y.isInRange(b))return null;var y=[{x:u+h,y:b},{x:u,y:b}];return l==="left"?y.reverse():y}if(n){var v=c.x,g=e.x.apply(v,{position:o});if(Wr(c,"discard")&&!e.x.isInRange(g))return null;var w=[{x:g,y:f+m},{x:g,y:f}];return s==="top"?w.reverse():w}if(i){var C=c.segment,S=C.map(function(A){return e.apply(A,{position:o})});return Wr(c,"discard")&&Khe(S,function(A){return!e.isInRange(A)})?null:S}return null};function Sme(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=ame(),u=Q$(i),f=J$(a),h=lme();if(!c||!h)return null;Tr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=C1({x:u.scale,y:f.scale}),x=Dt(e),b=Dt(n),y=r&&r.length===2,v=Tme(m,x,b,y,h,t.position,u.orientation,f.orientation,t);if(!v)return null;var g=yme(v,2),w=g[0],C=w.x,S=w.y,A=g[1],E=A.x,T=A.y,P=Wr(t,"hidden")?"url(#".concat(c,")"):void 0,I=rC(rC({clipPath:P},_e(t,!0)),{},{x1:C,y1:S,x2:E,y2:T});return L.createElement(He,{className:ke("recharts-reference-line",s)},Eme(o,I),zt.renderCallByParent(t,Mpe({x1:C,y1:S,x2:E,y2:T})))}var M1=function(t){function e(){return ume(this,e),hme(this,e,arguments)}return gme(e,t),dme(e,[{key:"render",value:function(){return L.createElement(Sme,this.props)}}])}(L.Component);D1(M1,"displayName","ReferenceLine");D1(M1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function aC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(n),!0).forEach(function(r){Vg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ame(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nL(r.key),r)}}function Ime(t,e,n){return e&&Pme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ome(t,e,n){return e=rm(e),Cme(t,tL()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function Cme(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kme(t)}function kme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tL=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function Nme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pb(t,e)}function pb(t,e){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pb(t,e)}function Vg(t,e,n){return e=nL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nL(t){var e=jme(t,"string");return El(e)=="symbol"?e:e+""}function jme(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rme=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=C1({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Wr(e,"discard")&&!o.isInRange(s)?null:s},Ug=function(t){function e(){return Ame(this,e),Ome(this,e,arguments)}return Nme(e,t),Ime(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,c=Dt(i),u=Dt(a);if(Tr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Rme(this.props);if(!f)return null;var h=f.x,m=f.y,x=this.props,b=x.shape,y=x.className,v=Wr(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=oC(oC({clipPath:v},_e(this.props,!0)),{},{cx:h,cy:m});return L.createElement(He,{className:ke("recharts-reference-dot",y)},e.renderDot(b,g),zt.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(L.Component);Vg(Ug,"displayName","ReferenceDot");Vg(Ug,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Vg(Ug,"renderDot",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):Te(t)?n=t(e):n=L.createElement(O1,hb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){Bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iL(r.key),r)}}function $me(t,e,n){return e&&Mme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lme(t,e,n){return e=im(e),Fme(t,rL()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function Fme(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vme(t)}function Vme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function Ume(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gb(t,e)}function gb(t,e){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gb(t,e)}function Bg(t,e,n){return e=iL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iL(t){var e=Bme(t,"string");return Tl(e)=="symbol"?e:e+""}function Bme(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zme=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=C1({x:u.scale,y:f.scale}),m={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},x={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Wr(a,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:W$(m,x)},zg=function(t){function e(){return Dme(this,e),Lme(this,e,arguments)}return Ume(e,t),$me(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Tr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dt(i),h=Dt(a),m=Dt(o),x=Dt(s),b=this.props.shape;if(!f&&!h&&!m&&!x&&!b)return null;var y=zme(f,h,m,x,this.props);if(!y&&!b)return null;var v=Wr(this.props,"hidden")?"url(#".concat(u,")"):void 0;return L.createElement(He,{className:ke("recharts-reference-area",l)},e.renderRect(b,lC(lC({clipPath:v},_e(this.props,!0)),y)),zt.renderCallByParent(this.props,y))}}])}(L.Component);Bg(zg,"displayName","ReferenceArea");Bg(zg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bg(zg,"renderRect",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):Te(t)?n=t(e):n=L.createElement(I1,mb({},e,{className:"recharts-reference-area-rect"})),n});function aL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Wme(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Lpe(r,n)}function qme(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function am(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Hme(t,e){return aL(t,e+1)}function Kme(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,f=function(){var x=r==null?void 0:r[l];if(x===void 0)return{v:aL(r,c)};var b=l,y,v=function(){return y===void 0&&(y=n(x,b)),y},g=x.coordinate,w=l===0||am(t,g,v,u,s);w||(l=0,u=o,c+=1),w&&(u=g+t*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function cC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(n),!0).forEach(function(r){Gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gme(t,e,n){return e=Yme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=Xme(t,"string");return bf(e)=="symbol"?e:e+""}function Xme(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qme(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var m=a[h],x,b=function(){return x===void 0&&(x=n(m,h)),x};if(h===o-1){var y=t*(m.coordinate+t*b()/2-l);a[h]=m=ln(ln({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else a[h]=m=ln(ln({},m),{},{tickCoord:m.coordinate});var v=am(t,m.tickCoord,b,s,l);v&&(l=m.tickCoord-t*(b()/2+i),a[h]=ln(ln({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function Jme(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=r[s-1],f=n(u,s-1),h=t*(u.coordinate+t*f/2-c);o[s-1]=u=ln(ln({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var m=am(t,u.tickCoord,function(){return f},l,c);m&&(c=u.tickCoord-t*(f/2+i),o[s-1]=ln(ln({},u),{},{isShow:!0}))}for(var x=a?s-1:s,b=function(g){var w=o[g],C,S=function(){return C===void 0&&(C=n(w,g)),C};if(g===0){var A=t*(w.coordinate-t*S()/2-l);o[g]=w=ln(ln({},w),{},{tickCoord:A<0?w.coordinate-A*t:w.coordinate})}else o[g]=w=ln(ln({},w),{},{tickCoord:w.coordinate});var E=am(t,w.tickCoord,S,l,c);E&&(l=w.tickCoord+t*(S()/2+i),o[g]=ln(ln({},w),{},{isShow:!0}))},y=0;y<x;y++)b(y);return o}function $1(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(te(l)||pi.isSsr)return Hme(i,typeof l=="number"&&te(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",x=u&&m==="width"?lu(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(w,C){var S=Te(c)?c(w.value,C):w.value;return m==="width"?Wme(lu(S,{fontSize:e,letterSpacing:n}),x,f):lu(S,{fontSize:e,letterSpacing:n})[m]},y=i.length>=2?xn(i[1].coordinate-i[0].coordinate):1,v=qme(a,y,m);return l==="equidistantPreserveStart"?Kme(y,v,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Jme(y,v,b,i,o,l==="preserveStartEnd"):h=Qme(y,v,b,i,o),h.filter(function(g){return g.isShow}))}var Zme=["viewBox"],ege=["viewBox"],tge=["ticks"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}function uC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(r){L1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yy(t,e){if(t==null)return{};var n=nge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sL(r.key),r)}}function ige(t,e,n){return e&&fC(t.prototype,e),n&&fC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function age(t,e,n){return e=om(e),oge(t,oL()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function oge(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sge(t)}function sge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oL=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function lge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vb(t,e)}function L1(t,e,n){return e=sL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sL(t){var e=cge(t,"string");return Sl(e)=="symbol"?e:e+""}function cge(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ec=function(t){function e(n){var r;return rge(this,e),r=age(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return lge(e,t),ige(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=yy(r,Zme),s=this.props,l=s.viewBox,c=yy(s,ege);return!Fs(a,l)||!Fs(o,c)||!Fs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,m,x,b,y,v,g,w=f?-1:1,C=r.tickSize||u,S=te(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=x=r.coordinate,y=o+ +!f*l,b=y-w*C,g=b-w*h,v=S;break;case"left":b=y=r.coordinate,x=a+ +!f*s,m=x-w*C,v=m-w*h,g=S;break;case"right":b=y=r.coordinate,x=a+ +f*s,m=x+w*C,v=m+w*h,g=S;break;default:m=x=r.coordinate,y=o+ +f*l,b=y+w*C,g=b+w*h,v=S;break}return{line:{x1:m,y1:b,x2:x,y2:y},tick:{x:v,y:g}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=vn(vn(vn({},_e(this.props,!1)),_e(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=vn(vn({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var m=+(l==="left"&&!c||l==="right"&&c);f=vn(vn({},f),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return L.createElement("line",Ps({},f,{className:ke("recharts-cartesian-axis-line",zn(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,m=$1(vn(vn({},this.props),{},{ticks:r}),i,a),x=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=_e(this.props,!1),v=_e(u,!1),g=vn(vn({},y),{},{fill:"none"},_e(l,!1)),w=m.map(function(C,S){var A=o.getTickLineCoord(C),E=A.line,T=A.tick,P=vn(vn(vn(vn({textAnchor:x,verticalAnchor:b},y),{},{stroke:"none",fill:c},v),T),{},{index:S,payload:C,visibleTicksCount:m.length,tickFormatter:f});return L.createElement(He,Ps({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Do(o.props,C,S)),l&&L.createElement("line",Ps({},g,E,{className:ke("recharts-cartesian-axis-tick-line",zn(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(Te(f)?f(C.value,S):C.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,m=yy(f,tge),x=h;return Te(l)&&(x=h&&h.length>0?l(this.props):l(m)),o<=0||s<=0||!x||!x.length?null:L.createElement(He,{className:ke("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),zt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return L.isValidElement(r)?o=L.cloneElement(r,i):Te(r)?o=r(i):o=L.createElement(Mo,Ps({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(D.Component);L1(ec,"displayName","CartesianAxis");L1(ec,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uge=["x1","y1","x2","y2","key"],fge=["offset"];function Fo(t){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(t)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){dge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dge(t,e,n){return e=hge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=pge(t,"string");return Fo(e)=="symbol"?e:e+""}function pge(t,e){if(Fo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vo(){return vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vo.apply(this,arguments)}function hC(t,e){if(t==null)return{};var n=mge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gge=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return L.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function lL(t,e){var n;if(L.isValidElement(t))n=L.cloneElement(t,e);else if(Te(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=hC(e,uge),c=_e(l,!1);c.offset;var u=hC(c,fge);n=L.createElement("line",vo({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function vge(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=dn(dn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return lL(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function yge(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=dn(dn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return lL(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function xge(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==u[0]&&u.unshift(0);var f=u.map(function(h,m){var x=!u[m+1],b=x?i+o-h:u[m+1]-h;if(b<=0)return null;var y=m%e.length;return L.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:b,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function bge(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==u[0]&&u.unshift(0);var f=u.map(function(h,m){var x=!u[m+1],b=x?a+s-h:u[m+1]-h;if(b<=0)return null;var y=m%r.length;return L.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:b,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wge=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return a$($1(dn(dn(dn({},ec.defaultProps),r),{},{ticks:ci(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},_ge=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return a$($1(dn(dn(dn({},ec.defaultProps),r),{},{ticks:ci(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},os={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function cL(t){var e,n,r,i,a,o,s=j1(),l=R1(),c=cme(),u=dn(dn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:os.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:os.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:os.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:os.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:os.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:os.verticalFill,x:te(t.x)?t.x:c.left,y:te(t.y)?t.y:c.top,width:te(t.width)?t.width:c.width,height:te(t.height)?t.height:c.height}),f=u.x,h=u.y,m=u.width,x=u.height,b=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,g=ome(),w=sme();if(!te(m)||m<=0||!te(x)||x<=0||!te(f)||f!==+f||!te(h)||h!==+h)return null;var C=u.verticalCoordinatesGenerator||wge,S=u.horizontalCoordinatesGenerator||_ge,A=u.horizontalPoints,E=u.verticalPoints;if((!A||!A.length)&&Te(S)){var T=y&&y.length,P=S({yAxis:w?dn(dn({},w),{},{ticks:T?y:w.ticks}):void 0,width:s,height:l,offset:c},T?!0:b);Tr(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fo(P),"]")),Array.isArray(P)&&(A=P)}if((!E||!E.length)&&Te(C)){var I=v&&v.length,N=C({xAxis:g?dn(dn({},g),{},{ticks:I?v:g.ticks}):void 0,width:s,height:l,offset:c},I?!0:b);Tr(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fo(N),"]")),Array.isArray(N)&&(E=N)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(gge,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),L.createElement(vge,vo({},u,{offset:c,horizontalPoints:A,xAxis:g,yAxis:w})),L.createElement(yge,vo({},u,{offset:c,verticalPoints:E,xAxis:g,yAxis:w})),L.createElement(xge,vo({},u,{horizontalPoints:A})),L.createElement(bge,vo({},u,{verticalPoints:E})))}cL.displayName="CartesianGrid";function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function Ege(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dL(r.key),r)}}function Sge(t,e,n){return e&&Tge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Age(t,e,n){return e=sm(e),Pge(t,uL()?Reflect.construct(e,n||[],sm(t).constructor):e.apply(t,n))}function Pge(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ige(t)}function Ige(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uL=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}function Oge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yb(t,e)}function fL(t,e,n){return e=dL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dL(t){var e=Cge(t,"string");return Al(e)=="symbol"?e:e+""}function Cge(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(this,arguments)}function kge(t){var e=t.xAxisId,n=j1(),r=R1(),i=Q$(e);return i==null?null:L.createElement(ec,xb({},i,{className:ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ci(o,!0)}}))}var Wg=function(t){function e(){return Ege(this,e),Age(this,e,arguments)}return Oge(e,t),Sge(e,[{key:"render",value:function(){return L.createElement(kge,this.props)}}])}(L.Component);fL(Wg,"displayName","XAxis");fL(Wg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Nge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mL(r.key),r)}}function Rge(t,e,n){return e&&jge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dge(t,e,n){return e=lm(e),Mge(t,hL()?Reflect.construct(e,n||[],lm(t).constructor):e.apply(t,n))}function Mge(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ge(t)}function $ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lm(t)}function Lge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bb(t,e)}function pL(t,e,n){return e=mL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mL(t){var e=Fge(t,"string");return Pl(e)=="symbol"?e:e+""}function Fge(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(this,arguments)}var Vge=function(e){var n=e.yAxisId,r=j1(),i=R1(),a=J$(n);return a==null?null:L.createElement(ec,wb({},a,{className:ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ci(s,!0)}}))},qg=function(t){function e(){return Nge(this,e),Dge(this,e,arguments)}return Lge(e,t),Rge(e,[{key:"render",value:function(){return L.createElement(Vge,this.props)}}])}(L.Component);pL(qg,"displayName","YAxis");pL(qg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pC(t){return Wge(t)||zge(t)||Bge(t)||Uge()}function Uge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bge(t,e){if(t){if(typeof t=="string")return _b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _b(t,e)}}function zge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wge(t){if(Array.isArray(t))return _b(t)}function _b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Eb=function(e,n,r,i,a){var o=ar(e,M1),s=ar(e,Ug),l=[].concat(pC(o),pC(s)),c=ar(e,zg),u="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,y){if(y.props[u]===r&&Wr(y.props,"extendDomain")&&te(y.props[f])){var v=y.props[f];return[Math.min(b[0],v),Math.max(b[1],v)]}return b},h)),c.length){var m="".concat(f,"1"),x="".concat(f,"2");h=c.reduce(function(b,y){if(y.props[u]===r&&Wr(y.props,"extendDomain")&&te(y.props[m])&&te(y.props[x])){var v=y.props[m],g=y.props[x];return[Math.min(b[0],v,g),Math.max(b[1],v,g)]}return b},h)}return a&&a.length&&(h=a.reduce(function(b,y){return te(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},h)),h},gL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,f||l,h),x=n?n+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],m]:l._events[x].push(m):(l._events[x]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,m,x){var b=n?n+c:c;if(!this._events[b])return!1;var y=this._events[b],v=arguments.length,g,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,m),!0;case 6:return y.fn.call(y.context,u,f,h,m,x),!0}for(w=1,g=new Array(v-1);w<v;w++)g[w-1]=arguments[w];y.fn.apply(y.context,g)}else{var C=y.length,S;for(w=0;w<C;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,f);break;case 4:y[w].fn.call(y[w].context,u,f,h);break;default:if(!g)for(S=1,g=new Array(v-1);S<v;S++)g[S-1]=arguments[S];y[w].fn.apply(y[w].context,g)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===u&&(!h||x.once)&&(!f||x.context===f)&&o(this,m);else{for(var b=0,y=[],v=x.length;b<v;b++)(x[b].fn!==u||h&&!x[b].once||f&&x[b].context!==f)&&y.push(x[b]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(gL);var qge=gL.exports;const Hge=Ge(qge);var xy=new Hge,by="recharts.syncMouseEvents";function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vL(r.key),r)}}function Yge(t,e,n){return e&&Gge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wy(t,e,n){return e=vL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vL(t){var e=Xge(t,"string");return wf(e)=="symbol"?e:e+""}function Xge(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qge=function(){function t(){Kge(this,t),wy(this,"activeIndex",0),wy(this,"coordinateList",[]),wy(this,"layout","horizontal")}return Yge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Jge(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&te(r)&&te(i))return!0}return!1}function Zge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function yL(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=at(e,n,r,i),s=at(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function eve(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=at(s,l,c,f),m=at(s,l,u,f);r=h.x,i=h.y,a=m.x,o=m.y}else return yL(e);return[{x:r,y:i},{x:a,y:o}]}function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function mC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(n),!0).forEach(function(r){tve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tve(t,e,n){return e=nve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nve(t){var e=rve(t,"string");return _f(e)=="symbol"?e:e+""}function rve(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ive(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var x,b=Hx;if(h==="ScatterChart")x=o,b=Dfe;else if(h==="BarChart")x=Zge(f,o,l,u),b=I1;else if(f==="radial"){var y=yL(o),v=y.cx,g=y.cy,w=y.radius,C=y.startAngle,S=y.endAngle;x={cx:v,cy:g,startAngle:C,endAngle:S,innerRadius:w,outerRadius:w},b=g$}else x={points:eve(f,o,l)},b=Hx;var A=Gd(Gd(Gd(Gd({stroke:"#ccc",pointerEvents:"none"},l),x),_e(m,!1)),{},{payload:s,payloadIndex:c,className:ke("recharts-tooltip-cursor",m.className)});return D.isValidElement(m)?D.cloneElement(m,A):D.createElement(b,A)}var ave=["item"],ove=["children","className","width","height","style","compact","title","desc"];function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Is.apply(this,arguments)}function gC(t,e){return cve(t)||lve(t,e)||bL(t,e)||sve()}function sve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function cve(t){if(Array.isArray(t))return t}function vC(t,e){if(t==null)return{};var n=uve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wL(r.key),r)}}function hve(t,e,n){return e&&dve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pve(t,e,n){return e=cm(e),mve(t,xL()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function mve(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gve(t)}function gve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xL=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function vve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tb(t,e)}function Tb(t,e){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tb(t,e)}function Ol(t){return bve(t)||xve(t)||bL(t)||yve()}function yve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bL(t,e){if(t){if(typeof t=="string")return Sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sb(t,e)}}function xve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bve(t){if(Array.isArray(t))return Sb(t)}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(r){ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ye(t,e,n){return e=wL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wL(t){var e=wve(t,"string");return Il(e)=="symbol"?e:e+""}function wve(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ve={xAxis:["bottom","top"],yAxis:["left","right"]},Eve={width:"100%",height:"100%"},_L={x:0,y:0};function Yd(t){return t}var Tve=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Sve=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Y(Y(Y({},i),at(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return Y(Y(Y({},i),at(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return _L},Hg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ol(s),Ol(c)):s},[]);return o.length>0?o:e&&e.length&&te(i)&&te(a)?e.slice(i,a+1):[]};function EL(t){return t==="number"?[0,"auto"]:void 0}var Ab=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Hg(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;h=ex(m,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Ol(l),[u$(c,h)]):l},[])},xC=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Tve(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=ale(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=Ab(e,n,u,f),m=Sve(r,s,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Ave=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,m=i$(u,a);return r.reduce(function(x,b){var y,v=b.type.defaultProps!==void 0?Y(Y({},b.type.defaultProps),b.props):b.props,g=v.type,w=v.dataKey,C=v.allowDataOverflow,S=v.allowDuplicatedCategory,A=v.scale,E=v.ticks,T=v.includeHidden,P=v[o];if(x[P])return x;var I=Hg(e.data,{graphicalItems:i.filter(function(W){var X,ee=o in W.props?W.props[o]:(X=W.type.defaultProps)===null||X===void 0?void 0:X[o];return ee===P}),dataStartIndex:l,dataEndIndex:c}),N=I.length,j,k,B;Jge(v.domain,C,g)&&(j=Ux(v.domain,null,C),m&&(g==="number"||A!=="auto")&&(B=uu(I,w,"category")));var $=EL(g);if(!j||j.length===0){var z,V=(z=v.domain)!==null&&z!==void 0?z:$;if(w){if(j=uu(I,w,g),g==="category"&&m){var M=YH(j);S&&M?(k=j,j=Qp(0,N)):S||(j=WI(V,j,b).reduce(function(W,X){return W.indexOf(X)>=0?W:[].concat(Ol(W),[X])},[]))}else if(g==="category")S?j=j.filter(function(W){return W!==""&&!je(W)}):j=WI(V,j,b).reduce(function(W,X){return W.indexOf(X)>=0||X===""||je(X)?W:[].concat(Ol(W),[X])},[]);else if(g==="number"){var F=ule(I,i.filter(function(W){var X,ee,fe=o in W.props?W.props[o]:(X=W.type.defaultProps)===null||X===void 0?void 0:X[o],he="hide"in W.props?W.props.hide:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return fe===P&&(T||!he)}),w,a,u);F&&(j=F)}m&&(g==="number"||A!=="auto")&&(B=uu(I,w,"category"))}else m?j=Qp(0,N):s&&s[P]&&s[P].hasStack&&g==="number"?j=h==="expand"?[0,1]:c$(s[P].stackGroups,l,c):j=r$(I,i.filter(function(W){var X=o in W.props?W.props[o]:W.type.defaultProps[o],ee="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return X===P&&(T||!ee)}),g,u,!0);if(g==="number")j=Eb(f,j,P,a,E),V&&(j=Ux(V,j,C));else if(g==="category"&&V){var U=V,q=j.every(function(W){return U.indexOf(W)>=0});q&&(j=U)}}return Y(Y({},x),{},ye({},P,Y(Y({},v),{},{axisType:a,domain:j,categoricalDomain:B,duplicateDomain:k,originalDomain:(y=v.domain)!==null&&y!==void 0?y:$,isCategorical:m,layout:u})))},{})},Pve=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=Hg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=h.length,x=i$(u,a),b=-1;return r.reduce(function(y,v){var g=v.type.defaultProps!==void 0?Y(Y({},v.type.defaultProps),v.props):v.props,w=g[o],C=EL("number");if(!y[w]){b++;var S;return x?S=Qp(0,m):s&&s[w]&&s[w].hasStack?(S=c$(s[w].stackGroups,l,c),S=Eb(f,S,w,a)):(S=Ux(C,r$(h,r.filter(function(A){var E,T,P=o in A.props?A.props[o]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[o],I="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===w&&!I}),"number",u),i.defaultProps.allowDataOverflow),S=Eb(f,S,w,a)),Y(Y({},y),{},ye({},w,Y(Y({axisType:a},i.defaultProps),{},{hide:!0,orientation:zn(_ve,"".concat(a,".").concat(b%2),null),domain:S,originalDomain:C,isCategorical:x,layout:u})))}return y},{})},Ive=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=ar(u,a),m={};return h&&h.length?m=Ave(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(m=Pve(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),m},Ove=function(e){var n=ea(e),r=ci(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:t1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Fp(n,r)}},bC=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ln(n,bl),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Cve=function(e){return!e||!e.length?!1:e.some(function(n){var r=hi(n&&n.type);return r&&r.indexOf("Bar")>=0})},wC=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kve=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,f=r.children,h=r.margin||{},m=Ln(f,bl),x=Ln(f,ba),b=Object.keys(l).reduce(function(S,A){var E=l[A],T=E.orientation;return!E.mirror&&!E.hide?Y(Y({},S),{},ye({},T,S[T]+E.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(S,A){var E=o[A],T=E.orientation;return!E.mirror&&!E.hide?Y(Y({},S),{},ye({},T,zn(S,"".concat(T))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=Y(Y({},y),b),g=v.bottom;m&&(v.bottom+=m.props.height||bl.defaultProps.height),x&&n&&(v=lle(v,i,r,n));var w=c-v.left-v.right,C=u-v.top-v.bottom;return Y(Y({brushBottom:g},v),{},{width:Math.max(w,0),height:Math.max(C,0)})},Nve=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},TL=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(v,g){var w=g.graphicalItems,C=g.stackGroups,S=g.offset,A=g.updateId,E=g.dataStartIndex,T=g.dataEndIndex,P=v.barSize,I=v.layout,N=v.barGap,j=v.barCategoryGap,k=v.maxBarSize,B=wC(I),$=B.numericAxisName,z=B.cateAxisName,V=Cve(w),M=[];return w.forEach(function(F,U){var q=Hg(v.data,{graphicalItems:[F],dataStartIndex:E,dataEndIndex:T}),W=F.type.defaultProps!==void 0?Y(Y({},F.type.defaultProps),F.props):F.props,X=W.dataKey,ee=W.maxBarSize,fe=W["".concat($,"Id")],he=W["".concat(z,"Id")],Oe={},et=l.reduce(function(Ht,Kn){var Gn=g["".concat(Kn.axisType,"Map")],ae=W["".concat(Kn.axisType,"Id")];Gn&&Gn[ae]||Kn.axisType==="zAxis"||Lo();var me=Gn[ae];return Y(Y({},Ht),{},ye(ye({},Kn.axisType,me),"".concat(Kn.axisType,"Ticks"),ci(me)))},Oe),ne=et[z],se=et["".concat(z,"Ticks")],re=C&&C[fe]&&C[fe].hasStack&&xle(F,C[fe].stackGroups),G=hi(F.type).indexOf("Bar")>=0,Pe=Fp(ne,se),de=[],Ee=V&&ole({barSize:P,stackGroups:C,totalSize:Nve(et,z)});if(G){var Ue,we,$e=je(ee)?k:ee,ve=(Ue=(we=Fp(ne,se,!0))!==null&&we!==void 0?we:$e)!==null&&Ue!==void 0?Ue:0;de=sle({barGap:N,barCategoryGap:j,bandSize:ve!==Pe?ve:Pe,sizeList:Ee[he],maxBarSize:$e}),ve!==Pe&&(de=de.map(function(Ht){return Y(Y({},Ht),{},{position:Y(Y({},Ht.position),{},{offset:Ht.position.offset-ve/2})})}))}var xt=F&&F.type&&F.type.getComposedData;xt&&M.push({props:Y(Y({},xt(Y(Y({},et),{},{displayedData:q,props:v,dataKey:X,item:F,bandSize:Pe,barPosition:de,offset:S,stackedData:re,layout:I,dataStartIndex:E,dataEndIndex:T}))),{},ye(ye(ye({key:F.key||"item-".concat(U)},$,et[$]),z,et[z]),"animationId",A)),childIndex:sK(F,v.children),item:F})}),M},m=function(v,g){var w=v.props,C=v.dataStartIndex,S=v.dataEndIndex,A=v.updateId;if(!LA({props:w}))return null;var E=w.children,T=w.layout,P=w.stackOffset,I=w.data,N=w.reverseStackOrder,j=wC(T),k=j.numericAxisName,B=j.cateAxisName,$=ar(E,r),z=vle(I,$,"".concat(k,"Id"),"".concat(B,"Id"),P,N),V=l.reduce(function(W,X){var ee="".concat(X.axisType,"Map");return Y(Y({},W),{},ye({},ee,Ive(w,Y(Y({},X),{},{graphicalItems:$,stackGroups:X.axisType===k&&z,dataStartIndex:C,dataEndIndex:S}))))},{}),M=kve(Y(Y({},V),{},{props:w,graphicalItems:$}),g==null?void 0:g.legendBBox);Object.keys(V).forEach(function(W){V[W]=u(w,V[W],M,W.replace("Map",""),n)});var F=V["".concat(B,"Map")],U=Ove(F),q=h(w,Y(Y({},V),{},{dataStartIndex:C,dataEndIndex:S,updateId:A,graphicalItems:$,stackGroups:z,offset:M}));return Y(Y({formattedGraphicalItems:q,graphicalItems:$,offset:M,stackGroups:z},U),V)},x=function(y){function v(g){var w,C,S;return fve(this,v),S=pve(this,v,[g]),ye(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ye(S,"accessibilityManager",new Qge),ye(S,"handleLegendBBoxUpdate",function(A){if(A){var E=S.state,T=E.dataStartIndex,P=E.dataEndIndex,I=E.updateId;S.setState(Y({legendBBox:A},m({props:S.props,dataStartIndex:T,dataEndIndex:P,updateId:I},Y(Y({},S.state),{},{legendBBox:A}))))}}),ye(S,"handleReceiveSyncEvent",function(A,E,T){if(S.props.syncId===A){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),ye(S,"handleBrushChange",function(A){var E=A.startIndex,T=A.endIndex;if(E!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return Y({dataStartIndex:E,dataEndIndex:T},m({props:S.props,dataStartIndex:E,dataEndIndex:T,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),ye(S,"handleMouseEnter",function(A){var E=S.getMouseInfo(A);if(E){var T=Y(Y({},E),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var P=S.props.onMouseEnter;Te(P)&&P(T,A)}}),ye(S,"triggeredAfterMouseMove",function(A){var E=S.getMouseInfo(A),T=E?Y(Y({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var P=S.props.onMouseMove;Te(P)&&P(T,A)}),ye(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ye(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ye(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),ye(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var T=S.props.onMouseLeave;Te(T)&&T(E,A)}),ye(S,"handleOuterEvent",function(A){var E=oK(A),T=zn(S.props,"".concat(E));if(E&&Te(T)){var P,I;/.*touch.*/i.test(E)?I=S.getMouseInfo(A.changedTouches[0]):I=S.getMouseInfo(A),T((P=I)!==null&&P!==void 0?P:{},A)}}),ye(S,"handleClick",function(A){var E=S.getMouseInfo(A);if(E){var T=Y(Y({},E),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var P=S.props.onClick;Te(P)&&P(T,A)}}),ye(S,"handleMouseDown",function(A){var E=S.props.onMouseDown;if(Te(E)){var T=S.getMouseInfo(A);E(T,A)}}),ye(S,"handleMouseUp",function(A){var E=S.props.onMouseUp;if(Te(E)){var T=S.getMouseInfo(A);E(T,A)}}),ye(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ye(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),ye(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),ye(S,"handleDoubleClick",function(A){var E=S.props.onDoubleClick;if(Te(E)){var T=S.getMouseInfo(A);E(T,A)}}),ye(S,"handleContextMenu",function(A){var E=S.props.onContextMenu;if(Te(E)){var T=S.getMouseInfo(A);E(T,A)}}),ye(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&xy.emit(by,S.props.syncId,A,S.eventEmitterSymbol)}),ye(S,"applySyncEvent",function(A){var E=S.props,T=E.layout,P=E.syncMethod,I=S.state.updateId,N=A.dataStartIndex,j=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(Y({dataStartIndex:N,dataEndIndex:j},m({props:S.props,dataStartIndex:N,dataEndIndex:j,updateId:I},S.state)));else if(A.activeTooltipIndex!==void 0){var k=A.chartX,B=A.chartY,$=A.activeTooltipIndex,z=S.state,V=z.offset,M=z.tooltipTicks;if(!V)return;if(typeof P=="function")$=P(M,A);else if(P==="value"){$=-1;for(var F=0;F<M.length;F++)if(M[F].value===A.activeLabel){$=F;break}}var U=Y(Y({},V),{},{x:V.left,y:V.top}),q=Math.min(k,U.x+U.width),W=Math.min(B,U.y+U.height),X=M[$]&&M[$].value,ee=Ab(S.state,S.props.data,$),fe=M[$]?{x:T==="horizontal"?M[$].coordinate:q,y:T==="horizontal"?W:M[$].coordinate}:_L;S.setState(Y(Y({},A),{},{activeLabel:X,activeCoordinate:fe,activePayload:ee,activeTooltipIndex:$}))}else S.setState(A)}),ye(S,"renderCursor",function(A){var E,T=S.state,P=T.isTooltipActive,I=T.activeCoordinate,N=T.activePayload,j=T.offset,k=T.activeTooltipIndex,B=T.tooltipAxisBandSize,$=S.getTooltipEventType(),z=(E=A.props.active)!==null&&E!==void 0?E:P,V=S.props.layout,M=A.key||"_recharts-cursor";return L.createElement(ive,{key:M,activeCoordinate:I,activePayload:N,activeTooltipIndex:k,chartName:n,element:A,isActive:z,layout:V,offset:j,tooltipAxisBandSize:B,tooltipEventType:$})}),ye(S,"renderPolarAxis",function(A,E,T){var P=zn(A,"type.axisType"),I=zn(S.state,"".concat(P,"Map")),N=A.type.defaultProps,j=N!==void 0?Y(Y({},N),A.props):A.props,k=I&&I[j["".concat(P,"Id")]];return D.cloneElement(A,Y(Y({},k),{},{className:ke(P,k.className),key:A.key||"".concat(E,"-").concat(T),ticks:ci(k,!0)}))}),ye(S,"renderPolarGrid",function(A){var E=A.props,T=E.radialLines,P=E.polarAngles,I=E.polarRadius,N=S.state,j=N.radiusAxisMap,k=N.angleAxisMap,B=ea(j),$=ea(k),z=$.cx,V=$.cy,M=$.innerRadius,F=$.outerRadius;return D.cloneElement(A,{polarAngles:Array.isArray(P)?P:ci($,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(I)?I:ci(B,!0).map(function(U){return U.coordinate}),cx:z,cy:V,innerRadius:M,outerRadius:F,key:A.key||"polar-grid",radialLines:T})}),ye(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,E=S.props,T=E.children,P=E.width,I=E.height,N=S.props.margin||{},j=P-(N.left||0)-(N.right||0),k=t$({children:T,formattedGraphicalItems:A,legendWidth:j,legendContent:c});if(!k)return null;var B=k.item,$=vC(k,ave);return D.cloneElement(B,Y(Y({},$),{},{chartWidth:P,chartHeight:I,margin:N,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ye(S,"renderTooltip",function(){var A,E=S.props,T=E.children,P=E.accessibilityLayer,I=Ln(T,vr);if(!I)return null;var N=S.state,j=N.isTooltipActive,k=N.activeCoordinate,B=N.activePayload,$=N.activeLabel,z=N.offset,V=(A=I.props.active)!==null&&A!==void 0?A:j;return D.cloneElement(I,{viewBox:Y(Y({},z),{},{x:z.left,y:z.top}),active:V,label:$,payload:V?B:[],coordinate:k,accessibilityLayer:P})}),ye(S,"renderBrush",function(A){var E=S.props,T=E.margin,P=E.data,I=S.state,N=I.offset,j=I.dataStartIndex,k=I.dataEndIndex,B=I.updateId;return D.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Wd(S.handleBrushChange,A.props.onChange),data:P,x:te(A.props.x)?A.props.x:N.left,y:te(A.props.y)?A.props.y:N.top+N.height+N.brushBottom-(T.bottom||0),width:te(A.props.width)?A.props.width:N.width,startIndex:j,endIndex:k,updateId:"brush-".concat(B)})}),ye(S,"renderReferenceElement",function(A,E,T){if(!A)return null;var P=S,I=P.clipPathId,N=S.state,j=N.xAxisMap,k=N.yAxisMap,B=N.offset,$=A.type.defaultProps||{},z=A.props,V=z.xAxisId,M=V===void 0?$.xAxisId:V,F=z.yAxisId,U=F===void 0?$.yAxisId:F;return D.cloneElement(A,{key:A.key||"".concat(E,"-").concat(T),xAxis:j[M],yAxis:k[U],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:I})}),ye(S,"renderActivePoints",function(A){var E=A.item,T=A.activePoint,P=A.basePoint,I=A.childIndex,N=A.isRange,j=[],k=E.props.key,B=E.item.type.defaultProps!==void 0?Y(Y({},E.item.type.defaultProps),E.item.props):E.item.props,$=B.activeDot,z=B.dataKey,V=Y(Y({index:I,dataKey:z,cx:T.x,cy:T.y,r:4,fill:P1(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},_e($,!1)),dp($));return j.push(v.renderActiveDot($,V,"".concat(k,"-activePoint-").concat(I))),P?j.push(v.renderActiveDot($,Y(Y({},V),{},{cx:P.x,cy:P.y}),"".concat(k,"-basePoint-").concat(I))):N&&j.push(null),j}),ye(S,"renderGraphicChild",function(A,E,T){var P=S.filterFormatItem(A,E,T);if(!P)return null;var I=S.getTooltipEventType(),N=S.state,j=N.isTooltipActive,k=N.tooltipAxis,B=N.activeTooltipIndex,$=N.activeLabel,z=S.props.children,V=Ln(z,vr),M=P.props,F=M.points,U=M.isRange,q=M.baseLine,W=P.item.type.defaultProps!==void 0?Y(Y({},P.item.type.defaultProps),P.item.props):P.item.props,X=W.activeDot,ee=W.hide,fe=W.activeBar,he=W.activeShape,Oe=!!(!ee&&j&&V&&(X||fe||he)),et={};I!=="axis"&&V&&V.props.trigger==="click"?et={onClick:Wd(S.handleItemMouseEnter,A.props.onClick)}:I!=="axis"&&(et={onMouseLeave:Wd(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Wd(S.handleItemMouseEnter,A.props.onMouseEnter)});var ne=D.cloneElement(A,Y(Y({},P.props),et));function se(Kn){return typeof k.dataKey=="function"?k.dataKey(Kn.payload):null}if(Oe)if(B>=0){var re,G;if(k.dataKey&&!k.allowDuplicatedCategory){var Pe=typeof k.dataKey=="function"?se:"payload.".concat(k.dataKey.toString());re=ex(F,Pe,$),G=U&&q&&ex(q,Pe,$)}else re=F==null?void 0:F[B],G=U&&q&&q[B];if(he||fe){var de=A.props.activeIndex!==void 0?A.props.activeIndex:B;return[D.cloneElement(A,Y(Y(Y({},P.props),et),{},{activeIndex:de})),null,null]}if(!je(re))return[ne].concat(Ol(S.renderActivePoints({item:P,activePoint:re,basePoint:G,childIndex:B,isRange:U})))}else{var Ee,Ue=(Ee=S.getItemByXY(S.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:ne},we=Ue.graphicalItem,$e=we.item,ve=$e===void 0?A:$e,xt=we.childIndex,Ht=Y(Y(Y({},P.props),et),{},{activeIndex:xt});return[D.cloneElement(ve,Ht),null,null]}return U?[ne,null,null]:[ne,null]}),ye(S,"renderCustomized",function(A,E,T){return D.cloneElement(A,Y(Y({key:"recharts-customized-".concat(T)},S.props),S.state))}),ye(S,"renderMap",{CartesianGrid:{handler:Yd,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Yd},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Yd},YAxis:{handler:Yd},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=g.id)!==null&&w!==void 0?w:Wf("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=ZD(S.triggeredAfterMouseMove,(C=g.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return vve(v,y),hve(v,[{key:"componentDidMount",value:function(){var w,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,C=w.children,S=w.data,A=w.height,E=w.layout,T=Ln(C,vr);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,N=Ab(this.state,S,P,I),j=this.state.tooltipTicks[P].coordinate,k=(this.state.offset.top+A)/2,B=E==="horizontal",$=B?{x:j,y:k}:{y:j,x:k},z=this.state.formattedGraphicalItems.find(function(M){var F=M.item;return F.type.name==="Scatter"});z&&($=Y(Y({},$),z.props.points[P].tooltipPosition),N=z.props.points[P].tooltipPayload);var V={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:I,activePayload:N,activeCoordinate:$};this.setState(V),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(w){nx([Ln(w.children,vr)],[Ln(this.props.children,vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ln(this.props.children,vr);if(w&&typeof w.props.shared=="boolean"){var C=w.props.shared?"axis":"item";return s.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),A=jre(S),E={chartX:Math.round(w.pageX-A.left),chartY:Math.round(w.pageY-A.top)},T=S.width/C.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,T);if(!P)return null;var I=this.state,N=I.xAxisMap,j=I.yAxisMap,k=this.getTooltipEventType(),B=xC(this.state,this.props.data,this.props.layout,P);if(k!=="axis"&&N&&j){var $=ea(N).scale,z=ea(j).scale,V=$&&$.invert?$.invert(E.chartX):null,M=z&&z.invert?z.invert(E.chartY):null;return Y(Y({},E),{},{xValue:V,yValue:M},B)}return B?Y(Y({},E),B):null}},{key:"inRange",value:function(w,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=w/S,T=C/S;if(A==="horizontal"||A==="vertical"){var P=this.state.offset,I=E>=P.left&&E<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return I?{x:E,y:T}:null}var N=this.state,j=N.angleAxisMap,k=N.radiusAxisMap;if(j&&k){var B=ea(j);return KI({x:E,y:T},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,C=this.getTooltipEventType(),S=Ln(w,vr),A={};S&&C==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=dp(this.props,this.handleOuterEvent);return Y(Y({},E),A)}},{key:"addListener",value:function(){xy.on(by,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xy.removeListener(by,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,C,S){for(var A=this.state.formattedGraphicalItems,E=0,T=A.length;E<T;E++){var P=A[E];if(P.item===w||P.props.key===w.key||C===hi(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,C=this.state.offset,S=C.left,A=C.top,E=C.height,T=C.width;return L.createElement("defs",null,L.createElement("clipPath",{id:w},L.createElement("rect",{x:S,y:A,height:E,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(C,S){var A=gC(S,2),E=A[0],T=A[1];return Y(Y({},C),{},ye({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(C,S){var A=gC(S,2),E=A[0],T=A[1];return Y(Y({},C),{},ye({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[w])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(w){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[w])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(w){var C=this.state,S=C.formattedGraphicalItems,A=C.activeItem;if(S&&S.length)for(var E=0,T=S.length;E<T;E++){var P=S[E],I=P.props,N=P.item,j=N.type.defaultProps!==void 0?Y(Y({},N.type.defaultProps),N.props):N.props,k=hi(N.type);if(k==="Bar"){var B=(I.data||[]).find(function(M){return mfe(w,M)});if(B)return{graphicalItem:P,payload:B}}else if(k==="RadialBar"){var $=(I.data||[]).find(function(M){return KI(w,M)});if($)return{graphicalItem:P,payload:$}}else if($g(P,A)||Lg(P,A)||gf(P,A)){var z=rhe({graphicalItem:P,activeTooltipItem:A,itemData:j.data}),V=j.activeIndex===void 0?z:j.activeIndex;return{graphicalItem:Y(Y({},P),{},{childIndex:V}),payload:gf(P,A)?j.data[z]:P.props.data[z]}}}return null}},{key:"render",value:function(){var w=this;if(!LA(this))return null;var C=this.props,S=C.children,A=C.className,E=C.width,T=C.height,P=C.style,I=C.compact,N=C.title,j=C.desc,k=vC(C,ove),B=_e(k,!1);if(I)return L.createElement(tC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(ix,Is({},B,{width:E,height:T,title:N,desc:j}),this.renderClipPath(),VA(S,this.renderMap)));if(this.props.accessibilityLayer){var $,z;B.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,B.role=(z=this.props.role)!==null&&z!==void 0?z:"application",B.onKeyDown=function(M){w.accessibilityManager.keyboardEvent(M)},B.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return L.createElement(tC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Is({className:ke("recharts-wrapper",A),style:Y({position:"relative",cursor:"default",width:E,height:T},P)},V,{ref:function(F){w.container=F}}),L.createElement(ix,Is({},B,{width:E,height:T,title:N,desc:j,style:Eve}),this.renderClipPath(),VA(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);ye(x,"displayName",n),ye(x,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ye(x,"getDerivedStateFromProps",function(y,v){var g=y.dataKey,w=y.data,C=y.children,S=y.width,A=y.height,E=y.layout,T=y.stackOffset,P=y.margin,I=v.dataStartIndex,N=v.dataEndIndex;if(v.updateId===void 0){var j=bC(y);return Y(Y(Y({},j),{},{updateId:0},m(Y(Y({props:y},j),{},{updateId:0}),v)),{},{prevDataKey:g,prevData:w,prevWidth:S,prevHeight:A,prevLayout:E,prevStackOffset:T,prevMargin:P,prevChildren:C})}if(g!==v.prevDataKey||w!==v.prevData||S!==v.prevWidth||A!==v.prevHeight||E!==v.prevLayout||T!==v.prevStackOffset||!Fs(P,v.prevMargin)){var k=bC(y),B={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=Y(Y({},xC(v,w,E)),{},{updateId:v.updateId+1}),z=Y(Y(Y({},k),B),$);return Y(Y(Y({},z),m(Y({props:y},z),v)),{},{prevDataKey:g,prevData:w,prevWidth:S,prevHeight:A,prevLayout:E,prevStackOffset:T,prevMargin:P,prevChildren:C})}if(!nx(C,v.prevChildren)){var V,M,F,U,q=Ln(C,bl),W=q&&(V=(M=q.props)===null||M===void 0?void 0:M.startIndex)!==null&&V!==void 0?V:I,X=q&&(F=(U=q.props)===null||U===void 0?void 0:U.endIndex)!==null&&F!==void 0?F:N,ee=W!==I||X!==N,fe=!je(w),he=fe&&!ee?v.updateId:v.updateId+1;return Y(Y({updateId:he},m(Y(Y({props:y},v),{},{updateId:he,dataStartIndex:W,dataEndIndex:X}),v)),{},{prevChildren:C,dataStartIndex:W,dataEndIndex:X})}return null}),ye(x,"renderActiveDot",function(y,v,g){var w;return D.isValidElement(y)?w=D.cloneElement(y,v):Te(y)?w=y(v):w=L.createElement(O1,v),L.createElement(He,{className:"recharts-active-dot",key:g},w)});var b=D.forwardRef(function(v,g){return L.createElement(x,Is({},v,{ref:g}))});return b.displayName=x.displayName,b},jve=TL({chartName:"BarChart",GraphicalChild:gi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wg},{axisType:"yAxis",AxisComp:qg}],formatAxisMap:Dpe}),Rve=TL({chartName:"PieChart",GraphicalChild:$i,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Mg},{axisType:"radiusAxis",AxisComp:Rg}],formatAxisMap:Ole,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const SL=({data:t})=>p.jsx("div",{className:"h-80 w-full",children:p.jsx(eM,{width:"100%",height:"100%",children:p.jsxs(jve,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[p.jsx(cL,{strokeDasharray:"3 3"}),p.jsx(Wg,{dataKey:"name"}),p.jsx(qg,{label:{value:"kg CO",angle:-90,position:"insideLeft",style:{textAnchor:"middle"}}}),p.jsx(vr,{formatter:e=>`${Math.round(Number(e)).toLocaleString()} kg CO`}),p.jsx(ba,{}),p.jsx(gi,{dataKey:"fuel",name:"Fuel",fill:"#F59E0B"}),p.jsx(gi,{dataKey:"plane",name:"Plane",fill:"#4A6FA5"}),p.jsx(gi,{dataKey:"train",name:"Train",fill:"#2D6A4F"})]})})}),Dve=({userId:t})=>{const[e,n]=D.useState([]),[r,i]=D.useState(!0),[a,o]=D.useState(null);D.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{i(!0);const c=Je(We,"users",t),u=await nt(c);if(u.exists()){const m=(u.data().carbonEntries||[]).sort((x,b)=>new Date(b.createdAt||b.date).getTime()-new Date(x.createdAt||x.date).getTime());n(m)}else n([])}catch(c){console.error("Error fetching carbon entries:",c),o("Failed to load your carbon entries")}finally{i(!1)}})()},[t]);const s=l=>{switch(l){case"plane":return p.jsx(tu,{className:"h-5 w-5"});case"train":return p.jsx(A0,{className:"h-5 w-5"});case"car":return p.jsx(_0,{className:"h-5 w-5"});default:return p.jsx(tu,{className:"h-5 w-5"})}};return r?p.jsx("div",{className:"animate-pulse h-40 bg-gray-100 rounded-md"}):a?p.jsx("div",{className:"text-error-600 p-3",children:a}):e.length===0?p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:"text-gray-500",children:"No carbon entries found. Add some using the form above."})}):p.jsxs("div",{className:"space-y-3",children:[e.slice(0,5).map(l=>p.jsx("div",{className:"p-3 bg-gray-50 rounded-md",children:p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`p-2 rounded-full mr-3 ${l.type==="plane"?"bg-blue-100 text-blue-700":l.type==="train"?"bg-lime-100 text-lime-700":"bg-amber-100 text-amber-700"}`,children:s(l.type)}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:l.description}),p.jsxs("div",{className:"text-sm text-gray-600",children:[new Date(l.date).toLocaleDateString(),l.distance&&`  ${l.distance} km`]})]})]}),p.jsxs("div",{className:"font-medium text-gray-900",children:[Math.round(l.co2).toLocaleString()," kg CO"]})]})},l.id)),e.length>5&&p.jsx("div",{className:"text-center pt-2",children:p.jsxs("span",{className:"text-sm text-gray-500",children:["Showing 5 of ",e.length," entries"]})})]})},Mve={plane:.13,train:.035,car:.17},$ve={gasoline:2.31,diesel:2.68,lpg:1.51},Lve=()=>{const[t,e]=D.useState("distance"),[n,r]=D.useState([]),[i,a]=D.useState(!1),[o,s]=D.useState("plane"),[l,c]=D.useState(""),[u,f]=D.useState(""),[h,m]=D.useState(""),[x,b]=D.useState(""),[y,v]=D.useState("gasoline"),[g,w]=D.useState("idle"),[C,S]=D.useState(null);cr();const{saveUserCarbonEntry:A,loading:E}=Ko(),T=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),P=($,z)=>z==="car"&&x&&!isNaN(parseFloat(x))?parseFloat(x)*$/100*$ve[y]:$*Mve[z],I=()=>{if(t==="direct"){if(!u||isNaN(parseFloat(u))||parseFloat(u)<=0){S("Please enter a valid CO2 amount");return}const $=parseFloat(u);r([...n,{id:T(),type:o,description:l||`${o.charAt(0).toUpperCase()+o.slice(1)} journey`,co2Value:$}])}else{if(!h||isNaN(parseFloat(h))||parseFloat(h)<=0){S("Please enter a valid distance");return}if(o==="car"&&(!x||isNaN(parseFloat(x))||parseFloat(x)<=0)){S("Please enter valid fuel consumption");return}const $=parseFloat(h),z=P($,o),V={id:T(),type:o,description:l||`${o.charAt(0).toUpperCase()+o.slice(1)} journey (${$} km)`,co2Value:z,distance:$};o==="car"&&(V.fuelConsumption=parseFloat(x),V.fuelType=y),r([...n,V])}c(""),f(""),m(""),b(""),S(null),a(!1)},N=$=>{r(n.filter(z=>z.id!==$))},j=async()=>{if(n.length!==0){w("saving"),S(null);try{const $=n.map(V=>{const M={type:V.type,description:V.description,co2:V.co2Value,date:new Date().toISOString()},F={};return V.distance!==void 0&&(F.distance=V.distance),V.fuelConsumption!==void 0&&(F.fuelConsumption=V.fuelConsumption,F.fuelType=V.fuelType),{...M,...F}});if(await A($))w("success"),setTimeout(()=>{w("idle"),r([])},2e3);else throw new Error("Failed to save entries")}catch{w("error"),S("Failed to save CO entries. Please try again.")}}},k=$=>{switch($){case"plane":return p.jsx(tu,{className:"h-5 w-5"});case"train":return p.jsx(A0,{className:"h-5 w-5"});case"car":return p.jsx(_0,{className:"h-5 w-5"})}},B=n.reduce(($,z)=>$+z.co2Value,0);return p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Add Carbon Footprint"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 mb-6",children:[p.jsxs("button",{type:"button",onClick:()=>e("direct"),className:`flex-1 px-4 py-3 rounded-lg border ${t==="direct"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,children:[p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsx(Sa,{className:"h-5 w-5 mr-2"}),p.jsx("span",{className:"font-medium",children:"Enter Known CO"})]}),p.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"Add emissions when you already know the CO value"})]}),p.jsxs("button",{type:"button",onClick:()=>e("distance"),className:`flex-1 px-4 py-3 rounded-lg border ${t==="distance"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,children:[p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsx(tu,{className:"h-5 w-5 mr-2"}),p.jsx("span",{className:"font-medium",children:"Enter Distance"})]}),p.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"Calculate CO from distance and transport type"})]})]}),i?p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:t==="direct"?"Add Known CO Value":"Calculate CO from Distance"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transport Type"}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsxs("button",{type:"button",onClick:()=>s("plane"),className:`p-2 flex items-center justify-center rounded-md ${o==="plane"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[p.jsx(tu,{className:"h-4 w-4 mr-1"}),"Plane"]}),p.jsxs("button",{type:"button",onClick:()=>s("train"),className:`p-2 flex items-center justify-center rounded-md ${o==="train"?"bg-lime-100 text-lime-800":"bg-gray-100 text-gray-800"}`,children:[p.jsx(A0,{className:"h-4 w-4 mr-1"}),"Train"]}),p.jsxs("button",{type:"button",onClick:()=>s("car"),className:`p-2 flex items-center justify-center rounded-md ${o==="car"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:[p.jsx(_0,{className:"h-4 w-4 mr-1"}),"Car"]})]})]}),o==="car"&&t==="distance"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel Type"}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsx("button",{type:"button",onClick:()=>v("gasoline"),className:`p-2 flex items-center justify-center rounded-md ${y==="gasoline"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:"Gasoline"}),p.jsx("button",{type:"button",onClick:()=>v("diesel"),className:`p-2 flex items-center justify-center rounded-md ${y==="diesel"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:"Diesel"}),p.jsx("button",{type:"button",onClick:()=>v("lpg"),className:`p-2 flex items-center justify-center rounded-md ${y==="lpg"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:"LPG"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"fuelConsumption",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel Consumption (L/100km)"}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"number",id:"fuelConsumption",min:"0",step:"0.1",value:x,onChange:$=>b($.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"e.g., 5.5"}),p.jsx("span",{className:"px-3 py-2 bg-gray-100 border border-gray-300 border-l-0 rounded-r-md text-gray-600",children:"L/100km"})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How much fuel your car uses per 100 kilometers"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),p.jsx("input",{type:"text",id:"description",value:l,onChange:$=>c($.target.value),placeholder:"e.g., Paris to London trip",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),t==="direct"?p.jsxs("div",{children:[p.jsx("label",{htmlFor:"co2",className:"block text-sm font-medium text-gray-700 mb-1",children:"CO Amount (kg)"}),p.jsx("input",{type:"number",id:"co2",min:"0",step:"0.1",value:u,onChange:$=>f($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500"})]}):p.jsxs("div",{children:[p.jsx("label",{htmlFor:"distance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Distance (km)"}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"number",id:"distance",min:"0",value:h,onChange:$=>m($.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-primary-500"}),p.jsx("span",{className:"px-3 py-2 bg-gray-100 border border-gray-300 border-l-0 rounded-r-md text-gray-600",children:"km"})]}),h&&!isNaN(parseFloat(h))&&parseFloat(h)>0&&p.jsx("div",{className:"mt-2 text-sm text-gray-600",children:o==="car"&&x&&!isNaN(parseFloat(x))?p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:["Fuel used: ",(parseFloat(h)*parseFloat(x)/100).toFixed(2)," L"]}),p.jsxs("div",{children:["Estimated CO: ",Math.round(P(parseFloat(h),o))," kg"]})]}):p.jsxs("div",{children:["Estimated CO: ",Math.round(P(parseFloat(h),o))," kg"]})})]}),C&&p.jsx("div",{className:"text-sm text-error-600",children:C}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx("button",{type:"button",onClick:()=>{a(!1),S(null)},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),p.jsx("button",{type:"button",onClick:I,className:"px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600",children:"Add Entry"})]})]})]}):p.jsxs("button",{type:"button",onClick:()=>a(!0),className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-600 hover:bg-gray-50 hover:text-primary-600 hover:border-primary-300",children:[p.jsx(K3,{className:"h-5 w-5 mr-2"}),"Add Carbon Entry"]}),n.length>0&&p.jsxs("div",{className:"mt-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Carbon Entries"}),p.jsx("div",{className:"space-y-3 mb-4",children:n.map($=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`p-2 rounded-full mr-3 ${$.type==="plane"?"bg-blue-100 text-blue-700":$.type==="train"?"bg-lime-100 text-lime-700":"bg-amber-100 text-amber-700"}`,children:k($.type)}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:$.description}),p.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round($.co2Value).toLocaleString()," kg CO",$.distance&&`  ${$.distance} km`,$.fuelConsumption&&`  ${$.fuelConsumption}L/100km (${$.fuelType})`]})]})]}),p.jsx("button",{type:"button",onClick:()=>N($.id),className:"text-gray-500 hover:text-error-600","aria-label":"Remove entry",children:p.jsx(Xs,{className:"h-5 w-5"})})]},$.id))}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center pt-4 border-t border-gray-200",children:[p.jsxs("div",{className:"mb-3 sm:mb-0",children:[p.jsx("div",{className:"text-sm text-gray-600",children:"Total Carbon Footprint"}),p.jsxs("div",{className:"text-xl font-medium text-gray-900",children:[Math.round(B).toLocaleString()," kg CO"]})]}),p.jsx("button",{type:"button",onClick:j,disabled:E||g==="saving",className:"flex items-center justify-center px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600 disabled:opacity-70 disabled:cursor-not-allowed",children:g==="saving"?p.jsxs(p.Fragment,{children:[p.jsx(G3,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):p.jsxs(p.Fragment,{children:[p.jsx(oN,{className:"h-4 w-4 mr-2"}),"Save to My Profile"]})})]})]}),g==="success"&&p.jsxs("div",{className:"flex items-center p-4 bg-success-50 text-success-800 rounded-md",children:[p.jsx(F3,{className:"h-5 w-5 mr-2 text-success-500"}),"Carbon entries saved successfully to your profile!"]}),g==="error"&&p.jsxs("div",{className:"flex items-center p-4 bg-error-50 text-error-800 rounded-md",children:[p.jsx(w0,{className:"h-5 w-5 mr-2 text-error-500"}),C||"Something went wrong. Please try again."]})]})]})},_y=t=>t.type==="fuel",Ey=t=>t.type==="plane"||t.type==="train",Fve=()=>{const{getTrips:t,loading:e,error:n}=Ko(),{user:r}=cr(),[i,a]=L.useState([]),[o,s]=L.useState(0),[l,c]=D.useState([]);L.useEffect(()=>{(async()=>{const b=await t();a(b)})()},[t]),L.useEffect(()=>{(async()=>{if(r!=null&&r.uid)try{const b=Je(We,"users",r.uid),y=await nt(b);if(y.exists()){const v=y.data();s(v.totalCarbon||0)}}catch(b){console.error("Error fetching user carbon data:",b)}})()},[r]),L.useEffect(()=>{(async()=>{if(r!=null&&r.uid)try{const b=Je(We,"users",r.uid),y=await nt(b);if(y.exists()){const v=y.data();c(v.carbonEntries||[])}}catch(b){console.error("Error fetching carbon entries:",b)}})()},[r]);const u=x=>{var b;return((b=x.uploadedBy)==null?void 0:b.id)===(r==null?void 0:r.uid)},f=i.reduce((x,b)=>{const y=b.invoices.filter(u);return x+y.reduce((v,g)=>_y(g)?v+g.co2:Ey(g)&&Array.isArray(g.co2)?v+g.co2.reduce((w,C)=>w+(C||0),0):v,0)},0),h=()=>{const x={},b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return b.forEach(y=>{x[y]={fuel:0,plane:0,train:0}}),i.forEach(y=>{let v="Jan";if(y.createdAt){const g=new Date(y.createdAt);v=b[g.getMonth()]}y.invoices.filter(u).forEach(g=>{if(_y(g))x[v].fuel+=g.co2;else if(Ey(g)&&Array.isArray(g.co2))if(Array.isArray(g.transport_type)&&g.transport_type.length>0)g.transport_type.forEach((w,C)=>{const S=g.co2[C]||0,A=(w||"").toLowerCase();A.includes("train")||A==="train"||A.includes("rail")?x[v].train+=S:x[v].plane+=S});else{const w=g.co2.reduce((C,S)=>C+(S||0),0);g.type==="plane"?x[v].plane+=w:g.type==="train"&&(x[v].train+=w)}})}),l.forEach(y=>{const v=new Date(y.date||y.createdAt),g=b[v.getMonth()]||"Jan";y.type==="car"?x[g].fuel+=y.co2:y.type==="plane"?x[g].plane+=y.co2:y.type==="train"&&(x[g].train+=y.co2)}),b.map(y=>({name:y,...x[y]}))},m=i.reduce((x,b)=>x+b.invoices.filter(u).length,0);return e?p.jsxs("div",{className:"animate-pulse flex flex-col space-y-8 p-6",children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((x,b)=>p.jsx("div",{className:"bg-gray-200 h-32 rounded-lg"},b))}),p.jsx("div",{className:"bg-gray-200 h-80 rounded-lg"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((x,b)=>p.jsx("div",{className:"bg-gray-200 h-80 rounded-lg"},b))})]}):n?p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"bg-error-50 text-error-700 p-4 rounded-md",children:[p.jsx(iN,{className:"h-5 w-5 inline-block mr-2"}),n]})}):p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Carbon Footprint Dashboard"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx(ho,{title:"Your Carbon Footprint",value:`${Math.round(o).toLocaleString()} kg CO`,icon:p.jsx(Sa,{className:"h-6 w-6"}),trend:{value:12,isPositive:!0},description:"Total carbon footprint from your profile"}),p.jsx(ho,{title:"Trip Emissions",value:`${Math.round(f).toLocaleString()} kg CO`,icon:p.jsx(Ys,{className:"h-6 w-6"}),description:"Emissions from your uploaded invoices"}),p.jsx(ho,{title:"Average per Trip",value:`${i.length>0?Math.round(f/i.length).toLocaleString():0} kg CO`,icon:p.jsx(Ys,{className:"h-6 w-6"}),description:"Your average emissions per trip"}),p.jsx(ho,{title:"Your Invoices",value:m.toString(),icon:p.jsx(Nw,{className:"h-6 w-6"}),description:"Number of invoices you've uploaded"})]}),p.jsx("div",{className:"mb-8",children:p.jsx(Lve,{})}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6 mb-8",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Monthly Carbon Emissions"}),p.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"This chart shows carbon emissions from invoices you've personally uploaded."}),p.jsx(SL,{data:h()})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6 mb-8",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Manual Carbon Entries"}),p.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"Carbon entries you've manually added through the dashboard."}),o>0?p.jsx(Dve,{userId:r==null?void 0:r.uid}):p.jsx("div",{className:"text-center py-4 text-gray-500",children:"No manual entries found. Add some using the form above."})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Trips"}),i.length===0?p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:"text-gray-500",children:"No trips found. Create a trip to get started."})}):p.jsx("div",{className:"space-y-4",children:i.slice(0,5).map(x=>{const b=x.invoices.filter(u),y=b.reduce((v,g)=>_y(g)?v+g.co2:Ey(g)&&Array.isArray(g.co2)?v+g.co2.reduce((w,C)=>w+(C||0),0):v,0);return p.jsxs("div",{className:"p-4 border border-gray-100 rounded-md hover:bg-gray-50",children:[p.jsx("h3",{className:"font-medium text-gray-900",children:x.name}),p.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(x.startDate).toLocaleDateString()," - ",new Date(x.endDate).toLocaleDateString()]}),p.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[p.jsxs("span",{className:"text-sm",children:[b.length," of your invoices"]}),p.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[Math.round(y).toLocaleString()," kg CO"]})]})]},x.id)})})]})]})},AL=({isOpen:t,title:e,message:n,confirmLabel:r="Confirm",cancelLabel:i="Cancel",onConfirm:a,onCancel:o})=>t?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",onClick:s=>s.stopPropagation(),children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e}),p.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:i}),p.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:r})]})]})}):null,Vve=()=>{const{getTrips:t,deleteTrip:e,loading:n,error:r}=Ko(),{user:i}=cr(),[a,o]=D.useState([]),[s,l]=D.useState([]),[c,u]=D.useState(null),[f,h]=D.useState("my-trips"),[m,x]=D.useState(0),b=Bo();D.useEffect(()=>{(async()=>{const A=await t(),E=A.filter(P=>P.ownerId===(i==null?void 0:i.uid)),T=A.filter(P=>P.ownerId!==(i==null?void 0:i.uid));o(E),l(T)})()},[t,m,i]);const y=(S,A)=>{A.preventDefault(),A.stopPropagation(),u(S)},v=()=>{u(null)},g=async()=>{c&&(await e(c)&&x(A=>A+1),v())},w=()=>{b("/trips/new")},C=f==="my-trips"?a:s;return n&&a.length===0&&s.length===0?p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("div",{className:"flex justify-between items-center mb-6",children:p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Trips"})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((S,A)=>p.jsx("div",{className:"animate-pulse bg-white rounded-lg shadow-card h-48"},A))})]}):p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx(AL,{isOpen:c!==null,title:"Delete Trip",message:"Are you sure you want to delete this trip? This will permanently remove all associated invoices and carbon data. This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:g,onCancel:v}),p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Trips"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs("div",{className:"mr-2",children:[p.jsxs("button",{onClick:()=>h("my-trips"),className:`px-4 py-2 rounded-md ${f==="my-trips"?"bg-primary-100 text-primary-700":"bg-white text-gray-600 hover:bg-gray-100"}`,children:[p.jsx(Cm,{className:"h-4 w-4 inline-block mr-1"}),"My Trips"]}),p.jsxs("button",{onClick:()=>h("shared-trips"),className:`px-4 py-2 rounded-md ${f==="shared-trips"?"bg-primary-100 text-primary-700":"bg-white text-gray-600 hover:bg-gray-100"}`,children:[p.jsx(nu,{className:"h-4 w-4 inline-block mr-1"}),"Shared Trips"]})]}),p.jsxs("button",{onClick:w,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md flex items-center",children:[p.jsx(jw,{className:"h-5 w-5 mr-2"}),"New Trip"]})]})]}),r&&p.jsxs("div",{className:"bg-error-50 text-error-700 p-4 rounded-md mb-6",children:[p.jsx(iN,{className:"h-5 w-5 inline-block mr-2"}),r]}),C.length===0?p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-8 text-center",children:[p.jsx(Ys,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:f==="my-trips"?"No business trips yet":"No shared trips yet"}),p.jsx("p",{className:"text-gray-600 mb-4",children:f==="my-trips"?"Track your business travel carbon footprint by creating your first trip.":"When someone shares a trip with you, it will appear here."}),f==="my-trips"&&p.jsx("button",{onClick:w,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md",children:"Create your first trip"})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(S=>p.jsx(bo,{to:`/trips/${S.id}`,className:"bg-white rounded-lg shadow-card overflow-hidden hover:shadow-lg transition-shadow duration-200",children:p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 line-clamp-1",children:S.name}),S.ownerId===(i==null?void 0:i.uid)&&p.jsx("button",{onClick:A=>y(S.id,A),className:"text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-gray-100","aria-label":"Delete trip",title:"Delete trip",children:p.jsx(lN,{className:"h-5 w-5"})})]}),p.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:S.description}),p.jsxs("div",{className:"space-y-3 mb-4",children:[p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(Nw,{className:"h-4 w-4 text-gray-500 mr-2"}),p.jsxs("span",{children:[new Date(S.startDate).toLocaleDateString()," -",new Date(S.endDate).toLocaleDateString()]})]}),p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(Sa,{className:"h-4 w-4 text-gray-500 mr-2"}),p.jsxs("span",{children:[S.totalCarbonFootprint.toLocaleString()," kg CO"]})]}),p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(Ys,{className:"h-4 w-4 text-gray-500 mr-2"}),p.jsxs("span",{children:[S.invoices.length," invoices"]})]}),S.ownerId!==(i==null?void 0:i.uid)&&p.jsxs("div",{className:"flex items-center text-sm text-primary-600",children:[p.jsx(nu,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:"Shared trip"})]}),S.contributors&&S.contributors.length>0&&p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(nu,{className:"h-4 w-4 text-gray-500 mr-2"}),p.jsxs("div",{className:"flex -space-x-2",children:[S.contributors.slice(0,3).map((A,E)=>p.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary-100 flex items-center justify-center text-xs border-2 border-white",title:A.name,children:A.name.charAt(0).toUpperCase()},E)),S.contributors.length>3&&p.jsxs("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-xs border-2 border-white",children:["+",S.contributors.length-3]})]})]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsxs("span",{className:"text-primary-600 flex items-center text-sm font-medium",children:["View details",p.jsx($3,{className:"h-4 w-4 ml-1"})]})})]})},S.id))})]})},Uve=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Cl(t,e,n){const r=Bve(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&_C(r,"path",a),_C(r,"relativePath",a),r}function Bve(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=Uve.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function _C(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const zve=[".DS_Store","Thumbs.db"];function Wve(t){return zo(this,void 0,void 0,function*(){return um(t)&&qve(t.dataTransfer)?Yve(t.dataTransfer,t.type):Hve(t)?Kve(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?Gve(t):[]})}function qve(t){return um(t)}function Hve(t){return um(t)&&um(t.target)}function um(t){return typeof t=="object"&&t!==null}function Kve(t){return Pb(t.target.files).map(e=>Cl(e))}function Gve(t){return zo(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Cl(n))})}function Yve(t,e){return zo(this,void 0,void 0,function*(){if(t.items){const n=Pb(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(Xve));return EC(PL(r))}return EC(Pb(t.files).map(n=>Cl(n)))})}function EC(t){return t.filter(e=>zve.indexOf(e.name)===-1)}function Pb(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function Xve(t){if(typeof t.webkitGetAsEntry!="function")return TC(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?IL(e):TC(t,e)}function PL(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?PL(n):[n]],[])}function TC(t,e){return zo(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,Cl(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Cl(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function Qve(t){return zo(this,void 0,void 0,function*(){return t.isDirectory?IL(t):Jve(t)})}function IL(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function a(){e.readEntries(o=>zo(this,void 0,void 0,function*(){if(o.length){const s=Promise.all(o.map(Qve));i.push(s),a()}else try{const s=yield Promise.all(i);n(s)}catch(s){r(s)}}),o=>{r(o)})}a()})}function Jve(t){return zo(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Cl(r,t.fullPath);e(i)},r=>{n(r)})})})}var Ty=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(o){var s=o.trim().toLowerCase();return s.charAt(0)==="."?r.toLowerCase().endsWith(s):s.endsWith("/*")?a===s.replace(/\/.*$/,""):i===s})}return!0};function SC(t){return tye(t)||eye(t)||CL(t)||Zve()}function Zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tye(t){if(Array.isArray(t))return Ib(t)}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){OL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ef(t,e){return iye(t)||rye(t,e)||CL(t,e)||nye()}function nye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CL(t,e){if(t){if(typeof t=="string")return Ib(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ib(t,e)}}function Ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function iye(t){if(Array.isArray(t))return t}var aye=typeof Ty=="function"?Ty:Ty.default,oye="file-invalid-type",sye="file-too-large",lye="file-too-small",cye="too-many-files",uye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:oye,message:"File type must be ".concat(r)}},IC=function(e){return{code:sye,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},OC=function(e){return{code:lye,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},fye={code:cye,message:"Too many files"};function kL(t,e){var n=t.type==="application/x-moz-file"||aye(t,e);return[n,n?null:uye(e)]}function NL(t,e,n){if(so(t.size))if(so(e)&&so(n)){if(t.size>n)return[!1,IC(n)];if(t.size<e)return[!1,OC(e)]}else{if(so(e)&&t.size<e)return[!1,OC(e)];if(so(n)&&t.size>n)return[!1,IC(n)]}return[!0,null]}function so(t){return t!=null}function dye(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,a=t.multiple,o=t.maxFiles,s=t.validator;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(l){var c=kL(l,n),u=Ef(c,1),f=u[0],h=NL(l,r,i),m=Ef(h,1),x=m[0],b=s?s(l):null;return f&&x&&!b})}function fm(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Xd(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function CC(t){t.preventDefault()}function hye(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function pye(t){return t.indexOf("Edge/")!==-1}function mye(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return hye(t)||pye(t)}function Cr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return e.some(function(s){return!fm(r)&&s&&s.apply(void 0,[r].concat(a)),fm(r)})}}function gye(){return"showOpenFilePicker"in window}function vye(t){if(so(t)){var e=Object.entries(t).filter(function(n){var r=Ef(n,2),i=r[0],a=r[1],o=!0;return jL(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(RL))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=Ef(r,2),a=i[0],o=i[1];return PC(PC({},n),{},OL({},a,o))},{});return[{description:"Files",accept:e}]}return t}function yye(t){if(so(t))return Object.entries(t).reduce(function(e,n){var r=Ef(n,2),i=r[0],a=r[1];return[].concat(SC(e),[i],SC(a))},[]).filter(function(e){return jL(e)||RL(e)}).join(",")}function xye(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function bye(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function jL(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function RL(t){return/^.*\.[\w]+$/.test(t)}var wye=["children"],_ye=["open"],Eye=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Tye=["refKey","onChange","onClick"];function Sye(t){return Iye(t)||Pye(t)||DL(t)||Aye()}function Aye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iye(t){if(Array.isArray(t))return Ob(t)}function Sy(t,e){return kye(t)||Cye(t,e)||DL(t,e)||Oye()}function Oye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DL(t,e){if(t){if(typeof t=="string")return Ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ob(t,e)}}function Ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function kye(t){if(Array.isArray(t))return t}function kC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(n),!0).forEach(function(r){Cb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dm(t,e){if(t==null)return{};var n=Nye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nye(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var F1=D.forwardRef(function(t,e){var n=t.children,r=dm(t,wye),i=$L(r),a=i.open,o=dm(i,_ye);return D.useImperativeHandle(e,function(){return{open:a}},[a]),L.createElement(D.Fragment,null,n(pt(pt({},o),{},{open:a})))});F1.displayName="Dropzone";var ML={disabled:!1,getFilesFromEvent:Wve,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};F1.defaultProps=ML;F1.propTypes={children:pe.func,accept:pe.objectOf(pe.arrayOf(pe.string)),multiple:pe.bool,preventDropOnDocument:pe.bool,noClick:pe.bool,noKeyboard:pe.bool,noDrag:pe.bool,noDragEventsBubbling:pe.bool,minSize:pe.number,maxSize:pe.number,maxFiles:pe.number,disabled:pe.bool,getFilesFromEvent:pe.func,onFileDialogCancel:pe.func,onFileDialogOpen:pe.func,useFsAccessApi:pe.bool,autoFocus:pe.bool,onDragEnter:pe.func,onDragLeave:pe.func,onDragOver:pe.func,onDrop:pe.func,onDropAccepted:pe.func,onDropRejected:pe.func,onError:pe.func,validator:pe.func};var kb={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function $L(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=pt(pt({},ML),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,s=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,h=e.onDrop,m=e.onDropAccepted,x=e.onDropRejected,b=e.onFileDialogCancel,y=e.onFileDialogOpen,v=e.useFsAccessApi,g=e.autoFocus,w=e.preventDropOnDocument,C=e.noClick,S=e.noKeyboard,A=e.noDrag,E=e.noDragEventsBubbling,T=e.onError,P=e.validator,I=D.useMemo(function(){return yye(n)},[n]),N=D.useMemo(function(){return vye(n)},[n]),j=D.useMemo(function(){return typeof y=="function"?y:NC},[y]),k=D.useMemo(function(){return typeof b=="function"?b:NC},[b]),B=D.useRef(null),$=D.useRef(null),z=D.useReducer(jye,kb),V=Sy(z,2),M=V[0],F=V[1],U=M.isFocused,q=M.isFileDialogActive,W=D.useRef(typeof window<"u"&&window.isSecureContext&&v&&gye()),X=function(){!W.current&&q&&setTimeout(function(){if($.current){var me=$.current.files;me.length||(F({type:"closeDialog"}),k())}},300)};D.useEffect(function(){return window.addEventListener("focus",X,!1),function(){window.removeEventListener("focus",X,!1)}},[$,q,k,W]);var ee=D.useRef([]),fe=function(me){B.current&&B.current.contains(me.target)||(me.preventDefault(),ee.current=[])};D.useEffect(function(){return w&&(document.addEventListener("dragover",CC,!1),document.addEventListener("drop",fe,!1)),function(){w&&(document.removeEventListener("dragover",CC),document.removeEventListener("drop",fe))}},[B,w]),D.useEffect(function(){return!r&&g&&B.current&&B.current.focus(),function(){}},[B,g,r]);var he=D.useCallback(function(ae){T?T(ae):console.error(ae)},[T]),Oe=D.useCallback(function(ae){ae.preventDefault(),ae.persist(),xt(ae),ee.current=[].concat(Sye(ee.current),[ae.target]),Xd(ae)&&Promise.resolve(i(ae)).then(function(me){if(!(fm(ae)&&!E)){var Ne=me.length,Le=Ne>0&&dye({files:me,accept:I,minSize:o,maxSize:a,multiple:s,maxFiles:l,validator:P}),Ft=Ne>0&&!Le;F({isDragAccept:Le,isDragReject:Ft,isDragActive:!0,type:"setDraggedFiles"}),c&&c(ae)}}).catch(function(me){return he(me)})},[i,c,he,E,I,o,a,s,l,P]),et=D.useCallback(function(ae){ae.preventDefault(),ae.persist(),xt(ae);var me=Xd(ae);if(me&&ae.dataTransfer)try{ae.dataTransfer.dropEffect="copy"}catch{}return me&&f&&f(ae),!1},[f,E]),ne=D.useCallback(function(ae){ae.preventDefault(),ae.persist(),xt(ae);var me=ee.current.filter(function(Le){return B.current&&B.current.contains(Le)}),Ne=me.indexOf(ae.target);Ne!==-1&&me.splice(Ne,1),ee.current=me,!(me.length>0)&&(F({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Xd(ae)&&u&&u(ae))},[B,u,E]),se=D.useCallback(function(ae,me){var Ne=[],Le=[];ae.forEach(function(Ft){var Li=kL(Ft,I),Yr=Sy(Li,2),tc=Yr[0],Xr=Yr[1],Jo=NL(Ft,o,a),Wa=Sy(Jo,2),qa=Wa[0],nc=Wa[1],rc=P?P(Ft):null;if(tc&&qa&&!rc)Ne.push(Ft);else{var Ha=[Xr,nc];rc&&(Ha=Ha.concat(rc)),Le.push({file:Ft,errors:Ha.filter(function(Xf){return Xf})})}}),(!s&&Ne.length>1||s&&l>=1&&Ne.length>l)&&(Ne.forEach(function(Ft){Le.push({file:Ft,errors:[fye]})}),Ne.splice(0)),F({acceptedFiles:Ne,fileRejections:Le,isDragReject:Le.length>0,type:"setFiles"}),h&&h(Ne,Le,me),Le.length>0&&x&&x(Le,me),Ne.length>0&&m&&m(Ne,me)},[F,s,I,o,a,l,h,m,x,P]),re=D.useCallback(function(ae){ae.preventDefault(),ae.persist(),xt(ae),ee.current=[],Xd(ae)&&Promise.resolve(i(ae)).then(function(me){fm(ae)&&!E||se(me,ae)}).catch(function(me){return he(me)}),F({type:"reset"})},[i,se,he,E]),G=D.useCallback(function(){if(W.current){F({type:"openDialog"}),j();var ae={multiple:s,types:N};window.showOpenFilePicker(ae).then(function(me){return i(me)}).then(function(me){se(me,null),F({type:"closeDialog"})}).catch(function(me){xye(me)?(k(me),F({type:"closeDialog"})):bye(me)?(W.current=!1,$.current?($.current.value=null,$.current.click()):he(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):he(me)});return}$.current&&(F({type:"openDialog"}),j(),$.current.value=null,$.current.click())},[F,j,k,v,se,he,N,s]),Pe=D.useCallback(function(ae){!B.current||!B.current.isEqualNode(ae.target)||(ae.key===" "||ae.key==="Enter"||ae.keyCode===32||ae.keyCode===13)&&(ae.preventDefault(),G())},[B,G]),de=D.useCallback(function(){F({type:"focus"})},[]),Ee=D.useCallback(function(){F({type:"blur"})},[]),Ue=D.useCallback(function(){C||(mye()?setTimeout(G,0):G())},[C,G]),we=function(me){return r?null:me},$e=function(me){return S?null:we(me)},ve=function(me){return A?null:we(me)},xt=function(me){E&&me.stopPropagation()},Ht=D.useMemo(function(){return function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=ae.refKey,Ne=me===void 0?"ref":me,Le=ae.role,Ft=ae.onKeyDown,Li=ae.onFocus,Yr=ae.onBlur,tc=ae.onClick,Xr=ae.onDragEnter,Jo=ae.onDragOver,Wa=ae.onDragLeave,qa=ae.onDrop,nc=dm(ae,Eye);return pt(pt(Cb({onKeyDown:$e(Cr(Ft,Pe)),onFocus:$e(Cr(Li,de)),onBlur:$e(Cr(Yr,Ee)),onClick:we(Cr(tc,Ue)),onDragEnter:ve(Cr(Xr,Oe)),onDragOver:ve(Cr(Jo,et)),onDragLeave:ve(Cr(Wa,ne)),onDrop:ve(Cr(qa,re)),role:typeof Le=="string"&&Le!==""?Le:"presentation"},Ne,B),!r&&!S?{tabIndex:0}:{}),nc)}},[B,Pe,de,Ee,Ue,Oe,et,ne,re,S,A,r]),Kn=D.useCallback(function(ae){ae.stopPropagation()},[]),Gn=D.useMemo(function(){return function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=ae.refKey,Ne=me===void 0?"ref":me,Le=ae.onChange,Ft=ae.onClick,Li=dm(ae,Tye),Yr=Cb({accept:I,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:we(Cr(Le,re)),onClick:we(Cr(Ft,Kn)),tabIndex:-1},Ne,$);return pt(pt({},Yr),Li)}},[$,n,s,re,r]);return pt(pt({},M),{},{isFocused:U&&!r,getRootProps:Ht,getInputProps:Gn,rootRef:B,inputRef:$,open:we(G)})}function jye(t,e){switch(e.type){case"focus":return pt(pt({},t),{},{isFocused:!0});case"blur":return pt(pt({},t),{},{isFocused:!1});case"openDialog":return pt(pt({},kb),{},{isFileDialogActive:!0});case"closeDialog":return pt(pt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return pt(pt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return pt(pt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return pt({},kb);default:return t}}function NC(){}const Rye=({tripId:t,onUploadSuccess:e})=>{const[n,r]=D.useState([]),[i,a]=D.useState("idle"),[o,s]=D.useState(null),[l,c]=D.useState([]),[u,f]=D.useState(null),[h,m]=D.useState(!1),[x,b]=D.useState(0),{analyzeInvoiceFile:y,saveInvoiceToDatabase:v,loading:g}=Ko(),w=D.useCallback(V=>{const M=V.map(F=>{const U=F.type.startsWith("image/");return{file:F,type:U?"fuel":"plane",preview:URL.createObjectURL(F),status:"idle",progress:0}});r(F=>[...F,...M]),a("idle"),s(null)},[]),{getRootProps:C,getInputProps:S,isDragActive:A}=$L({onDrop:w,accept:{"application/pdf":[".pdf"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxSize:5242880}),E=V=>{r(M=>{const F=[...M];return F[V].preview&&URL.revokeObjectURL(F[V].preview),F.splice(V,1),F})},T=(V,M,F=0,U,q,W)=>{r(X=>{const ee=[...X];return ee[V]={...ee[V],status:M,progress:F,...U&&{result:U},...q&&{error:q},...typeof W<"u"&&{accepted:W}},ee})},P=async()=>{if(n.length!==0){a("uploading"),s(null),c([]);try{await Promise.all(n.map(async(V,M)=>{try{T(M,"uploading",10),await new Promise(U=>setTimeout(U,500)),T(M,"processing",30),await new Promise(U=>setTimeout(U,800)),T(M,"calculating",50);for(let U=50;U<=90;U+=10)await new Promise(q=>setTimeout(q,500)),T(M,"calculating",U);const F=await y(V.file,V.type);if(!F)throw new Error("Failed to analyze invoice");T(M,"analyzed",100,F),c(U=>[...U,F])}catch{T(M,"error",0,void 0,"Failed to analyze invoice")}})),a("success"),m(!0),b(0)}catch{a("error"),s("Failed to analyze one or more invoices. Please try again.")}}},I=V=>{T(V,"analyzed",100,n[V].result,void 0,!0)},N=V=>{T(V,"analyzed",100,n[V].result,void 0,!1)},j=async()=>{const V=n.filter(M=>M.accepted===!0&&M.result);if(V.length===0){s("No accepted invoices to save");return}a("uploading"),s(null);try{console.log(`Saving ${V.length} invoice(s) to database`);const M=[];for(const U of V){if(!U.result)continue;const q=await v(t,U.result);M.push(q)}const F=M.filter(Boolean).length;console.log(`Successfully saved ${F} of ${V.length} invoice(s)`),F>0?(V.forEach((U,q)=>{M[q]&&T(n.findIndex(W=>W.file===U.file),"success",100)}),e(),setTimeout(()=>{r(U=>U.filter(q=>q.status!=="success"))},2e3)):(a("error"),s("Failed to save invoices to database"))}catch(M){console.error("Error saving invoices:",M),a("error"),s("Error saving invoices: "+(M instanceof Error?M.message:String(M)))}},k=()=>{n.forEach(V=>{V.preview&&URL.revokeObjectURL(V.preview)}),r([]),a("idle"),s(null),c([])},B=V=>V.type==="fuel"?Math.round(V.co2):(V.type==="plane"||V.type==="train")&&Array.isArray(V.co2)?Math.round(V.co2.reduce((M,F)=>M+(F||0),0)):0,$=n.some(V=>V.status==="analyzed"),z=n.filter(V=>V.accepted===!0).length;return p.jsxs("div",{className:"space-y-6",children:[h&&n.filter(V=>V.status==="analyzed"||V.status==="success").length>0&&p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Invoice Details"}),p.jsx("button",{onClick:()=>{m(!1),f(null)},className:"text-gray-400 hover:text-gray-500",children:p.jsx(Xs,{className:"h-5 w-5"})})]}),p.jsx("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:n.filter(V=>V.status==="analyzed"||V.status==="success").map((V,M)=>p.jsx("button",{className:`px-4 py-2 text-sm font-medium ${x===M?"border-b-2 border-primary-500 text-primary-700":"text-gray-600 hover:text-primary-700"}`,onClick:()=>b(M),children:V.file.name},M))}),p.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:(()=>{var U;const V=n.filter(q=>q.status==="analyzed"||q.status==="success");if(V.length===0)return null;const M=V[x]||V[0],F=M.result;return F?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"File"}),p.jsx("p",{className:"text-base text-gray-900",children:F.fileName})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Carbon Footprint"}),p.jsxs("p",{className:"text-base text-gray-900 font-medium",children:[B(F).toLocaleString()," kg CO"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Calculation Method"}),p.jsx("div",{className:"text-xs text-gray-600 p-2 bg-gray-50 rounded border border-gray-200 mt-1",children:F.type==="fuel"?p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"font-medium mb-1",children:"Fuel CO calculation:"}),p.jsx("p",{children:"CO = Fuel Volume  Emission Factor"}),p.jsx("p",{className:"mt-1",children:"Where emission factor depends on fuel type:"}),p.jsxs("ul",{className:"list-disc pl-4 mt-1",children:[p.jsx("li",{children:"Diesel: 2.69 kg CO/liter"}),p.jsx("li",{children:"Petrol/Gasoline: 2.24 kg CO/liter"})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"font-medium mb-1",children:"Travel CO calculation:"}),p.jsx("p",{children:"CO = Distance  Emission Factor"}),p.jsx("p",{className:"mt-1",children:"Where emission factor depends on transport type:"}),p.jsxs("ul",{className:"list-disc pl-4 mt-1",children:[p.jsx("li",{children:"flight: 0.13 kg CO/km"}),p.jsx("li",{children:"Train: 0.035 kg CO/km"})]})]})})]}),F.type==="fuel"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fuel Type"}),p.jsx("p",{className:"text-base text-gray-900",children:F.typeOfFuel||"Unknown"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Volume"}),p.jsxs("p",{className:"text-base text-gray-900",children:[F.volume||0," L"]})]})]}),F.type==="plane"||F.type==="train"?p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Routes"}),p.jsx("div",{className:"mt-1 space-y-2",children:(U=F.departure)==null?void 0:U.map((q,W)=>{var fe;const X=((fe=F.arrival)==null?void 0:fe[W])||"Unknown",ee=Array.isArray(F.co2)&&F.co2[W]?F.co2[W]:0;return p.jsxs("div",{className:"p-2 bg-gray-50 rounded-md",children:[p.jsxs("p",{className:"text-sm text-gray-800",children:[q||"Unknown","  ",X]}),p.jsxs("p",{className:"text-xs text-gray-600",children:["CO: ",Math.round(ee).toLocaleString()," kg"]})]},W)})})]}):null,p.jsxs("div",{className:"flex items-center space-x-3 pt-2",children:[p.jsxs("button",{onClick:()=>I(n.findIndex(q=>q.file===M.file)),className:`flex items-center px-3 py-1 rounded-md ${M.accepted===!0?"bg-success-500 text-white":"bg-gray-100 text-success-700 hover:bg-success-100"}`,disabled:M.accepted===!0,children:[p.jsx(X3,{className:"h-4 w-4 mr-1"}),"Accept"]}),p.jsxs("button",{onClick:()=>N(n.findIndex(q=>q.file===M.file)),className:`flex items-center px-3 py-1 rounded-md ${M.accepted===!1?"bg-error-500 text-white":"bg-gray-100 text-error-700 hover:bg-error-100"}`,disabled:M.accepted===!1,children:[p.jsx(Y3,{className:"h-4 w-4 mr-1"}),"Reject"]}),M.accepted===!0&&p.jsx("span",{className:"text-xs text-success-600",children:"Accepted"}),M.accepted===!1&&p.jsx("span",{className:"text-xs text-error-600",children:"Rejected"})]})]}):null})()}),p.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:p.jsx("button",{type:"button",onClick:()=>{m(!1),f(null)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Close"})})]})}),p.jsxs("div",{...C(),className:`border-2 border-dashed rounded-lg p-6 transition-colors text-center cursor-pointer ${A?"border-primary-400 bg-primary-50":"border-gray-300 hover:border-primary-400 hover:bg-gray-50"}`,children:[p.jsx("input",{...S()}),p.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[p.jsx(J3,{className:`h-10 w-10 ${A?"text-primary-500":"text-gray-400"}`}),p.jsx("p",{className:"text-sm font-medium text-gray-700",children:A?"Drop your invoices here...":"Drag & drop your invoice files here, or click to select files"}),p.jsx("p",{className:"text-xs text-gray-500",children:"Supports PDF, JPG, PNG (max. 5MB)"})]})]}),i==="success"&&$&&p.jsx("div",{className:"flex items-center justify-between p-4 bg-success-50 text-success-800 rounded-md",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Rv,{className:"h-5 w-5 mr-2 text-success-500"}),p.jsxs("span",{children:[l.length," ",l.length===1?"invoice":"invoices"," analyzed successfully!"]}),p.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Please review and accept/reject each invoice."})]})}),i==="error"&&p.jsxs("div",{className:"flex items-center p-4 bg-error-50 text-error-800 rounded-md",children:[p.jsx(w0,{className:"h-5 w-5 mr-2 text-error-500"}),o||"Something went wrong. Please try again."]}),n.length>0&&p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Selected Invoices"}),p.jsx("div",{className:"space-y-3",children:n.map((V,M)=>p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 bg-gray-50 rounded-md",children:[p.jsxs("div",{className:"flex items-center min-w-0 max-w-[60%]",children:[p.jsx(B3,{className:"h-5 w-5 text-secondary-500 mr-2 flex-shrink-0"}),p.jsx("span",{className:"text-sm text-gray-800 truncate",children:V.file.name})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center sm:space-x-4 w-full sm:w-auto",children:[p.jsx("div",{className:"mt-2 sm:mt-0 w-full sm:w-auto",children:(()=>{switch(V.status){case"idle":return null;case"uploading":return p.jsxs("div",{className:"flex items-center",children:[p.jsx(Dv,{className:"h-4 w-4 text-primary-500 animate-spin mr-2"}),p.jsx("span",{className:"text-xs text-gray-600",children:"Uploading..."})]});case"processing":return p.jsxs("div",{className:"flex items-center",children:[p.jsx(Dv,{className:"h-4 w-4 text-primary-500 animate-spin mr-2"}),p.jsx("span",{className:"text-xs text-gray-600",children:"Processing..."})]});case"calculating":return p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Dv,{className:"h-4 w-4 text-primary-500 animate-spin mr-2"}),p.jsx("span",{className:"text-xs text-gray-600",children:"Calculating CO..."})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:p.jsx("div",{className:"bg-primary-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${V.progress}%`}})})]});case"analyzed":return p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Rv,{className:"h-4 w-4 text-warning-500"}),p.jsx("span",{className:"text-xs text-warning-600",children:"Analyzed"})]});case"success":return p.jsxs("div",{className:"flex items-center",children:[p.jsx(Rv,{className:"h-4 w-4 text-success-500 mr-2"}),p.jsx("span",{className:"text-xs text-success-600",children:"Saved"})]});case"error":return p.jsxs("div",{className:"flex items-center",children:[p.jsx(w0,{className:"h-4 w-4 text-error-500 mr-2"}),p.jsx("span",{className:"text-xs text-error-600",children:V.error||"Error"})]});default:return null}})()}),V.status!=="uploading"&&V.status!=="processing"&&V.status!=="calculating"&&V.status!=="success"&&p.jsx("button",{type:"button",onClick:()=>E(M),className:"mt-2 sm:mt-0 p-1 text-gray-500 hover:text-error-500 focus:outline-none","aria-label":"Remove file",children:p.jsx(Xs,{className:"h-5 w-5"})})]})]},M))}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 focus:outline-none",children:"Cancel"}),n.some(V=>V.status==="idle")&&p.jsx("button",{type:"button",onClick:P,disabled:g||n.length===0||n.some(V=>["uploading","processing","calculating"].includes(V.status)),className:"px-4 py-2 bg-primary-500 text-white rounded-md shadow-sm hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-70 disabled:cursor-not-allowed",children:n.some(V=>["uploading","processing","calculating"].includes(V.status))?"Processing...":"Analyze Invoices"})]}),z>0&&p.jsx("div",{className:"flex justify-end mt-4",children:p.jsxs("button",{type:"button",onClick:j,disabled:g,className:"px-4 py-2 bg-success-500 text-white rounded-md shadow-sm hover:bg-success-600 focus:outline-none focus:ring-2 focus:ring-success-500 disabled:opacity-70 disabled:cursor-not-allowed flex items-center",children:[p.jsx(oN,{className:"h-4 w-4 mr-2"}),"Save ",z]})})]})]})},Dye=({invoices:t,tripId:e,onInvoiceDeleted:n})=>{const[r,i]=D.useState("all"),[a,o]=D.useState({}),{deleteInvoice:s,loading:l}=Ko(),[c,u]=D.useState(null),[f,h]=D.useState([]);D.useEffect(()=>{const I=r==="all"?t:t.filter(N=>N.type===r);h(I)},[t,r]);const m=I=>{o(N=>({...N,[I]:!N[I]}))},x=I=>{u(I)},b=()=>{u(null)},y=async()=>{c&&(await s(e,c)&&n&&n(),b())},v=I=>{if(C(I))return p.jsx("span",{className:"text-amber-500",children:""});if(S(I))switch((Array.isArray(I.transport_type)&&I.transport_type[0]?I.transport_type[0]:I.type).toLowerCase()){case"plane":case"air":case"flight":case"airplane":return p.jsx("span",{className:"text-blue-500",children:""});case"train":case"rail":return p.jsx("span",{className:"text-green-500",children:""});default:return p.jsx("span",{className:"text-blue-500",children:""})}else return p.jsx(YT,{className:"h-4 w-4 text-gray-500"})},g=I=>{if(C(I))return"Fuel";if(S(I)){const N=Array.isArray(I.transport_type)&&I.transport_type[0]?I.transport_type[0]:I.type;return N.charAt(0).toUpperCase()+N.slice(1).toLowerCase()}else return I.type||"Unknown"},w=I=>I?I.split(" ").map(N=>N[0]).join("").toUpperCase().substring(0,2):"?",C=I=>I.type==="fuel",S=I=>I.type==="plane"||I.type==="train",A=I=>{const N=I.toLowerCase();return N==="plane"||N==="air"||N==="flight"||N==="airplane"?p.jsx("span",{className:"text-blue-500",children:""}):N==="train"||N==="rail"?p.jsx("span",{className:"text-green-500",children:""}):p.jsx("span",{className:"text-blue-500",children:""})},E=I=>{if(!Array.isArray(I.departure)||!Array.isArray(I.arrival))return p.jsx("span",{className:"text-sm text-gray-400",children:"No route information"});const N=a[I.id],j=I.departure.length>1,k=Array.isArray(I.co2)?I.co2.reduce((B,$)=>B+($||0),0):0;return p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(W3,{className:"h-4 w-4 text-gray-500 mr-2"}),p.jsxs("span",{className:"text-sm text-gray-900 truncate",children:[I.departure[0]||"N/A","  ",I.arrival[0]||"N/A"]}),j&&p.jsx("button",{onClick:B=>{B.stopPropagation(),m(I.id)},className:"ml-2 text-gray-500 hover:text-gray-700",children:N?p.jsx(S0,{className:"h-4 w-4"}):p.jsx(E0,{className:"h-4 w-4"})})]}),N&&j&&p.jsxs("div",{className:"mt-2 pl-6 border-l-2 border-gray-200",children:[I.departure.map((B,$)=>{const z=Array.isArray(I.transport_type)&&I.transport_type[$]?I.transport_type[$]:"Unknown",V=Array.isArray(I.co2)&&I.co2[$]?Math.round(I.co2[$]).toLocaleString():"0";return p.jsx("div",{className:"text-sm text-gray-700 py-1",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center max-w-[65%]",children:[A(z),p.jsxs("span",{className:"ml-2 truncate",title:`${B||"N/A"}  ${I.arrival[$]||"N/A"}`,children:[B||"N/A","  ",I.arrival[$]||"N/A"]})]}),p.jsxs("span",{className:"text-gray-600 ml-2 flex-shrink-0",children:[V," kg CO"]})]})},$)}),p.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 flex justify-between text-sm font-medium",children:[p.jsx("span",{children:"Total"}),p.jsxs("span",{children:[Math.round(k).toLocaleString()," kg CO"]})]})]})]})},T=I=>p.jsxs("div",{className:"flex items-center",children:[p.jsx(U3,{className:"h-4 w-4 text-gray-500 mr-2"}),p.jsxs("span",{className:"text-sm text-gray-900",children:[I.volume," L  ",I.typeOfFuel||"Unknown fuel type"]})]}),P=I=>{if(C(I))return p.jsxs("div",{className:"flex items-center",children:[p.jsx(Sa,{className:"h-4 w-4 text-gray-500 mr-2"}),p.jsxs("span",{className:"text-sm text-gray-900",children:[Math.round(I.co2).toLocaleString()," kg CO"]})]});{const N=Array.isArray(I.co2)?Math.round(I.co2.reduce((j,k)=>j+(k||0),0)):0;return p.jsxs("div",{className:"flex items-center",children:[p.jsx(Sa,{className:"h-4 w-4 text-gray-500 mr-2"}),p.jsxs("span",{className:"text-sm text-gray-900",children:[N.toLocaleString()," kg CO"]})]})}};return p.jsxs("div",{className:"space-y-4",children:[p.jsx(AL,{isOpen:c!==null,title:"Delete Invoice",message:"Are you sure you want to delete this invoice? This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:y,onCancel:b}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[p.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2 sm:mb-0",children:["Invoices (",f.length,")"]}),p.jsxs("div",{className:"flex space-x-1",children:[p.jsx("button",{onClick:()=>i("all"),className:`px-3 py-1 text-sm rounded-md ${r==="all"?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),p.jsx("button",{onClick:()=>i("fuel"),className:`px-3 py-1 text-sm rounded-md ${r==="fuel"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Fuel"}),p.jsx("button",{onClick:()=>i("plane"),className:`px-3 py-1 text-sm rounded-md ${r==="plane"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Plane"}),p.jsx("button",{onClick:()=>i("train"),className:`px-3 py-1 text-sm rounded-md ${r==="train"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Train"})]})]}),f.length===0?p.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:p.jsx("p",{className:"text-gray-500",children:"No invoices found. Add some invoices to get started."})}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carbon Footprint"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Uploaded By"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(I=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center",children:[v(I),p.jsx("span",{className:"ml-2 text-sm capitalize text-gray-900",children:g(I)})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(YT,{className:"h-4 w-4 text-gray-500 mr-2"}),p.jsx("span",{className:"text-sm text-gray-900",children:I.fileName})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P(I)}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C(I)?T(I):S(I)?E(I):null}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.uploadedBy?p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"bg-secondary-100 text-secondary-700 rounded-full w-8 h-8 flex items-center justify-center mr-2",children:w(I.uploadedBy.name)}),p.jsx("span",{className:"text-sm",children:I.uploadedBy.name})]}):p.jsxs("div",{className:"flex items-center text-gray-400",children:[p.jsx(Cm,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"text-sm",children:"Unknown"})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:p.jsx("button",{onClick:()=>x(I.id),disabled:l,className:"text-red-600 hover:text-red-900 focus:outline-none",title:"Delete invoice",children:p.jsx(lN,{className:"h-4 w-4"})})})]},I.id))})]})})]})},jC=["#F59E0B","#4A6FA5","#2D6A4F"],Nb=({data:t})=>{const e=({active:n,payload:r})=>n&&r&&r.length?p.jsxs("div",{className:"bg-white p-3 border border-gray-200 shadow-sm rounded-md",children:[p.jsx("p",{className:"font-medium",children:r[0].name}),p.jsx("p",{className:"text-gray-700",children:`${Math.round(r[0].value).toLocaleString()} kg CO`}),p.jsx("p",{className:"text-gray-600 text-sm",children:`${(r[0].value/t.reduce((i,a)=>i+a.value,0)*100).toFixed(1)}%`})]}):null;return p.jsx("div",{className:"h-80 w-full",children:p.jsx(eM,{width:"100%",height:"100%",children:p.jsxs(Rve,{children:[p.jsx($i,{data:t,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((n,r)=>p.jsx(xg,{fill:n.fill||jC[r%jC.length]},`cell-${r}`))}),p.jsx(vr,{content:p.jsx(e,{})}),p.jsx(ba,{})]})})})},RC=t=>t.type==="fuel",Mye=t=>t.type==="plane"||t.type==="train",$ye=()=>{const{id:t}=c3(),e=Bo(),{getTrip:n,loading:r,error:i}=Ko(),{user:a}=cr(),[o,s]=D.useState(null),[l,c]=D.useState(0),[u,f]=D.useState(!1),[h,m]=D.useState({name:"",description:"",startDate:"",endDate:"",contributors:[]}),[x,b]=D.useState(!1),[y,v]=D.useState(""),[g,w]=D.useState([]),[C,S]=D.useState(!1),[A,E]=D.useState("");D.useEffect(()=>{(async()=>{if(t==="new"){e("/trips/new");return}if(!t)return;const q=await n(t);s(q)})()},[t,n,e,l]),D.useEffect(()=>{o&&m({name:o.name,description:o.description,startDate:o.startDate,endDate:o.endDate,contributors:o.contributors||[]})},[o]);const T=U=>{const q={year:"numeric",month:"long",day:"numeric"};return new Date(U).toLocaleDateString(void 0,q)},P=(U,q)=>{const W=new Date(U),ee=new Date(q).getTime()-W.getTime();return Math.ceil(ee/(1e3*3600*24))+1},I=()=>{if(!o)return[];const U={fuel:{total:0,types:{}},plane:{total:0},train:{total:0}};o.invoices.forEach(W=>{if(RC(W)){const X=W.co2;U.fuel.total+=X;const ee=W.typeOfFuel||"Unknown";U.fuel.types[ee]||(U.fuel.types[ee]=0),U.fuel.types[ee]+=X}else if(Mye(W)){const X=Array.isArray(W.co2)?W.co2.reduce((ee,fe)=>ee+(fe||0),0):0;if(Array.isArray(W.transport_type)&&W.transport_type.length>0)for(const ee of W.transport_type){const fe=(ee||"").toLowerCase();fe.includes("train")||fe==="train"?U.train.total+=X/W.transport_type.length:U.plane.total+=X/W.transport_type.length}else W.type==="plane"?U.plane.total+=X:W.type==="train"&&(U.train.total+=X)}});const q=[];return U.fuel.total>0&&q.push({name:"Fuel",value:U.fuel.total,fill:"#F59E0B"}),U.plane.total>0&&q.push({name:"Plane",value:U.plane.total,fill:"#4A6FA5"}),U.train.total>0&&q.push({name:"Train",value:U.train.total,fill:"#2D6A4F"}),q},N=()=>{if(!o)return[];const U={};return o.invoices.forEach(q=>{if(RC(q)){const W=q.typeOfFuel||"Unknown";U[W]||(U[W]=0),U[W]+=q.co2}}),Object.entries(U).map(([q,W],X)=>{const fe=45+X*5%25;return{name:q,value:W,fill:`hsl(35, 90%, ${fe}%)`}})},j=async()=>{if(!(!a||!o)){b(!0);try{const U=Je(We,"users",a.uid),q=await nt(U);if(q.exists()){const W=q.data(),ee=(W.businessTrips||{trips:[]}).trips||[],fe=ee.findIndex(he=>he.id===o.id);if(fe!==-1){ee[fe]={...ee[fe],name:h.name,description:h.description,startDate:h.startDate,endDate:h.endDate,contributors:h.contributors},await Gt(U,{"businessTrips.trips":ee});const he=o.contributors.map(se=>se.id),Oe=h.contributors.map(se=>se.id),et=h.contributors.filter(se=>!he.includes(se.id));for(const se of et){const re=Je(We,"users",se.id),G=await nt(re);if(G.exists()){const de=G.data().sharedTrips||[];await Gt(re,{sharedTrips:[...de,{id:o.id,ownerId:a.uid,ownerName:W.name||"Unknown",name:h.name,dateShared:new Date().toISOString()}]})}}const ne=he.filter(se=>!Oe.includes(se));for(const se of ne){const re=Je(We,"users",se),G=await nt(re);if(G.exists()){const Ee=(G.data().sharedTrips||[]).filter(Ue=>Ue.id!==o.id);await Gt(re,{sharedTrips:Ee})}}}}s(W=>W&&{...W,name:h.name,description:h.description,startDate:h.startDate,endDate:h.endDate,contributors:h.contributors}),f(!1)}finally{b(!1)}}},k=async()=>{if(!y.trim()||!y.includes("@")){E("Please enter a valid email");return}S(!0),E("");try{const U=v_(We,"users"),q=I_(U,O_("email","==",y.trim().toLowerCase())),W=await k_(q);if(W.empty)E("No user found with that email"),w([]);else{const ee=W.docs.map(fe=>({id:fe.id,...fe.data()})).filter(fe=>fe.id!==(a==null?void 0:a.uid)&&!h.contributors.some(he=>he.id===fe.id));w(ee)}}catch(U){console.error("Error searching users:",U),E("Failed to search for users")}finally{S(!1)}},B=U=>{m(q=>({...q,contributors:[...q.contributors,{id:U.id,name:U.name,email:U.email}]})),w([]),v("")},$=U=>{m(q=>({...q,contributors:q.contributors.filter(W=>W.id!==U)}))},z=()=>{c(U=>U+1)};if(r)return p.jsxs("div",{className:"container mx-auto p-6 animate-pulse",children:[p.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded mb-6"}),p.jsx("div",{className:"h-36 bg-gray-200 rounded-lg mb-8"}),p.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})]});if(i||!o)return p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("div",{className:"bg-error-50 text-error-700 p-4 rounded-md",children:i||"Trip not found"}),p.jsx("div",{className:"mt-4",children:p.jsxs(bo,{to:"/trips",className:"inline-flex items-center text-primary-600 hover:text-primary-700",children:[p.jsx(T0,{className:"h-5 w-5 mr-1"}),"Back to Trips"]})})]});const V=I(),M=o.invoices.some(U=>U.type==="fuel"),F=M?N():[];return p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("div",{className:"mb-6",children:p.jsxs(bo,{to:"/trips",className:"inline-flex items-center text-primary-600 hover:text-primary-700",children:[p.jsx(T0,{className:"h-5 w-5 mr-1"}),"Back to Trips"]})}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card overflow-hidden mb-8",children:[p.jsx("div",{className:"p-6 border-b border-gray-200 flex items-start justify-between",children:p.jsx("div",{className:"w-full",children:u?p.jsxs(p.Fragment,{children:[p.jsx("input",{className:"text-2xl font-bold text-gray-900 mb-2 border-b border-primary-300 focus:outline-none focus:border-primary-500",value:h.name,onChange:U=>m(q=>({...q,name:U.target.value})),disabled:x}),p.jsx("textarea",{className:"mt-2 text-gray-600 w-full border rounded p-2 focus:outline-none focus:border-primary-500",value:h.description,onChange:U=>m(q=>({...q,description:U.target.value})),rows:2,disabled:x}),p.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Start Date"}),p.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:h.startDate,onChange:U=>m(q=>({...q,startDate:U.target.value})),disabled:x})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"End Date"}),p.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:h.endDate,onChange:U=>m(q=>({...q,endDate:U.target.value})),disabled:x})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Trip Contributors"}),h.contributors.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:h.contributors.map(U=>p.jsxs("div",{className:"flex items-center bg-primary-50 text-primary-700 py-1 px-3 rounded-full text-sm",children:[p.jsx("span",{className:"mr-1",children:U.name}),p.jsx("button",{type:"button",onClick:()=>$(U.id),className:"text-primary-500 hover:text-primary-700",disabled:x,children:p.jsx(Xs,{className:"h-4 w-4"})})]},U.id))}),p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx("input",{type:"email",value:y,onChange:U=>v(U.target.value),placeholder:"Search user by email",className:"w-full px-4 py-2 pr-10 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500",disabled:x}),p.jsx("div",{className:"absolute right-3 top-2.5 text-gray-400",children:p.jsx(sN,{className:"h-5 w-5"})})]}),p.jsx("button",{type:"button",onClick:k,disabled:C||x,className:"px-4 py-2 bg-secondary-500 text-white rounded-md hover:bg-secondary-600 disabled:bg-gray-300",children:C?"Searching...":"Search"})]}),A&&p.jsx("p",{className:"mt-1 text-sm text-error-600",children:A})]}),g.length>0&&p.jsx("div",{className:"border rounded-md divide-y mb-3",children:g.map(U=>p.jsxs("div",{className:"p-2 flex justify-between items-center hover:bg-gray-50",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"bg-secondary-100 text-secondary-700 rounded-full w-8 h-8 flex items-center justify-center mr-3",children:p.jsx(nu,{className:"h-4 w-4"})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:U.name}),p.jsx("div",{className:"text-sm text-gray-500",children:U.email})]})]}),p.jsxs("button",{type:"button",onClick:()=>B(U),className:"text-primary-600 hover:text-primary-800 flex items-center",disabled:x,children:[p.jsx(jw,{className:"h-4 w-4 mr-1"}),"Add"]})]},U.id))})]}),p.jsxs("div",{className:"mt-3 flex gap-2",children:[p.jsx("button",{className:"px-3 py-1 bg-primary-500 text-white rounded hover:bg-primary-600",onClick:j,disabled:x,children:x?"Saving...":"Save"}),p.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>f(!1),disabled:x,children:"Cancel"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[o.name,p.jsx("button",{className:"ml-2 p-1 text-gray-400 hover:text-primary-500",onClick:()=>f(!0),"aria-label":"Edit trip",children:p.jsx(H3,{className:"h-4 w-4"})})]}),p.jsx("p",{className:"mt-2 text-gray-600",children:o.description}),o.contributors&&o.contributors.length>0&&p.jsxs("div",{className:"mt-3 flex items-center",children:[p.jsx(Z3,{className:"h-4 w-4 text-gray-500 mr-2"}),p.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Shared with:"}),p.jsx("div",{className:"flex space-x-1",children:o.contributors.map((U,q)=>p.jsxs("span",{className:"text-sm text-primary-700 bg-primary-50 px-2 py-1 rounded-full",children:[U.name,(q<o.contributors.length-1,"")]},U.id))})]})]})})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 divide-y md:divide-y-0 md:divide-x divide-gray-200",children:[p.jsxs("div",{className:"p-6 flex items-center",children:[p.jsx(Nw,{className:"h-6 w-6 text-secondary-500 mr-3"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-500",children:"Trip Dates"}),p.jsxs("p",{className:"font-medium",children:[T(o.startDate)," - ",T(o.endDate)]})]})]}),p.jsxs("div",{className:"p-6 flex items-center",children:[p.jsx(V3,{className:"h-6 w-6 text-secondary-500 mr-3"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),p.jsxs("p",{className:"font-medium",children:[P(o.startDate,o.endDate)," days"]})]})]}),p.jsxs("div",{className:"p-6 flex items-center",children:[p.jsx(M3,{className:"h-6 w-6 text-secondary-500 mr-3"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-500",children:"Invoices Uploaded"}),p.jsx("p",{className:"font-medium",children:o.invoices.length})]})]}),p.jsxs("div",{className:"p-6 flex items-center",children:[p.jsx(Sa,{className:"h-6 w-6 text-secondary-500 mr-3"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-500",children:"Total Carbon Footprint"}),p.jsxs("p",{className:"font-medium",children:[Math.round(o.totalCarbonFootprint).toLocaleString()," kg CO"]})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[p.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-card p-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Upload Invoices"}),p.jsx(Rye,{tripId:o.id,onUploadSuccess:z})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Emission Breakdown"}),V.length>0?p.jsxs(p.Fragment,{children:[p.jsx(Nb,{data:V}),M&&F.length>1&&p.jsxs("div",{className:"mt-4",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Fuel Type Breakdown"}),p.jsx("div",{className:"space-y-2",children:F.map((U,q)=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"inline-block w-3 h-3 mr-2 rounded-full",style:{backgroundColor:U.fill}}),p.jsx("span",{className:"text-sm",children:U.name})]}),p.jsxs("span",{className:"text-sm font-medium",children:[Math.round(U.value).toLocaleString()," kg CO"]})]},q))})]})]}):p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 bg-gray-50 rounded-lg",children:[p.jsx(Ys,{className:"h-10 w-10 text-gray-400 mb-2"}),p.jsxs("p",{className:"text-gray-500 text-center",children:["No emissions data yet.",p.jsx("br",{}),"Upload invoices to see your carbon footprint."]})]})]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Trip Invoices"}),p.jsx(Dye,{invoices:o.invoices,tripId:o.id,onInvoiceDeleted:z})]})]})},Lye=()=>{const t=Bo(),{createTrip:e,loading:n,error:r}=Ko(),{user:i}=cr(),[a,o]=D.useState({name:"",description:"",startDate:"",endDate:""}),[s,l]=D.useState({name:"",startDate:"",endDate:""}),[c,u]=D.useState(""),[f,h]=D.useState([]),[m,x]=D.useState([]),[b,y]=D.useState(!1),[v,g]=D.useState(""),w=P=>{const{name:I,value:N}=P.target;o(j=>({...j,[I]:N})),s[I]&&l(j=>({...j,[I]:""}))},C=async()=>{if(!c.trim()||!c.includes("@")){g("Please enter a valid email");return}y(!0),g("");try{const P=v_(We,"users"),I=I_(P,O_("email","==",c.trim().toLowerCase())),N=await k_(I);if(N.empty)g("No user found with that email"),h([]);else{const k=N.docs.map(B=>({id:B.id,...B.data()})).filter(B=>B.id!==(i==null?void 0:i.uid)&&!m.some($=>$.id===B.id));h(k)}}catch(P){console.error("Error searching users:",P),g("Failed to search for users")}finally{y(!1)}},S=P=>{x(I=>[...I,{id:P.id,name:P.name,email:P.email}]),h([]),u("")},A=P=>{x(I=>I.filter(N=>N.id!==P))},E=()=>{const P={name:"",startDate:"",endDate:""};let I=!0;return a.name.trim()||(P.name="Trip name is required",I=!1),a.startDate||(P.startDate="Start date is required",I=!1),a.endDate?a.startDate&&a.endDate&&new Date(a.endDate)<new Date(a.startDate)&&(P.endDate="End date must be after start date",I=!1):(P.endDate="End date is required",I=!1),l(P),I},T=async P=>{if(P.preventDefault(),!E())return;const I=await e({...a,contributors:m});I&&t(`/trips/${I.id}`)};return p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6 max-w-2xl mx-auto",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Create New Trip"}),r&&p.jsx("div",{className:"mb-6 p-4 bg-error-50 text-error-700 rounded-md",children:r}),p.jsxs("form",{onSubmit:T,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trip Name *"}),p.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:w,className:`w-full px-4 py-2 rounded-md border ${s.name?"border-error-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Business Trip to New York"}),s.name&&p.jsx("p",{className:"mt-1 text-sm text-error-600",children:s.name})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),p.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:w,rows:3,className:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Details about the purpose of the trip"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),p.jsx("input",{type:"date",id:"startDate",name:"startDate",value:a.startDate,onChange:w,className:`w-full px-4 py-2 rounded-md border ${s.startDate?"border-error-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-primary-500`}),s.startDate&&p.jsx("p",{className:"mt-1 text-sm text-error-600",children:s.startDate})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),p.jsx("input",{type:"date",id:"endDate",name:"endDate",value:a.endDate,onChange:w,className:`w-full px-4 py-2 rounded-md border ${s.endDate?"border-error-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-primary-500`}),s.endDate&&p.jsx("p",{className:"mt-1 text-sm text-error-600",children:s.endDate})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contributors"}),p.jsxs("div",{className:"space-y-4",children:[m.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:m.map(P=>p.jsxs("div",{className:"flex items-center bg-primary-50 text-primary-700 py-1 px-3 rounded-full text-sm",children:[p.jsx("span",{className:"mr-1",children:P.name}),p.jsx("button",{type:"button",onClick:()=>A(P.id),className:"text-primary-500 hover:text-primary-700",children:p.jsx(Xs,{className:"h-4 w-4"})})]},P.id))}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx("input",{type:"email",value:c,onChange:P=>u(P.target.value),placeholder:"Search user by email",className:"w-full px-4 py-2 pr-10 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500"}),p.jsx("div",{className:"absolute right-3 top-2.5 text-gray-400",children:p.jsx(sN,{className:"h-5 w-5"})})]}),p.jsx("button",{type:"button",onClick:C,disabled:b,className:"px-4 py-2 bg-secondary-500 text-white rounded-md hover:bg-secondary-600 disabled:bg-gray-300",children:b?"Searching...":"Search"})]}),v&&p.jsx("p",{className:"mt-1 text-sm text-error-600",children:v})]}),f.length>0&&p.jsx("div",{className:"border rounded-md divide-y",children:f.map(P=>p.jsxs("div",{className:"p-2 flex justify-between items-center hover:bg-gray-50",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"bg-secondary-100 text-secondary-700 rounded-full w-8 h-8 flex items-center justify-center mr-3",children:p.jsx(Cm,{className:"h-4 w-4"})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:P.name}),p.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]}),p.jsxs("button",{type:"button",onClick:()=>S(P),className:"text-primary-600 hover:text-primary-800 flex items-center",children:[p.jsx(jw,{className:"h-4 w-4 mr-1"}),"Add"]})]},P.id))})]})]}),p.jsxs("div",{className:"flex justify-end",children:[p.jsx("button",{type:"button",onClick:()=>t("/trips"),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md shadow-sm mr-3 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-primary-500 text-white rounded-md shadow-sm hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-70 disabled:cursor-not-allowed",children:n?"Creating...":"Create Trip"})]})]})]})},Fye=()=>p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("div",{className:"mb-6",children:p.jsxs(bo,{to:"/trips",className:"inline-flex items-center text-primary-600 hover:text-primary-700",children:[p.jsx(T0,{className:"h-5 w-5 mr-1"}),"Back to Trips"]})}),p.jsx(Lye,{})]}),Vye=()=>{const{login:t,register:e,user:n}=cr(),r=Bo(),[i,a]=D.useState(!1),[o,s]=D.useState(""),[l,c]=D.useState(""),[u,f]=D.useState(""),[h,m]=D.useState(""),[x,b]=D.useState("Tech"),[y,v]=D.useState("employee"),[g,w]=D.useState(null),C=["Finance","Industry","Tech","Marketing","Operations"];L.useEffect(()=>{n&&r("/")},[n,r]);const S=async A=>{A.preventDefault(),w(null);try{i?await e(o,l,u,h,x,y):await t(o,l)}catch(E){let T="Authentication failed";E.code==="auth/user-not-found"||E.code==="auth/wrong-password"?T="Incorrect email or password.":E.code==="auth/invalid-email"?T="Invalid email address format.":E.code==="auth/email-already-in-use"?T="This email is already registered.":E.code==="auth/weak-password"&&(T="Password should be at least 6 characters."),w(T)}};return p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:p.jsxs("form",{onSubmit:S,className:"bg-white p-8 rounded-lg shadow-card w-full max-w-sm space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:i?"Register":"Sign In"}),g&&p.jsx("div",{className:"bg-error-50 text-error-700 p-2 rounded text-center text-sm",children:g}),i&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),p.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:u,onChange:A=>f(A.target.value),required:i})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Position"}),p.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:h,onChange:A=>m(A.target.value),required:i})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),p.jsx("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:x,onChange:A=>b(A.target.value),required:i,children:C.map(A=>p.jsx("option",{value:A,children:A},A))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsxs("label",{className:"inline-flex items-center",children:[p.jsx("input",{type:"radio",className:"form-radio text-primary-500",name:"role",value:"employee",checked:y==="employee",onChange:()=>v("employee")}),p.jsx("span",{className:"ml-2",children:"Employee"})]}),p.jsxs("label",{className:"inline-flex items-center",children:[p.jsx("input",{type:"radio",className:"form-radio text-primary-500",name:"role",value:"manager",checked:y==="manager",onChange:()=>v("manager")}),p.jsx("span",{className:"ml-2",children:"Manager"})]})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:o,onChange:A=>s(A.target.value),required:!0,autoFocus:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),p.jsx("input",{type:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:l,onChange:A=>c(A.target.value),required:!0})]}),p.jsx("button",{type:"submit",className:"w-full py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600 transition",children:i?"Register":"Sign In"}),p.jsx("div",{className:"text-center",children:p.jsx("button",{type:"button",className:"text-primary-600 hover:underline text-sm",onClick:()=>a(A=>!A),children:i?"Already have an account? Sign In":"Don't have an account? Register"})})]})})},Uye=()=>{const{user:t,logout:e,isManager:n}=cr(),[r,i]=D.useState(null),[a,o]=D.useState(!0);return D.useEffect(()=>{if(!t)return;(async()=>{o(!0);const l=Je(We,"users",t.uid),c=await nt(l);if(c.exists()){const u=c.data();i({id:t.uid,name:u.name||t.displayName||"User",email:u.email||t.email||"",jobPosition:u.jobPosition||"",department:u.department||"Tech",role:u.role||"employee",totalCarbon:u.totalCarbon||0})}else i(null);o(!1)})()},[t]),a?p.jsx("div",{className:"container mx-auto p-6",children:"Loading..."}):r?p.jsxs("div",{className:"container mx-auto p-6 max-w-xl",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Account Overview"}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Name:"})," ",r.name]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Job Position:"})," ",r.jobPosition]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Department:"})," ",r.department]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Role:"}),p.jsx("span",{className:`ml-1 ${r.role==="manager"?"text-primary-600 font-medium":""}`,children:r.role==="manager"?"Manager":"Employee"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Email:"})," ",r.email]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-700",children:"Total Carbon:"})," ",r.totalCarbon.toLocaleString()," kg CO"]}),n()&&p.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[p.jsx("p",{className:"text-primary-600 font-medium mb-1",children:"Manager Access"}),p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"As a manager, you have access to the admin dashboard where you can view carbon emissions for employees in your department."}),p.jsx("a",{href:"/admin",className:"inline-block px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600",children:"Go to Admin Dashboard"})]}),p.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-error-500 text-white rounded-md hover:bg-error-600",children:"Logout"})]})]}):p.jsx("div",{className:"container mx-auto p-6",children:"No account data found."})},Bye=t=>t.type==="fuel",zye=t=>t.type==="plane"||t.type==="train",DC=t=>{var e;return{id:t.id,name:t.name,description:t.description,startDate:t.startDate,endDate:t.endDate,totalCarbonFootprint:t.carbonFootprint||0,invoices:Array.isArray((e=t.invoices)==null?void 0:e.invoices)?t.invoices.invoices.map(n=>n.type==="fuel"?{id:n.id||"",type:n.type,fileName:n.fileName||"",co2:n.co2||0,volume:n.volume||0,typeOfFuel:n.typeOfFuel||"",uploadedBy:n.uploadedBy||{id:t.ownerId||"unknown",name:"Unknown User"}}:{id:n.id||"",tripId:t.id,type:n.type,fileName:n.fileName||"",date:n.date,amount:n.amount||0,carbonFootprint:n.carbonFootprint||0,name:n.name||"",status:n.status||"processed",description:n.description||"",departure:n.departure||[],arrival:n.arrival||[],transport_type:n.transport_type||[],co2:n.co2||[],uploadedBy:n.uploadedBy||{id:t.ownerId||"unknown",name:"Unknown User"}}):[],createdAt:t.createdAt||"",ownerId:t.ownerId||"",contributors:t.contributors||[]}},Wye=()=>{const t=Bo(),{user:e,isManager:n,userDepartment:r}=cr(),[i,a]=D.useState(!0),[o,s]=D.useState([]),[l,c]=D.useState({}),[u,f]=D.useState(0),[h,m]=D.useState(0),[x,b]=D.useState({fuel:0,plane:0,train:0}),[y,v]=D.useState(!1),[g,w]=D.useState(!0),[C,S]=D.useState({}),[A,E]=D.useState({});D.useEffect(()=>{n()||t("/")},[n,t]),D.useEffect(()=>{if(!r)return;(async()=>{var B;try{a(!0);const $=v_(We,"users"),z=I_($,O_("department","==",r)),V=await k_(z),M=[],F=[];for(const re of V.docs){const G=re.data(),Pe=re.id;F.push(Pe);const de={id:Pe,name:G.name||"Unknown",email:G.email||"",jobPosition:G.jobPosition||"",department:G.department,role:G.role||"employee",totalCarbon:0};M.push(de)}const U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],q={};U.forEach(re=>{q[re]={fuel:0,plane:0,train:0}});const W={};F.forEach(re=>{W[re]={totalCarbon:0,fuelCarbon:0,planeCarbon:0,trainCarbon:0}});const X={fuel:0,plane:0,train:0};let ee=0;const fe=new Set,he={fuel:{userId:"",value:0},plane:{userId:"",value:0},train:{userId:"",value:0}},Oe=[];for(const re of F){const G=Je(We,"users",re),Pe=await nt(G);if(Pe.exists()){const de=Pe.data();Array.isArray(de.carbonEntries)&&de.carbonEntries.forEach($e=>{const ve=$e.co2||0;if(ee+=ve,W[re].totalCarbon+=ve,$e.type==="car"?(X.fuel+=ve,W[re].fuelCarbon+=ve,ve>he.fuel.value&&(he.fuel={userId:re,value:ve})):$e.type==="plane"?(X.plane+=ve,W[re].planeCarbon+=ve,ve>he.plane.value&&(he.plane={userId:re,value:ve})):$e.type==="train"&&(X.train+=ve,W[re].trainCarbon+=ve,ve>he.train.value&&(he.train={userId:re,value:ve})),$e.date||$e.createdAt){const xt=new Date($e.date||$e.createdAt),Ht=U[xt.getMonth()];$e.type==="car"?q[Ht].fuel+=ve:$e.type==="plane"?q[Ht].plane+=ve:$e.type==="train"&&(q[Ht].train+=ve)}});const Ue=((de.businessTrips||{trips:[]}).trips||[]).map(DC);Oe.push(...Ue);const we=de.sharedTrips||[];for(const $e of we){if(!$e.ownerId)continue;const ve=Je(We,"users",$e.ownerId),xt=await nt(ve);if(!xt.exists())continue;const Gn=(((B=xt.data().businessTrips)==null?void 0:B.trips)||[]).find(ae=>ae.id===$e.id);Gn&&Oe.push(DC(Gn))}}}Oe.forEach(re=>{if(fe.has(re.id))return;fe.add(re.id);const G=new Date(re.createdAt||new Date),Pe=U[G.getMonth()];re.invoices.forEach(de=>{var Ue;const Ee=(Ue=de.uploadedBy)==null?void 0:Ue.id;if(!(!Ee||!F.includes(Ee))){if(Bye(de)){const we=de.co2;q[Pe].fuel+=we,X.fuel+=we,ee+=we,W[Ee].totalCarbon+=we,W[Ee].fuelCarbon+=we,we>he.fuel.value&&(he.fuel={userId:Ee,value:we})}else if(zye(de)&&Array.isArray(de.co2))if(Array.isArray(de.transport_type)&&de.transport_type.length>0)de.transport_type.forEach((we,$e)=>{const ve=de.co2[$e]||0,xt=(we||"").toLowerCase();xt.includes("train")||xt==="train"||xt.includes("rail")?(q[Pe].train+=ve,X.train+=ve,ee+=ve,W[Ee].totalCarbon+=ve,W[Ee].trainCarbon+=ve,ve>he.train.value&&(he.train={userId:Ee,value:ve})):(q[Pe].plane+=ve,X.plane+=ve,ee+=ve,W[Ee].totalCarbon+=ve,W[Ee].planeCarbon+=ve,ve>he.plane.value&&(he.plane={userId:Ee,value:ve}))});else{const we=de.co2.reduce(($e,ve)=>$e+(ve||0),0);ee+=we,W[Ee].totalCarbon+=we,de.type==="plane"?(q[Pe].plane+=we,X.plane+=we,W[Ee].planeCarbon+=we,we>he.plane.value&&(he.plane={userId:Ee,value:we})):de.type==="train"&&(q[Pe].train+=we,X.train+=we,W[Ee].trainCarbon+=we,we>he.train.value&&(he.train={userId:Ee,value:we}))}}})});const ne=M.map(re=>{var G;return{...re,totalCarbon:((G=W[re.id])==null?void 0:G.totalCarbon)||0}}).sort((re,G)=>G.totalCarbon-re.totalCarbon),se={};for(const re in he){const G=he[re].userId;G&&(se[re]=G)}s(ne),c(W),f(ee),m(M.length>0?ee/M.length:0),b(X),S(q),E(se),a(!1)}catch($){console.error("Error fetching department data:",$),a(!1)}})()},[r]);const T=()=>{const k=o.length<=10?5:3,B=o.slice(0,k),$=o.slice(k),z=$.reduce((F,U)=>F+U.totalCarbon,0),V=["#F59E0B","#3B82F6","#10B981","#8B5CF6","#EC4899","#EF4444","#14B8A6","#F97316"],M=B.map((F,U)=>({name:F.name,value:F.totalCarbon,fill:V[U%V.length]}));return $.length>0&&M.push({name:`Others (${$.length} employees)`,value:z,fill:"#A1A1AA"}),M},P=()=>[{name:"Fuel",value:x.fuel,fill:"#F59E0B"},{name:"Plane",value:x.plane,fill:"#4A6FA5"},{name:"Train",value:x.train,fill:"#2D6A4F"}].filter(B=>B.value>0),I=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(B=>{var $,z,V;return{name:B,fuel:(($=C[B])==null?void 0:$.fuel)||0,plane:((z=C[B])==null?void 0:z.plane)||0,train:((V=C[B])==null?void 0:V.train)||0}}),N=(k,B)=>{if(!l[k])return 0;switch(B){case"fuel":return l[k].fuelCarbon;case"plane":return l[k].planeCarbon;case"train":return l[k].trainCarbon;default:return 0}},j=k=>o.find(B=>B.id===k);return i?p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-8",children:[p.jsx(GT,{className:"h-6 w-6 cursor-pointer",onClick:()=>t(-1)}),p.jsx("h1",{className:"text-2xl font-bold",children:"Department Dashboard"})]}),p.jsxs("div",{className:"animate-pulse space-y-4",children:[p.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"}),p.jsx("div",{className:"h-80 bg-gray-200 rounded-lg"}),p.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})]})]}):p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-8",children:[p.jsx(GT,{className:"h-6 w-6 cursor-pointer",onClick:()=>t(-1)}),p.jsxs("h1",{className:"text-2xl font-bold",children:[r," Department Dashboard"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[p.jsx(ho,{title:"Department Members",value:o.length.toString(),icon:p.jsx(nu,{className:"h-6 w-6"}),description:`Total employees in ${r}`}),p.jsx(ho,{title:"Total Department Carbon",value:`${Math.round(u).toLocaleString()} kg CO`,icon:p.jsx(Sa,{className:"h-6 w-6"}),description:`Combined emissions from ${r}`}),p.jsx(ho,{title:"Average Per Employee",value:`${Math.round(h).toLocaleString()} kg CO`,icon:p.jsx(Sa,{className:"h-6 w-6"}),description:"Average emissions per employee"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribution by Employee"}),p.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"Carbon emissions distribution across department employees."}),p.jsx(Nb,{data:T()})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Emissions"}),p.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"Department-wide carbon emissions by month from real trip data."}),p.jsx(SL,{data:I()})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Emissions by Category"}),p.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"Distribution of carbon emissions by source type."}),p.jsx(Nb,{data:P()})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Emitters by Category"}),p.jsx("div",{className:"space-y-4",children:Object.entries(A).map(([k,B])=>{const $=j(B);return $?p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${k==="fuel"?"bg-amber-500":k==="plane"?"bg-blue-700":"bg-lime-700"}`}),p.jsx("span",{className:"text-gray-700 capitalize font-medium",children:k})]}),p.jsx("span",{className:"text-sm text-gray-500",children:"Highest Impact"})]}),p.jsxs("div",{className:"mt-2 flex justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:$.name}),p.jsx("div",{className:"text-sm text-gray-600",children:$.jobPosition})]}),p.jsx("div",{className:"text-right",children:p.jsxs("div",{className:"font-medium",children:[Math.round(N(B,k)).toLocaleString()," kg CO"]})})]})]},k):null})})]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6 mb-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Top Emitters"}),p.jsx("button",{className:"text-primary-600 flex items-center text-sm font-medium",onClick:()=>w(!g),children:g?p.jsxs(p.Fragment,{children:["Hide ",p.jsx(S0,{className:"h-4 w-4 ml-1"})]}):p.jsxs(p.Fragment,{children:["Show ",p.jsx(E0,{className:"h-4 w-4 ml-1"})]})})]}),g&&p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carbon Footprint"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Breakdown"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.slice(0,5).map(k=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"font-medium text-gray-900",children:k.name})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:k.jobPosition}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:k.email}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-medium text-gray-900",children:[Math.round(k.totalCarbon).toLocaleString()," kg CO"]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:p.jsxs("div",{className:"flex justify-end space-x-1",children:[N(k.id,"fuel")>0&&p.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:["Fuel: ",Math.round(N(k.id,"fuel")).toLocaleString()]}),N(k.id,"plane")>0&&p.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Air: ",Math.round(N(k.id,"plane")).toLocaleString()]}),N(k.id,"train")>0&&p.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-lime-100 text-lime-600",children:["Rail: ",Math.round(N(k.id,"train")).toLocaleString()]})]})})]},k.id))})]})})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6 mb-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"All Department Members"}),p.jsx("button",{className:"text-primary-600 flex items-center text-sm font-medium",onClick:()=>v(!y),children:y?p.jsxs(p.Fragment,{children:["Hide ",p.jsx(S0,{className:"h-4 w-4 ml-1"})]}):p.jsxs(p.Fragment,{children:["Show ",p.jsx(E0,{className:"h-4 w-4 ml-1"})]})})]}),y&&p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carbon Footprint"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(k=>p.jsxs("tr",{children:[p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("div",{className:"font-medium text-gray-900",children:k.name}),k.role==="manager"&&p.jsx("div",{className:"text-xs text-primary-600 font-medium mt-1",children:"Manager"})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:k.jobPosition}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:k.email}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-medium text-gray-900",children:[Math.round(k.totalCarbon).toLocaleString()," kg CO"]})]},k.id))})]})})]})]})};function qye({children:t}){const{user:e,loading:n}=cr(),r=Ma();return D.useEffect(()=>{!n&&!e&&console.log("RequireAuth: No user detected, redirecting to login")},[e,n]),n?p.jsx("div",{className:"flex items-center justify-center h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?p.jsx(p.Fragment,{children:t}):p.jsx(kw,{to:"/auth",state:{from:r},replace:!0})}function Hye({children:t}){const{isManager:e,loading:n}=cr();return Ma(),n?p.jsx("div",{className:"flex items-center justify-center h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e()?p.jsx(p.Fragment,{children:t}):p.jsx(kw,{to:"/",replace:!0})}function Kye(){return p.jsx(C3,{children:p.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[p.jsx(p7,{}),p.jsx("main",{className:"flex-grow",children:p.jsxs(WT,{children:[p.jsx(kr,{path:"/auth",element:p.jsx(Vye,{})}),p.jsx(kr,{path:"/*",element:p.jsx(qye,{children:p.jsxs(WT,{children:[p.jsx(kr,{path:"/",element:p.jsx(Fve,{})}),p.jsx(kr,{path:"/trips",element:p.jsx(Vve,{})}),p.jsx(kr,{path:"/trips/new",element:p.jsx(Fye,{})}),p.jsx(kr,{path:"/trips/:id",element:p.jsx($ye,{})}),p.jsx(kr,{path:"/account",element:p.jsx(Uye,{})}),p.jsx(kr,{path:"/admin",element:p.jsx(Hye,{children:p.jsx(Wye,{})})}),p.jsx(kr,{path:"*",element:p.jsx(kw,{replace:!0,to:"/"})})]})})})]})}),p.jsx(m7,{})]})})}G2(document.getElementById("root")).render(p.jsx(D.StrictMode,{children:p.jsx(h7,{children:p.jsx(Kye,{})})}));
